{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Facebook Ads",
  "description": "The Facebook Ads connection is a connection to the Facebook Ads API",
  "type": "object",
  "properties": {
    "id": {
      "title": "Connection ID",
      "description": "Unique identifier for this connection",
      "type": "integer",
      "minimum": 1,
      "maximum": 9007199254740991,
      "examples": [1, 2, 10],
      "x-business-rules": [
        "Uniqueness constraint prevents conflicts and ensures each connection id can be unambiguously referenced",
        "Maximum enforced at JavaScript MAX_SAFE_INTEGER to prevent number precision loss in client applications"
      ],
      "x-user-stories": [
        "GIVEN a new entity is created WHEN the system assigns an ID THEN it should be unique within the parent collection",
        "GIVEN an entity exists WHEN attempting to modify its ID THEN the system should prevent changes (read-only constraint)",
        "GIVEN a client requests an entity by ID WHEN the ID is valid THEN the entity should be retrieved successfully"
      ]
    },
    "name": {
      "title": "Connection Name",
      "description": "Human-readable name for this connection to identify it in your application",
      "type": "string",
      "minLength": 1,
      "examples": ["Facebook Business Manager", "Lead Ads Account", "Social Media Campaigns"],
      "x-business-rules": [
        "Human-readable name for this connection to identify it in your application"
      ],
      "x-user-stories": [
        "GIVEN user provides name with at least 1 characters WHEN validating input THEN value should be accepted",
        "GIVEN user provides name shorter than 1 chars WHEN validating input THEN error should require minimum length"
      ]
    },
    "clientId": {
      "title": "App ID",
      "description": "The Facebook App ID from Meta for Developers. Create an app in the Facebook App Dashboard.",
      "type": "string",
      "minLength": 1,
      "examples": ["123456789012345"],
      "x-business-rules": ["The Facebook App ID from Meta for Developers"],
      "x-user-stories": [
        "GIVEN a new entity is created WHEN the system assigns an ID THEN it should be unique within the parent collection",
        "GIVEN an entity exists WHEN attempting to modify its ID THEN the system should prevent changes (read-only constraint)",
        "GIVEN a client requests an entity by ID WHEN the ID is valid THEN the entity should be retrieved successfully"
      ]
    },
    "clientSecret": {
      "title": "App Secret",
      "description": "The Facebook App Secret from Meta for Developers. Keep this secure and never expose it in client-side code.",
      "type": "string",
      "minLength": 1,
      "examples": ["abc123def456ghi789jkl012mno345"],
      "x-business-rules": ["The Facebook App Secret from Meta for Developers"],
      "x-user-stories": [
        "GIVEN a user connects external service WHEN providing OAuth client secret THEN authentication should succeed with valid credentials",
        "GIVEN invalid OAuth client secret WHEN attempting authentication THEN system should return clear error message",
        "GIVEN stored client secret WHEN automation executes THEN credentials should be used securely without exposure"
      ]
    },
    "service": {
      "title": "Service Type",
      "description": "The type of service this connection integrates with",
      "type": "string",
      "const": "facebook-ads",
      "x-business-rules": [
        "Fixed value (facebook-ads) identifies this specific root.properties.connections.items.anyOf.4.properties.service type in discriminated unions and routing logic"
      ],
      "x-user-stories": [
        "GIVEN entity with service='facebook-ads' WHEN processing configuration THEN correct handler should be selected",
        "GIVEN invalid service value WHEN validating configuration THEN clear error message should identify the issue"
      ]
    }
  },
  "required": ["id", "name", "clientId", "clientSecret", "service"],
  "additionalProperties": false,
  "x-user-stories": [
    "GIVEN the application is running WHEN I connect to facebook THEN it should work correctly"
  ],
  "x-business-rules": [
    "Object structure groups related facebook ads properties for better organization and type-safe access"
  ]
}
