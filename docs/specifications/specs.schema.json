{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Application Configuration",
  "description": "Complete configuration for your application including metadata, data models, automations, and integrations",
  "version": "1.0.0",
  "type": "object",
  "definitions": {},
  "properties": {
    "name": {
      "type": "string",
      "description": "The name of the application (follows npm package naming conventions)",
      "title": "Application Name",
      "minLength": 1,
      "maxLength": 214,
      "examples": ["my-app", "todo-app", "@myorg/my-app", "blog-system", "dashboard-admin"],
      "pattern": "^(?:@[a-z0-9-~][a-z0-9-._~]*\\/)?[a-z0-9-~][a-z0-9-._~]*$",
      "x-business-rules": [
        "Pattern constraint enforces data format consistency and error prevention, rejecting invalid formats before they cause system errors",
        "Length limits ensure application name fits within storage constraints and UI display areas without truncation"
      ],
      "x-user-stories": [
        "GIVEN a server configured with a specific app name WHEN user navigates to the homepage THEN the app name should be displayed as the main h1 heading",
        "GIVEN an app with name 'my-dashboard' WHEN user navigates to the homepage THEN browser title should be '{name} - Powered by Omnera'",
        "GIVEN an app with single-character name 'a' WHEN user navigates to the homepage THEN single character should be displayed as heading",
        "GIVEN an app with 214-character name (npm package max length) WHEN user navigates to the homepage THEN full name should be displayed without truncation",
        "GIVEN an app with scoped package name '@myorg/dashboard' WHEN user navigates to the homepage THEN full scoped name including @ and / should be displayed",
        "GIVEN an app with hyphenated name 'user-management-system' WHEN user navigates to the homepage THEN name with hyphens should be displayed exactly",
        "GIVEN an app with underscored name 'user_dashboard_app' WHEN user navigates to the homepage THEN name with underscores should be displayed exactly",
        "GIVEN an app with dotted name 'app.dashboard.v2' WHEN user navigates to the homepage THEN name with dots should be displayed exactly",
        "GIVEN an app with complex name '@scope/my-app_v2.beta-test' WHEN user navigates to the homepage THEN all special characters should be preserved",
        "GIVEN an app with name 'accessibility-test' WHEN user navigates to the homepage THEN page should have exactly one h1 element (primary heading)",
        "GIVEN an app with name 'semantic-html-test' WHEN user navigates to the homepage THEN h1 should be the first heading level on the page",
        "GIVEN an app with name 'layout-test' WHEN user navigates to the homepage THEN h1 heading should be centered horizontally",
        "GIVEN an app with name 'visibility-test' WHEN user navigates to the homepage THEN h1 heading should be visible and not hidden",
        "GIVEN an app with name 'my-app-2024' WHEN user navigates to the homepage THEN text content should exactly match input (no sanitization beyond React defaults)",
        "GIVEN an app with single-character name 'x' WHEN user navigates to the homepage THEN page title should be 'x - Powered by Omnera'",
        "GIVEN an app with scoped name '@company/product' WHEN user navigates to the homepage THEN page title should preserve @ symbol and forward slash",
        "GIVEN an app with name 'typography-test' WHEN user navigates to the homepage THEN h1 should use TypographyH1 component styling (large font size)",
        "GIVEN two different test runs with different app names WHEN user navigates to each homepage THEN each should display its respective app name",
        "GIVEN an app with name containing tilde 'app~test' WHEN user navigates to the homepage THEN tilde should be displayed in heading",
        "GIVEN an app with complex scoped name '@my-org.team/product-v2' WHEN user navigates to the homepage THEN full scoped name with dots and hyphens should be displayed",
        "GIVEN an app with complex scoped package name containing all valid characters WHEN user navigates to the homepage THEN all name display requirements should be met (display, metadata, special characters, accessibility, styling)"
      ]
    },
    "description": {
      "type": "string",
      "description": "A single-line description of the application (line breaks not allowed)",
      "title": "Application Description",
      "examples": [
        "A simple application",
        "My app - with special characters!@#$%",
        "TrÃ¨s bien! ä½ å¥½ ðŸŽ‰",
        "Full-featured e-commerce platform with cart, checkout & payment processing"
      ],
      "pattern": "^[^\\r\\n]*$",
      "x-business-rules": [
        "Pattern constraint enforces data format consistency and error prevention, rejecting invalid formats before they cause system errors"
      ],
      "x-user-stories": [
        "GIVEN an app with name and description WHEN user navigates to the homepage THEN description should be visible below the app name",
        "GIVEN an app with only name (no description property) WHEN user navigates to the homepage THEN description element should NOT be rendered",
        "GIVEN an app with name and description WHEN user navigates to the homepage THEN description MUST appear AFTER the h1 title in DOM order",
        "GIVEN an app with description containing special characters WHEN user navigates to the homepage THEN special characters should be displayed correctly",
        "GIVEN an app with description containing Unicode and emojis WHEN user navigates to the homepage THEN Unicode characters and emojis should be displayed correctly",
        "GIVEN an app with very long description (500+ characters) WHEN user navigates to the homepage THEN description should wrap properly and remain visible",
        "GIVEN an app with empty string description (not undefined) WHEN user navigates to the homepage THEN description element should NOT be rendered",
        "GIVEN an app with description WHEN user navigates to the homepage THEN description should be rendered as a paragraph (<p>) element",
        "GIVEN an app with description WHEN user navigates to the homepage THEN description should be centered horizontally",
        "GIVEN an app with description WHEN user navigates to the homepage THEN description should be visible and in viewport",
        "GIVEN an app with description containing mixed case, special chars, and whitespace WHEN user navigates to the homepage THEN text content should exactly match input (no transformation)",
        "GIVEN an app with version, name, and description WHEN user navigates to the homepage THEN all elements should appear in correct order: version â†’ title â†’ description",
        "GIVEN an app with very long description (1000+ characters) WHEN user navigates to the homepage THEN full description should be displayed without truncation",
        "GIVEN an app with description containing HTML-like tags WHEN user navigates to the homepage THEN HTML tags should be escaped and displayed as text (not rendered as HTML)",
        "GIVEN an app with name and description WHEN user navigates to the homepage THEN there should be appropriate spacing between title and description"
      ]
    },
    "version": {
      "type": "string",
      "description": "The version of the application following Semantic Versioning (SemVer) 2.0.0 specification",
      "title": "Application Version",
      "minLength": 5,
      "examples": [
        "1.0.0",
        "0.0.1",
        "1.2.3",
        "1.0.0-alpha",
        "1.0.0-beta.1",
        "2.0.0-rc.1",
        "1.0.0+build.123",
        "1.0.0-alpha+001"
      ],
      "pattern": "^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$",
      "x-business-rules": [
        "Pattern constraint enforces data format consistency and error prevention, rejecting invalid formats before they cause system errors",
        "Minimum 5 characters ensures application version is sufficiently descriptive for user identification and debugging"
      ],
      "x-user-stories": [
        "GIVEN an app with name and simple SemVer version '1.0.0' WHEN user navigates to the homepage THEN version badge should be visible with correct version text",
        "GIVEN an app with only name (no version property) WHEN user navigates to the homepage THEN version badge should NOT be rendered",
        "GIVEN an app with pre-release version '2.0.0-beta.1' WHEN user navigates to the homepage THEN badge should display pre-release version exactly as specified",
        "GIVEN an app with build metadata in version '1.0.0+build.123' WHEN user navigates to the homepage THEN badge should display version with build metadata intact",
        "GIVEN an app with both pre-release and build metadata '1.0.0-alpha+001' WHEN user navigates to the homepage THEN badge should display complete version string",
        "GIVEN an app with name and version WHEN user navigates to the homepage THEN badge should appear before (above) the app name heading",
        "GIVEN an app with version WHEN user navigates to the homepage THEN badge should have proper accessibility attributes (data-testid, data-slot)"
      ]
    },
    "tables": {
      "$ref": "./schemas/tables/tables.schema.json"
    },
    "pages": {
      "$ref": "./schemas/pages/pages.schema.json"
    },
    "automations": {
      "$ref": "./schemas/automations/automations.schema.json"
    },
    "connections": {
      "$ref": "./schemas/connections/connections.schema.json"
    }
  },
  "required": ["name", "description", "version", "tables", "pages", "automations", "connections"],
  "additionalProperties": false,
  "x-business-rules": [
    "Object structure groups related application configuration properties for better organization and type-safe access"
  ]
}
