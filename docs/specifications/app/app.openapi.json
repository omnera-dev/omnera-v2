{
  "openapi": "3.1.0",
  "info": {
    "title": "Omnera API",
    "version": "0.0.1",
    "description": "REST API specification for Omnera application. This is the main OpenAPI schema that serves as the orchestrator for all API domains.\n\n**Multi-File OpenAPI Structure**: This specification is split across multiple domain-specific files:\n- **app.openapi.json** (this file): Infrastructure endpoints (health, metrics)\n- **tables/tables.openapi.json**: Table configuration and record management endpoints\n\nEach domain file is a complete, standalone OpenAPI specification that can be used independently for testing and documentation generation.",
    "x-related-specs": [
      {
        "name": "Tables API",
        "path": "./tables/tables.openapi.json",
        "description": "Table configuration and record management endpoints (GET/POST/PATCH/DELETE /api/tables and /api/tables/{id}/records)"
      }
    ]
  },
  "servers": [
    {
      "url": "http://localhost:3000",
      "description": "Development server"
    }
  ],
  "paths": {
    "/health": {
      "get": {
        "summary": "Health check endpoint",
        "description": "Returns server health status. Used by monitoring tools and E2E tests to verify server is running.",
        "operationId": "healthCheck",
        "tags": ["infrastructure"],
        "responses": {
          "200": {
            "description": "Server is healthy",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["ok"],
                      "example": "ok"
                    }
                  }
                },
                "examples": {
                  "healthy": {
                    "value": {
                      "status": "ok"
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Error": {
        "type": "object",
        "required": ["error"],
        "properties": {
          "error": {
            "type": "string",
            "description": "Human-readable error message"
          },
          "code": {
            "type": "string",
            "description": "Machine-readable error code"
          },
          "details": {
            "type": "object",
            "description": "Additional error details",
            "additionalProperties": true
          }
        }
      }
    }
  },
  "tags": [
    {
      "name": "infrastructure",
      "description": "Infrastructure endpoints (health, metrics)"
    }
  ]
}
