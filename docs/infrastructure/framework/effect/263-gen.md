## gen

Similar to [Effect.gen](/docs/getting-started/using-generators/), `Either.gen` provides a more readable, generator-based syntax for working with `Either` values, making code that involves `Either` easier to write and understand. This approach is similar to using `async/await` but tailored for `Either`.

**Example** (Using `Either.gen` to Create a Combined Value)

```ts twoslash
import { Either } from 'effect'

const maybeName: Either.Either<string, string> = Either.right('John')
const maybeAge: Either.Either<number, string> = Either.right(25)

const program = Either.gen(function* () {
  const name = (yield* maybeName).toUpperCase()
  const age = yield* maybeAge
  return { name, age }
})

console.log(program)
/*
Output:
{ _id: 'Either', _tag: 'Right', right: { name: 'JOHN', age: 25 } }
*/
```

When any of the `Either` values in the sequence is `Left`, the generator immediately returns the `Left` value, skipping further operations:

**Example** (Handling a `Left` Value with `Either.gen`)

In this example, `Either.gen` halts execution as soon as it encounters the `Left` value, effectively propagating the error without performing further operations.

```ts twoslash
import { Either } from 'effect'

const maybeName: Either.Either<string, string> = Either.left('Oh no!')
const maybeAge: Either.Either<number, string> = Either.right(25)

const program = Either.gen(function* () {
  console.log('Retrieving name...')
  const name = (yield* maybeName).toUpperCase()
  console.log('Retrieving age...')
  const age = yield* maybeAge
  return { name, age }
})

console.log(program)
/*
Output:
Retrieving name...
{ _id: 'Either', _tag: 'Left', left: 'Oh no!' }
*/
```

The use of `console.log` in these example is for demonstration purposes only. When using `Either.gen`, avoid including side effects in your generator functions, as `Either` should remain a pure data structure.

# [Exit](https://effect.website/docs/data-types/exit/)
