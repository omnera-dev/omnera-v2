{
  "$id": "fields.schema.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Primary Key Fields",
  "description": "Field names for composite primary key. Only used when type is 'composite'. The combination of these fields must be unique.",
  "type": "array",
  "items": {
    "type": "string",
    "minLength": 1
  },
  "minItems": 2,
  "examples": [
    ["tenant_id", "user_id"],
    ["order_id", "product_id"]
  ],
  "specs": [
    {
      "id": "APP-TABLES-PRIMARYKEY-FIELDS-001",
      "given": "user provides fields with at least 2 items",
      "when": "validating input",
      "then": "array should be accepted"
    },
    {
      "id": "APP-TABLES-PRIMARYKEY-FIELDS-002",
      "given": "user provides fields with fewer than 2 items",
      "when": "validating input",
      "then": "error should enforce minimum items"
    }
  ]
}
