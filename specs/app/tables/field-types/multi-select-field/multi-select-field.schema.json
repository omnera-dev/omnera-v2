{
  "$id": "multi-select-field.schema.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Multi Select Field",
  "type": "object",
  "properties": {
    "id": {
      "$ref": "../../../common/definitions.schema.json#/definitions/id"
    },
    "name": {
      "$ref": "../../../common/definitions.schema.json#/definitions/name"
    },
    "required": {
      "$ref": "../common/required/required.schema.json"
    },
    "indexed": {
      "$ref": "../common/indexed/indexed.schema.json"
    },
    "type": {
      "type": "string",
      "const": "multi-select"
    },
    "options": {
      "$ref": "./options/options.schema.json"
    },
    "maxSelections": {
      "$ref": "./maxSelections/maxSelections.schema.json"
    },
    "default": {
      "$ref": "./default/default.schema.json"
    }
  },
  "description": "Multiple selection field allowing users to choose zero or more options from a predefined list. Displays as checkboxes or multi-select dropdown. Useful for tags, categories, features, skills, and attributes that can have multiple values. Supports maxSelections constraint to limit number of choices. Requires at least one option. Stores values as an array.",
  "required": ["id", "name", "type", "options"],
  "additionalProperties": false,
  "x-specs": [
    {
      "id": "APP-MULTI-SELECT-FIELD-001",
      "given": "entity with type='multi-select'",
      "when": "processing configuration",
      "then": "correct handler should be selected"
    },
    {
      "id": "APP-MULTI-SELECT-FIELD-002",
      "given": "invalid type value",
      "when": "validating configuration",
      "then": "clear error message should identify the issue"
    }
  ]
}
