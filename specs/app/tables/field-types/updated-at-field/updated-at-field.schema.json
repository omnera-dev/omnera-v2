{
  "$id": "updated-at-field.schema.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Updated At Field",
  "type": "object",
  "properties": {
    "id": {
      "$ref": "../../../common/definitions.schema.json#/definitions/id"
    },
    "name": {
      "$ref": "../../../common/definitions.schema.json#/definitions/name"
    },
    "type": {
      "type": "string",
      "const": "updated-at"
    },
    "indexed": {
      "$ref": "../common/indexed/indexed.schema.json"
    }
  },
  "description": "Automatically updated timestamp whenever record is modified. Read-only field that updates to current server time on every save operation. Always uses UTC. Automatically indexed for sorting by recency. Useful for audit trails, showing last modification time, and detecting stale data. Displays as formatted datetime in UI.",
  "required": ["id", "name", "type"],
  "additionalProperties": false,
  "specs": [
    {
      "id": "APP-UPDATED-AT-FIELD-001",
      "given": "entity with type='updated-at'",
      "when": "processing configuration",
      "then": "correct handler should be selected"
    },
    {
      "id": "APP-UPDATED-AT-FIELD-002",
      "given": "invalid type value",
      "when": "validating configuration",
      "then": "clear error message should identify the issue"
    }
  ]
}
