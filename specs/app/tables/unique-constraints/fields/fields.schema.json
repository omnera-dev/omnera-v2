{
  "$id": "fields.schema.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Unique Constraint Fields",
  "description": "Field names that must be unique together. The combination of values in these fields must be unique across all rows.",
  "type": "array",
  "items": {
    "type": "string",
    "minLength": 1
  },
  "minItems": 2,
  "examples": [
    ["email", "tenant_id"],
    ["first_name", "last_name", "birth_date"]
  ],
  "specs": [
    {
      "id": "APP-TABLES-UNIQUECONSTRAINTS-FIELDS-001",
      "given": "user provides fields with at least 2 items",
      "when": "validating input",
      "then": "array should be accepted"
    },
    {
      "id": "APP-TABLES-UNIQUECONSTRAINTS-FIELDS-002",
      "given": "user provides fields with fewer than 2 items",
      "when": "validating input",
      "then": "error should enforce minimum items"
    }
  ]
}
