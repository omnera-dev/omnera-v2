{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "scroll-interaction.schema.json",
  "title": "Scroll Interaction",
  "description": "Animations triggered when component enters viewport",
  "type": "object",
  "properties": {
    "animation": {
      "type": "string",
      "enum": [
        "fadeIn",
        "fadeInUp",
        "fadeInDown",
        "fadeInLeft",
        "fadeInRight",
        "zoomIn",
        "slideInUp",
        "slideInDown"
      ],
      "description": "Animation type"
    },
    "threshold": {
      "type": "number",
      "minimum": 0,
      "maximum": 1,
      "default": 0.1,
      "description": "Percentage of element visible before triggering (0-1)"
    },
    "delay": {
      "type": "string",
      "pattern": "^[0-9]+(ms|s)$",
      "description": "Delay before animation starts",
      "examples": ["0ms", "100ms", "0.5s"]
    },
    "duration": {
      "type": "string",
      "pattern": "^[0-9]+(ms|s)$",
      "default": "600ms",
      "description": "Animation duration"
    },
    "once": {
      "type": "boolean",
      "default": true,
      "description": "Trigger animation only once"
    }
  },
  "required": ["animation"],
  "additionalProperties": false,
  "examples": [
    {
      "animation": "fadeInUp",
      "threshold": 0.2,
      "delay": "100ms",
      "duration": "600ms",
      "once": true
    }
  ],
  "x-specs": [
    {
      "id": "APP-PAGES-INTERACTION-SCROLL-001",
      "given": "a component with scroll animation 'fadeInUp'",
      "when": "component enters the viewport",
      "then": "it should fade in while moving up",
      "application": {
        "component": { "type": "div", "interactions": { "scroll": { "animation": "fadeInUp" } } },
        "behavior": "Enters viewport → Fade in + translate upward (opacity: 0 → 1, translateY: +20px → 0)",
        "assertions": [
          "animation: 'fadeInUp' (required)",
          "Viewport detection via Intersection Observer",
          "Default threshold: 0.1 (10%)"
        ]
      }
    },
    {
      "id": "APP-PAGES-INTERACTION-SCROLL-002",
      "given": "a component with scroll animation 'fadeIn'",
      "when": "component enters the viewport",
      "then": "it should fade in smoothly",
      "application": {
        "component": { "type": "div", "interactions": { "scroll": { "animation": "fadeIn" } } },
        "behavior": "Enters viewport → Fade in (opacity: 0 → 1)",
        "assertions": [
          "animation: 'fadeIn' enum value",
          "Simple opacity transition",
          "Default duration: 600ms"
        ]
      }
    },
    {
      "id": "APP-PAGES-INTERACTION-SCROLL-003",
      "given": "a component with scroll animation 'zoomIn'",
      "when": "component enters the viewport",
      "then": "it should zoom in from small to normal size",
      "application": {
        "component": { "type": "div", "interactions": { "scroll": { "animation": "zoomIn" } } },
        "behavior": "Enters viewport → Zoom in (scale: 0.8 → 1.0)",
        "assertions": [
          "animation: 'zoomIn' enum value",
          "Scale transformation",
          "Attention-grabbing effect"
        ]
      }
    },
    {
      "id": "APP-PAGES-INTERACTION-SCROLL-004",
      "given": "a component with scroll animation 'fadeInLeft'",
      "when": "component enters the viewport",
      "then": "it should fade in while sliding from the left",
      "application": {
        "component": { "type": "div", "interactions": { "scroll": { "animation": "fadeInLeft" } } },
        "behavior": "Enters viewport → Fade in + translate from left (opacity: 0 → 1, translateX: -20px → 0)",
        "assertions": [
          "animation: 'fadeInLeft' enum value",
          "Horizontal slide effect",
          "Directional animation"
        ]
      }
    },
    {
      "id": "APP-PAGES-INTERACTION-SCROLL-005",
      "given": "a component with threshold 0.1 (10% visible)",
      "when": "10% of component becomes visible",
      "then": "it should trigger the animation",
      "application": {
        "component": {
          "type": "div",
          "interactions": { "scroll": { "animation": "fadeIn", "threshold": 0.1 } }
        },
        "behavior": "10% visible → Animation triggers (early trigger)",
        "assertions": [
          "threshold: 0.1 (default)",
          "Triggers early (component barely visible)",
          "Used for: below-the-fold content"
        ]
      }
    },
    {
      "id": "APP-PAGES-INTERACTION-SCROLL-006",
      "given": "a component with threshold 0.5 (50% visible)",
      "when": "50% of component becomes visible",
      "then": "it should trigger the animation",
      "application": {
        "component": {
          "type": "div",
          "interactions": { "scroll": { "animation": "fadeIn", "threshold": 0.5 } }
        },
        "behavior": "50% visible → Animation triggers (half-visible)",
        "assertions": [
          "threshold: 0.5 (mid-point)",
          "Balanced trigger point",
          "Used for: centered elements"
        ]
      }
    },
    {
      "id": "APP-PAGES-INTERACTION-SCROLL-007",
      "given": "a component with threshold 1.0 (fully visible)",
      "when": "100% of component becomes visible",
      "then": "it should trigger the animation",
      "application": {
        "component": {
          "type": "div",
          "interactions": { "scroll": { "animation": "fadeIn", "threshold": 1.0 } }
        },
        "behavior": "100% visible → Animation triggers (completely visible)",
        "assertions": [
          "threshold: 1.0 (maximum)",
          "Triggers only when fully in viewport",
          "Used for: critical content"
        ]
      }
    },
    {
      "id": "APP-PAGES-INTERACTION-SCROLL-008",
      "given": "a component with delay '200ms'",
      "when": "component enters the viewport",
      "then": "it should wait 200ms before starting the animation",
      "application": {
        "component": {
          "type": "div",
          "interactions": { "scroll": { "animation": "fadeIn", "delay": "200ms" } }
        },
        "timeline": "Enters viewport → Wait 200ms → Animation starts",
        "assertions": [
          "delay: '200ms' (pattern: ^[0-9]+(ms|s)$)",
          "Delayed animation",
          "Used for: staggered sequences"
        ]
      }
    },
    {
      "id": "APP-PAGES-INTERACTION-SCROLL-009",
      "given": "a component with duration '1000ms'",
      "when": "animation starts",
      "then": "it should complete the animation in 1 second",
      "application": {
        "component": {
          "type": "div",
          "interactions": { "scroll": { "animation": "fadeIn", "duration": "1000ms" } }
        },
        "behavior": "Slower animation: 1000ms (vs default 600ms)",
        "assertions": ["duration: '1000ms'", "Default: 600ms", "Control animation speed"]
      }
    },
    {
      "id": "APP-PAGES-INTERACTION-SCROLL-010",
      "given": "a component with once set to true",
      "when": "component enters viewport multiple times",
      "then": "it should animate only on the first entry",
      "application": {
        "component": {
          "type": "div",
          "interactions": { "scroll": { "animation": "fadeIn", "once": true } }
        },
        "behavior": "First entry: Animates. Subsequent entries: No animation (default behavior)",
        "assertions": [
          "once: true (default)",
          "Animation plays only once",
          "Performance optimization"
        ]
      }
    },
    {
      "id": "APP-PAGES-INTERACTION-SCROLL-011",
      "given": "a component with once set to false",
      "when": "component enters viewport multiple times",
      "then": "it should animate every time it enters the viewport",
      "application": {
        "component": {
          "type": "div",
          "interactions": { "scroll": { "animation": "fadeIn", "once": false } }
        },
        "behavior": "Every entry: Animation replays",
        "assertions": [
          "once: false (repeatable)",
          "Animation replays on every viewport entry",
          "Used for: attention-grabbing effects"
        ]
      }
    },
    {
      "id": "APP-PAGES-INTERACTION-SCROLL-012",
      "given": "a component with animation, threshold, delay, and duration all configured",
      "when": "component reaches the threshold visibility",
      "then": "it should apply all settings in sequence (wait delay, then animate with duration)",
      "application": {
        "component": {
          "type": "div",
          "interactions": {
            "scroll": {
              "animation": "fadeInUp",
              "threshold": 0.3,
              "delay": "100ms",
              "duration": "800ms",
              "once": true
            }
          }
        },
        "timeline": [
          "30% visible (threshold)",
          "Wait 100ms (delay)",
          "fadeInUp animation (800ms duration)",
          "Complete"
        ],
        "totalTime": "900ms (100ms delay + 800ms duration)",
        "assertions": [
          "All properties configured",
          "Full control: trigger point + timing + behavior",
          "Complete configuration"
        ]
      }
    },
    {
      "id": "APP-PAGES-INTERACTIONS-SCROLL-INTERACTION-REGRESSION-001",
      "given": "complete application configuration with all features",
      "when": "user completes full workflow",
      "then": "user can complete full scroll interaction workflow"
    }
  ]
}
