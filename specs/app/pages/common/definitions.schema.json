{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "definitions.schema.json",
  "title": "Common Definitions",
  "description": "Shared type definitions used across page schemas",
  "definitions": {
    "nonEmptyString": {
      "type": "string",
      "minLength": 1,
      "description": "A non-empty string value"
    },
    "kebabCase": {
      "type": "string",
      "pattern": "^[a-z][a-z0-9]*(-[a-z0-9]+)*$",
      "description": "Lowercase kebab-case identifier (e.g., 'my-component')"
    },
    "variableName": {
      "type": "string",
      "pattern": "^[a-zA-Z][a-zA-Z0-9]*$",
      "description": "Valid variable name (e.g., 'myVariable')"
    },
    "variableReference": {
      "type": "string",
      "pattern": ".*\\$[a-zA-Z][a-zA-Z0-9]*.*",
      "description": "String containing variable references (e.g., 'Text with $variable')"
    },
    "hexColor": {
      "type": "string",
      "pattern": "^#[0-9A-Fa-f]{6}$",
      "description": "6-digit hex color code (e.g., '#FF0000')"
    },
    "url": {
      "type": "string",
      "format": "uri",
      "pattern": "^https?://",
      "description": "Valid HTTP or HTTPS URL"
    },
    "relativePath": {
      "type": "string",
      "pattern": "^\\.{1,2}/",
      "description": "Relative file path (e.g., './public/logo.svg', '../images/hero.jpg')"
    },
    "emailAddress": {
      "type": "string",
      "format": "email",
      "description": "Valid email address"
    },
    "className": {
      "type": "string",
      "description": "Tailwind CSS class names"
    },
    "iconName": {
      "type": "string",
      "enum": [
        "arrow-right",
        "arrow-left",
        "arrow-up",
        "arrow-down",
        "check",
        "check-circle",
        "x",
        "x-circle",
        "plus",
        "minus",
        "search",
        "filter",
        "menu",
        "settings",
        "user",
        "users",
        "heart",
        "star",
        "bookmark",
        "share",
        "clock",
        "calendar",
        "map-pin",
        "globe",
        "mail",
        "phone",
        "message",
        "chat",
        "home",
        "building",
        "briefcase",
        "shopping-cart",
        "download",
        "upload",
        "file",
        "folder",
        "lock",
        "unlock",
        "shield",
        "key",
        "eye",
        "eye-off",
        "edit",
        "trash",
        "play",
        "pause",
        "stop",
        "skip",
        "volume",
        "mic",
        "camera",
        "image",
        "sun",
        "moon",
        "cloud",
        "lightning",
        "gift",
        "trophy",
        "flag",
        "bell",
        "help-circle",
        "info",
        "alert-circle",
        "alert-triangle",
        "chevron-right",
        "chevron-left",
        "chevron-up",
        "chevron-down",
        "external-link",
        "link",
        "code",
        "terminal",
        "graduation-cap",
        "book",
        "lightbulb",
        "target",
        "hand",
        "vote",
        "gem",
        "sprout"
      ],
      "description": "Icon name from the icon library"
    },
    "dimensions": {
      "type": "object",
      "properties": {
        "width": {
          "type": "integer",
          "minimum": 1,
          "description": "Width in pixels"
        },
        "height": {
          "type": "integer",
          "minimum": 1,
          "description": "Height in pixels"
        }
      },
      "required": ["width", "height"]
    }
  },
  "x-specs": [
    {
      "id": "APP-PAGES-DEFINITIONS-001",
      "given": "a non-empty string",
      "when": "value is 'hello'",
      "then": "it should validate as nonEmptyString",
      "application": {
        "examples": ["hello", "world", "any text"],
        "pattern": {"minLength": 1},
        "assertions": ["Non-empty: Rejects empty strings ''", "Used for: names, titles, descriptions"]
      }
    },
    {
      "id": "APP-PAGES-DEFINITIONS-002",
      "given": "a kebab-case string",
      "when": "value is 'my-component-name'",
      "then": "it should validate as kebabCase pattern",
      "application": {
        "valid": ["my-component", "user-profile", "blog-post-123"],
        "invalid": ["MyComponent", "my_component", "my component"],
        "pattern": "^[a-z][a-z0-9]*(-[a-z0-9]+)*$",
        "assertions": ["Lowercase only", "Hyphens separate words", "Used for: IDs, slugs, CSS classes"]
      }
    },
    {
      "id": "APP-PAGES-DEFINITIONS-003",
      "given": "a variable name",
      "when": "value is 'myVariable123'",
      "then": "it should validate as variableName pattern",
      "application": {
        "valid": ["myVariable", "userName123", "ItemCount"],
        "invalid": ["my-variable", "123user", "$name"],
        "pattern": "^[a-zA-Z][a-zA-Z0-9]*$",
        "assertions": ["Starts with letter", "camelCase or PascalCase", "Used for: JavaScript identifiers"]
      }
    },
    {
      "id": "APP-PAGES-DEFINITIONS-004",
      "given": "a string with variable reference",
      "when": "value is 'Welcome to $siteName'",
      "then": "it should validate as variableReference pattern",
      "application": {
        "examples": ["Welcome to $siteName", "Hello $userName!", "Total: $count items"],
        "pattern": ".*\\$[a-zA-Z][a-zA-Z0-9]*.*",
        "substitution": {"before": "Welcome to $siteName", "after": "Welcome to Omnera", "vars": {"siteName": "Omnera"}},
        "assertions": ["Contains $variable placeholder", "Runtime substitution", "Used for: dynamic text"]
      }
    },
    {
      "id": "APP-PAGES-DEFINITIONS-005",
      "given": "a 6-digit hex color",
      "when": "value is '#FF5733'",
      "then": "it should validate as hexColor pattern",
      "application": {
        "valid": ["#FF5733", "#000000", "#FFFFFF", "#1a2b3c"],
        "invalid": ["#FFF", "#GGGGGG", "FF5733", "rgb(255,87,51)"],
        "pattern": "^#[0-9A-Fa-f]{6}$",
        "assertions": ["6-digit hex format", "Case-insensitive", "Used for: theme colors, styling"]
      }
    },
    {
      "id": "APP-PAGES-DEFINITIONS-006",
      "given": "an HTTP URL",
      "when": "value is 'https://example.com/path'",
      "then": "it should validate as url with http/https protocol",
      "application": {
        "valid": ["https://example.com", "http://localhost:3000", "https://api.example.com/v1/users"],
        "invalid": ["example.com", "ftp://files.com", "//cdn.example.com"],
        "pattern": "^https?://",
        "assertions": ["HTTP or HTTPS only", "Full URL required", "Used for: external links, API endpoints"]
      }
    },
    {
      "id": "APP-PAGES-DEFINITIONS-007",
      "given": "a relative path",
      "when": "value is './public/logo.svg'",
      "then": "it should validate as relativePath pattern",
      "application": {
        "valid": ["./public/logo.svg", "../images/hero.jpg", "./assets/icon.png"],
        "invalid": ["/absolute/path", "https://example.com/file", "file.svg"],
        "pattern": "^\\.{1,2}/",
        "assertions": ["Starts with ./ or ../", "Relative to current file", "Used for: local assets"]
      }
    },
    {
      "id": "APP-PAGES-DEFINITIONS-008",
      "given": "an email address",
      "when": "value is 'user@example.com'",
      "then": "it should validate as emailAddress format",
      "application": {
        "valid": ["user@example.com", "john.doe+tag@company.co.uk", "admin@localhost"],
        "invalid": ["user@", "@example.com", "user@.com", "user example.com"],
        "format": "email",
        "assertions": ["Standard email format", "RFC 5322 compliant", "Used for: contact forms, user accounts"]
      }
    },
    {
      "id": "APP-PAGES-DEFINITIONS-009",
      "given": "Tailwind CSS classes",
      "when": "value is 'text-center bg-blue-500 p-4'",
      "then": "it should validate as className",
      "application": {
        "examples": ["text-center bg-blue-500 p-4", "flex items-center justify-between", "w-full max-w-7xl mx-auto"],
        "usage": {"component": {"type": "div", "props": {"className": "text-center bg-blue-500 p-4"}}},
        "assertions": ["Any string accepted", "Tailwind utility classes", "Used for: styling components"]
      }
    },
    {
      "id": "APP-PAGES-DEFINITIONS-010",
      "given": "an icon from the icon library",
      "when": "value is 'arrow-right'",
      "then": "it should validate as iconName enum",
      "application": {
        "valid": ["arrow-right", "check", "user", "star", "heart", "settings"],
        "invalid": ["custom-icon", "my-icon", "icon-123"],
        "iconLibrary": {"count": "70+", "categories": ["arrows", "actions", "social", "ui"]},
        "assertions": ["Enum-based validation", "Predefined icon set", "Used for: UI icons, buttons"]
      }
    },
    {
      "id": "APP-PAGES-DEFINITIONS-011",
      "given": "dimensions with width and height",
      "when": "value is { width: 800, height: 600 }",
      "then": "it should validate as dimensions object",
      "application": {
        "valid": [{"width": 800, "height": 600}, {"width": 1920, "height": 1080}],
        "invalid": [{"width": 800}, {"height": 600}, {"w": 800, "h": 600}],
        "required": ["width", "height"],
        "assertions": ["Both width and height required", "Numeric values", "Used for: image sizing, viewports"]
      }
    },
    {
      "id": "APP-PAGES-DEFINITIONS-012",
      "given": "multiple icon names in the library",
      "when": "70+ icon names are defined (arrow-right, check, user, star, etc.)",
      "then": "it should provide comprehensive icon set for all UI needs",
      "application": {
        "categories": {
          "arrows": ["arrow-right", "arrow-left", "arrow-up", "arrow-down"],
          "actions": ["check", "x", "plus", "minus", "search", "filter"],
          "social": ["heart", "star", "share", "bookmark"],
          "ui": ["menu", "settings", "user", "users"]
        },
        "totalCount": "70+",
        "assertions": ["Comprehensive icon library", "Categorized by purpose", "Covers common UI needs"]
      }
    },
    {
      "id": "APP-PAGES-DEFINITIONS-REGRESSION-013",
      "given": "complete application configuration with all features",
      "when": "user completes full workflow",
      "then": "user can complete full definitions workflow"
    }
  ]
}
