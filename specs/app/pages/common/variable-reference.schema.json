{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "variable-reference.schema.json",
  "title": "Variable Reference",
  "description": "Pattern for referencing variables in bloc templates using $variableName syntax",
  "type": "string",
  "pattern": "^.*\\$[a-zA-Z][a-zA-Z0-9]*.*$",
  "examples": [
    "$color",
    "$primaryText",
    "Welcome to $siteName",
    "The $productName costs $price",
    "$icon-$size"
  ],
  "x-notes": [
    "Variables are replaced at runtime with values from the 'vars' object",
    "Variable names must start with a letter and contain only alphanumeric characters",
    "Multiple variables can appear in the same string"
  ],
  "specs": [
    {
      "id": "APP-PAGES-VARREF-001",
      "given": "a simple variable reference",
      "when": "value is '$color'",
      "then": "it should validate variable syntax"
    },
    {
      "id": "APP-PAGES-VARREF-002",
      "given": "a variable reference with camelCase name",
      "when": "value is '$primaryText'",
      "then": "it should accept camelCase variable names"
    },
    {
      "id": "APP-PAGES-VARREF-003",
      "given": "a string with variable at the start",
      "when": "value is '$siteName is the best'",
      "then": "it should accept variable at start of string"
    },
    {
      "id": "APP-PAGES-VARREF-004",
      "given": "a string with variable in the middle",
      "when": "value is 'Welcome to $siteName today'",
      "then": "it should accept variable in middle of string"
    },
    {
      "id": "APP-PAGES-VARREF-005",
      "given": "a string with variable at the end",
      "when": "value is 'The color is $primaryColor'",
      "then": "it should accept variable at end of string"
    },
    {
      "id": "APP-PAGES-VARREF-006",
      "given": "a string with multiple variables",
      "when": "value is 'The $productName costs $price'",
      "then": "it should accept multiple $variable references"
    },
    {
      "id": "APP-PAGES-VARREF-007",
      "given": "a variable reference with numbers in name",
      "when": "value is '$color1' or '$size2x'",
      "then": "it should accept alphanumeric variable names"
    },
    {
      "id": "APP-PAGES-VARREF-008",
      "given": "complex variable combination",
      "when": "value is '$icon-$size' for dynamic icon sizing",
      "then": "it should support variable composition patterns"
    }
  ]
}
