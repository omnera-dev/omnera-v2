{
  "$id": "id.schema.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Page ID",
  "description": "Unique identifier for the page",
  "$ref": "../../common/definitions.schema.json#/definitions/id",
  "x-specs": [
    {
      "id": "APP-PAGES-ID-001",
      "given": "a page ID as string",
      "when": "value is 'home-page-123'",
      "then": "it should validate as unique identifier",
      "application": {
        "page": {"id": "home-page-123", "name": "Home", "path": "/", "meta": {"lang": "en-US", "title": "Home"}, "sections": []},
        "assertions": ["Page ID: 'home-page-123' (string)", "Unique identifier for page", "Used for database primary key"]
      }
    },
    {
      "id": "APP-PAGES-ID-002",
      "given": "a page ID referencing common definition",
      "when": "schema uses $ref to definitions.schema.json#/definitions/id",
      "then": "it should follow shared ID pattern from common definitions",
      "application": {
        "page": {"id": "about-page", "name": "About", "path": "/about", "meta": {"lang": "en-US", "title": "About"}, "sections": []},
        "schemaReference": {"location": "../../common/definitions.schema.json#/definitions/id", "pattern": "string"},
        "assertions": ["DRY: ID validation defined once in definitions.schema.json", "Shared across pages, blocks, users, etc."]
      }
    },
    {
      "id": "APP-PAGES-ID-003",
      "given": "a page without explicit ID",
      "when": "ID property is omitted",
      "then": "it should allow auto-generated ID (ID is optional)",
      "application": {
        "page": {"name": "Pricing", "path": "/pricing", "meta": {"lang": "en-US", "title": "Pricing"}, "sections": []},
        "autoGenerated": {"id": "auto-generated-uuid-here", "mechanism": "Server generates UUID on creation"},
        "assertions": ["ID omitted: Property not required", "Auto-generation: Server creates UUID automatically", "Optional field: ID can be omitted"]
      }
    },
    {
      "id": "APP-PAGES-ID-004",
      "given": "a page ID with UUID format",
      "when": "value is '550e8400-e29b-41d4-a716-446655440000'",
      "then": "it should accept UUID as identifier",
      "application": {
        "page": {"id": "550e8400-e29b-41d4-a716-446655440000", "name": "Contact", "path": "/contact", "meta": {"lang": "en-US", "title": "Contact"}, "sections": []},
        "assertions": ["UUID format: Standard universally unique identifier", "Guaranteed uniqueness across systems", "Common choice for IDs"]
      }
    },
    {
      "id": "APP-PAGES-ID-005",
      "given": "a page ID with numeric string",
      "when": "value is '12345'",
      "then": "it should accept numeric string identifiers",
      "application": {
        "page": {"id": "12345", "name": "Blog Post", "path": "/blog/12345", "meta": {"lang": "en-US", "title": "Post"}, "sections": []},
        "assertions": ["Numeric string: '12345' (string type, not number)", "Sequential IDs: Common for blog posts, articles", "String type: Allows leading zeros"]
      }
    },
    {
      "id": "APP-PAGES-ID-006",
      "given": "page IDs across multiple pages",
      "when": "each page has unique ID",
      "then": "it should ensure uniqueness across all pages in array",
      "application": {
        "pages": [
          {"id": "home", "name": "Home", "path": "/", "meta": {"lang": "en-US", "title": "Home"}, "sections": []},
          {"id": "about", "name": "About", "path": "/about", "meta": {"lang": "en-US", "title": "About"}, "sections": []},
          {"id": "pricing", "name": "Pricing", "path": "/pricing", "meta": {"lang": "en-US", "title": "Pricing"}, "sections": []}
        ],
        "uniqueness": {"ids": ["home", "about", "pricing"], "constraint": "All IDs must be unique", "violation": "Duplicate IDs rejected"},
        "assertions": ["Uniqueness enforced: All page IDs must be distinct", "Database constraint: Primary key uniqueness", "Validation fails on duplicate IDs"]
      }
    },
    {
      "id": "APP-PAGES-ID-REGRESSION-001",
      "given": "complete application configuration with all features",
      "when": "user completes full workflow",
      "then": "user can complete full page ID workflow"
    }
  ]
}
