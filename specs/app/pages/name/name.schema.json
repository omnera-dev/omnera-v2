{
  "$id": "name.schema.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Page Name",
  "description": "Internal name for the page",
  "$ref": "../../common/definitions.schema.json#/definitions/name",
  "examples": ["home", "about", "pricing", "contact"],
  "x-specs": [
    {
      "id": "APP-PAGES-NAME-001",
      "given": "a page name as string",
      "when": "value is 'home'",
      "then": "it should validate as internal page name",
      "application": {
        "page": {
          "name": "Home",
          "path": "/",
          "meta": { "lang": "en-US", "title": "Home" },
          "sections": []
        },
        "assertions": [
          "Page name: 'Home' (string type)",
          "Internal identifier for page",
          "Used in admin UI and logs"
        ]
      }
    },
    {
      "id": "APP-PAGES-NAME-002",
      "given": "a page name referencing common definition",
      "when": "schema uses $ref to definitions.schema.json#/definitions/name",
      "then": "it should follow shared name pattern from common definitions",
      "application": {
        "page": {
          "name": "About",
          "path": "/about",
          "meta": { "lang": "en-US", "title": "About" },
          "sections": []
        },
        "schemaReference": {
          "location": "../../common/definitions.schema.json#/definitions/name",
          "pattern": "string"
        },
        "assertions": [
          "DRY: Name validation defined once in definitions.schema.json",
          "Shared across pages, blocks, components"
        ]
      }
    },
    {
      "id": "APP-PAGES-NAME-003",
      "given": "a descriptive page name",
      "when": "value is 'about'",
      "then": "it should accept simple lowercase names",
      "application": {
        "page": {
          "name": "About Us",
          "path": "/about",
          "meta": { "lang": "en-US", "title": "About Us" },
          "sections": []
        },
        "assertions": [
          "Descriptive name: 'About Us' (human-readable)",
          "Can include spaces and capitalization",
          "Displayed in admin UI"
        ]
      }
    },
    {
      "id": "APP-PAGES-NAME-004",
      "given": "a multi-word page name",
      "when": "value is 'pricing' or 'contact'",
      "then": "it should accept single-word page identifiers",
      "application": {
        "pages": [
          {
            "name": "Pricing",
            "path": "/pricing",
            "meta": { "lang": "en-US", "title": "Pricing" },
            "sections": []
          },
          {
            "name": "Contact",
            "path": "/contact",
            "meta": { "lang": "en-US", "title": "Contact" },
            "sections": []
          }
        ],
        "assertions": [
          "Single-word names: 'Pricing', 'Contact'",
          "Simple identifiers for common pages"
        ]
      }
    },
    {
      "id": "APP-PAGES-NAME-005",
      "given": "a page name with spaces for display",
      "when": "value is 'Home Page' or 'About Us'",
      "then": "it should accept human-readable names with spaces",
      "application": {
        "pages": [
          {
            "name": "Home Page",
            "path": "/",
            "meta": { "lang": "en-US", "title": "Home" },
            "sections": []
          },
          {
            "name": "About Us",
            "path": "/about",
            "meta": { "lang": "en-US", "title": "About" },
            "sections": []
          }
        ],
        "assertions": [
          "Human-readable names: 'Home Page', 'About Us'",
          "Spaces allowed in names",
          "Displayed in admin UI and breadcrumbs"
        ]
      }
    },
    {
      "id": "APP-PAGES-NAME-006",
      "given": "common page names (home, about, pricing, contact)",
      "when": "standard website pages are defined",
      "then": "it should provide examples for typical page names",
      "application": {
        "pages": [
          {
            "name": "Home",
            "path": "/",
            "meta": { "lang": "en-US", "title": "Home" },
            "sections": []
          },
          {
            "name": "About",
            "path": "/about",
            "meta": { "lang": "en-US", "title": "About" },
            "sections": []
          },
          {
            "name": "Pricing",
            "path": "/pricing",
            "meta": { "lang": "en-US", "title": "Pricing" },
            "sections": []
          },
          {
            "name": "Contact",
            "path": "/contact",
            "meta": { "lang": "en-US", "title": "Contact" },
            "sections": []
          }
        ],
        "assertions": [
          "Standard page names: Home, About, Pricing, Contact",
          "Typical website structure",
          "Simple, descriptive identifiers"
        ]
      }
    },
    {
      "id": "APP-PAGES-NAME-007",
      "given": "page name as required field",
      "when": "page is created without name",
      "then": "it should fail validation (name is required)",
      "application": {
        "invalidPage": {
          "path": "/about",
          "meta": { "lang": "en-US", "title": "About" },
          "sections": []
        },
        "validationError": { "field": "name", "message": "name is required" },
        "fix": {
          "name": "About",
          "path": "/about",
          "meta": { "lang": "en-US", "title": "About" },
          "sections": []
        },
        "assertions": [
          "INVALID: name property missing",
          "Required field: name must be present",
          "Fix: Add name property"
        ]
      }
    },
    {
      "id": "APP-PAGES-NAME-008",
      "given": "page names across multiple pages",
      "when": "names describe page purpose internally",
      "then": "it should serve as internal identifier separate from URL path",
      "application": {
        "pages": [
          {
            "name": "Homepage",
            "path": "/",
            "meta": { "lang": "en-US", "title": "Welcome" },
            "sections": []
          },
          {
            "name": "Company Info",
            "path": "/about",
            "meta": { "lang": "en-US", "title": "About Us" },
            "sections": []
          },
          {
            "name": "Plans",
            "path": "/pricing",
            "meta": { "lang": "en-US", "title": "Pricing" },
            "sections": []
          }
        ],
        "comparison": {
          "name": "Internal identifier (shown in admin)",
          "path": "URL route (shown to users)",
          "meta.title": "Browser tab title (shown in browser)"
        },
        "assertions": [
          "name ≠ path ≠ title: Three separate identifiers",
          "name: Internal (admin UI, logs)",
          "path: Public URL",
          "title: Browser display"
        ]
      }
    },
    {
      "id": "APP-PAGES-NAME-REGRESSION-001",
      "given": "complete application configuration with all features",
      "when": "user completes full workflow",
      "then": "user can complete full page name workflow"
    }
  ]
}
