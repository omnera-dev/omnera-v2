{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "navigation.schema.json",
  "title": "Navigation Configuration",
  "description": "Main navigation configuration including logo, links, and CTA",
  "type": "object",
  "properties": {
    "logo": {
      "type": "string",
      "description": "Path to logo image"
    },
    "logoMobile": {
      "type": "string",
      "description": "Alternative logo for mobile devices"
    },
    "logoAlt": {
      "type": "string",
      "description": "Logo alt text for accessibility"
    },
    "sticky": {
      "type": "boolean",
      "default": false,
      "description": "Whether navigation sticks to top on scroll"
    },
    "transparent": {
      "type": "boolean",
      "default": false,
      "description": "Whether navigation has transparent background initially"
    },
    "links": {
      "type": "object",
      "properties": {
        "desktop": {
          "$ref": "./nav-links.schema.json"
        },
        "mobile": {
          "$ref": "./nav-links.schema.json"
        }
      },
      "required": ["desktop"],
      "additionalProperties": false
    },
    "cta": {
      "$ref": "./cta-button.schema.json"
    },
    "search": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean",
          "default": false
        },
        "placeholder": {
          "type": "string",
          "default": "Search..."
        }
      }
    },
    "user": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean",
          "default": false,
          "description": "Show user account menu"
        },
        "loginUrl": {
          "type": "string",
          "description": "Login page URL"
        },
        "signupUrl": {
          "type": "string",
          "description": "Signup page URL"
        }
      }
    }
  },
  "required": ["logo"],
  "additionalProperties": false,
  "examples": [
    {
      "logo": "./public/logo.svg",
      "logoMobile": "./public/logo-mobile.svg",
      "logoAlt": "Company Logo",
      "sticky": true,
      "links": {
        "desktop": [
          {
            "label": "Products",
            "href": "/products"
          },
          {
            "label": "Pricing",
            "href": "/pricing"
          },
          {
            "label": "About",
            "href": "/about"
          }
        ],
        "mobile": [
          {
            "label": "Home",
            "href": "/"
          },
          {
            "label": "Products",
            "href": "/products"
          }
        ]
      },
      "cta": {
        "text": "Get Started",
        "href": "/signup",
        "variant": "primary"
      }
    }
  ],
  "x-specs": [
    {
      "id": "APP-PAGES-NAV-001",
      "given": "a navigation with logo",
      "when": "logo is './public/logo.svg'",
      "then": "it should display logo image",
      "validation": {
        "setup": {
          "navigation": {
            "logo": "./public/logo.svg"
          }
        },
        "assertions": [
          "logo: required property",
          "Path to logo image file",
          "SVG format recommended (scalable)",
          "Minimal valid navigation"
        ]
      },
      "application": {
        "navigation": {
          "logo": "./public/logo.svg"
        },
        "expectedDOM": "<nav data-testid=\"navigation\"><a href=\"/\" data-testid=\"nav-logo-link\"><img data-testid=\"nav-logo\" src=\"./public/logo.svg\" alt=\"Logo\" /></a></nav>",
        "assertions": [
          "Logo image: ./public/logo.svg",
          "Wrapped in link to homepage (/)",
          "Default alt text: 'Logo'",
          "Minimal navigation (logo only)"
        ]
      }
    },
    {
      "id": "APP-PAGES-NAV-002",
      "given": "a navigation with logoMobile",
      "when": "logoMobile is './public/logo-mobile.svg'",
      "then": "it should use alternative logo for mobile devices",
      "validation": {
        "setup": {
          "navigation": {
            "logo": "./public/logo.svg",
            "logoMobile": "./public/logo-mobile.svg"
          }
        },
        "assertions": [
          "logoMobile: optional alternative logo",
          "Different logo for mobile screens",
          "Often simplified or icon-only version",
          "Responsive logo adaptation"
        ]
      },
      "application": {
        "navigation": {
          "logo": "./public/logo.svg",
          "logoMobile": "./public/logo-mobile.svg"
        },
        "expectedDOM": {
          "desktop": "<nav data-testid=\"navigation\"><a href=\"/\"><img data-testid=\"nav-logo\" src=\"./public/logo.svg\" alt=\"Logo\" class=\"hidden md:block\" /></a></nav>",
          "mobile": "<nav data-testid=\"navigation\"><a href=\"/\"><img data-testid=\"nav-logo-mobile\" src=\"./public/logo-mobile.svg\" alt=\"Logo\" class=\"block md:hidden\" /></a></nav>"
        },
        "assertions": [
          "Desktop (≥768px): logo.svg displayed",
          "Mobile (<768px): logo-mobile.svg displayed",
          "Responsive logo: simplified on mobile",
          "Example: full wordmark (desktop) vs icon (mobile)"
        ]
      }
    },
    {
      "id": "APP-PAGES-NAV-003",
      "given": "a navigation with logoAlt",
      "when": "logoAlt is 'Company Logo'",
      "then": "it should provide accessible alt text for logo",
      "validation": {
        "setup": {
          "navigation": {
            "logo": "./public/logo.svg",
            "logoAlt": "Acme Inc - Building the Future"
          }
        },
        "assertions": [
          "logoAlt: accessibility alt text",
          "Describes logo for screen readers",
          "Essential for WCAG compliance",
          "Better than generic 'Logo'"
        ]
      },
      "application": {
        "navigation": {
          "logo": "./public/logo.svg",
          "logoAlt": "Acme Inc - Building the Future"
        },
        "expectedDOM": "<nav data-testid=\"navigation\"><a href=\"/\"><img data-testid=\"nav-logo\" src=\"./public/logo.svg\" alt=\"Acme Inc - Building the Future\" /></a></nav>",
        "accessibility": {
          "screenReader": "Announces: 'Acme Inc - Building the Future, link'",
          "withoutAlt": "Announces: 'Logo, link' (generic)"
        },
        "assertions": [
          "Custom alt text: 'Acme Inc - Building the Future'",
          "Screen reader users understand logo content",
          "WCAG 2.1 Level A compliant",
          "Better UX than default 'Logo'"
        ]
      }
    },
    {
      "id": "APP-PAGES-NAV-004",
      "given": "a sticky navigation",
      "when": "sticky is true",
      "then": "it should stick to top on scroll",
      "validation": {
        "setup": {
          "navigation": {
            "logo": "./public/logo.svg",
            "sticky": true,
            "links": {
              "desktop": [
                {
                  "label": "Products",
                  "href": "/products"
                }
              ]
            }
          }
        },
        "assertions": [
          "sticky: boolean (default: false)",
          "When true: nav stays at top on scroll",
          "position: sticky CSS applied",
          "Common for persistent navigation"
        ]
      },
      "application": {
        "navigation": {
          "logo": "./public/logo.svg",
          "sticky": true,
          "links": {
            "desktop": [
              {
                "label": "Products",
                "href": "/products"
              }
            ]
          }
        },
        "expectedDOM": "<nav data-testid=\"navigation\" class=\"sticky top-0 z-50\" style=\"position: sticky; top: 0; z-index: 50;\"><a href=\"/\"><img src=\"./public/logo.svg\" alt=\"Logo\" /></a><a href=\"/products\">Products</a></nav>",
        "userAction": "User scrolls down page",
        "behavior": {
          "stickyFalse": "Navigation scrolls out of view",
          "stickyTrue": "Navigation stays fixed at top of viewport"
        },
        "assertions": [
          "sticky=true: navigation remains visible while scrolling",
          "CSS: position: sticky, top: 0, z-index: 50",
          "Always accessible (no need to scroll up)",
          "Common pattern for app/dashboard navigation"
        ]
      }
    },
    {
      "id": "APP-PAGES-NAV-005",
      "given": "a transparent navigation",
      "when": "transparent is true initially",
      "then": "it should have transparent background (becomes opaque on scroll)",
      "validation": {
        "setup": {
          "navigation": {
            "logo": "./public/logo.svg",
            "transparent": true,
            "sticky": true,
            "links": {
              "desktop": [
                {
                  "label": "Features",
                  "href": "/features"
                }
              ]
            }
          }
        },
        "assertions": [
          "transparent: boolean (default: false)",
          "When true: initial background transparent",
          "Transitions to opaque on scroll (with sticky)",
          "Common for hero sections with full-screen images"
        ]
      },
      "application": {
        "navigation": {
          "logo": "./public/logo.svg",
          "transparent": true,
          "sticky": true,
          "links": {
            "desktop": [
              {
                "label": "Features",
                "href": "/features"
              }
            ]
          }
        },
        "expectedDOM": {
          "top": "<nav data-testid=\"navigation\" class=\"sticky top-0 bg-transparent\" style=\"background-color: transparent;\"><a href=\"/\"><img src=\"./public/logo.svg\" alt=\"Logo\" /></a><a href=\"/features\">Features</a></nav>",
          "scrolled": "<nav data-testid=\"navigation\" class=\"sticky top-0 bg-white shadow-md\" style=\"background-color: white;\"><a href=\"/\"><img src=\"./public/logo.svg\" alt=\"Logo\" /></a><a href=\"/features\">Features</a></nav>"
        },
        "userAction": "User scrolls down past 100px",
        "behavior": {
          "atTop": "Transparent background, overlays hero image",
          "onScroll": "Transitions to opaque white with shadow"
        },
        "assertions": [
          "At page top: transparent background (overlays content)",
          "After scroll: opaque background + shadow (readable)",
          "Smooth transition between states",
          "Perfect for landing pages with hero images"
        ]
      }
    },
    {
      "id": "APP-PAGES-NAV-006",
      "given": "navigation with desktop links",
      "when": "links.desktop is array of nav-links",
      "then": "it should render desktop navigation menu",
      "validation": {
        "setup": {
          "navigation": {
            "logo": "./public/logo.svg",
            "links": {
              "desktop": [
                {
                  "label": "Products",
                  "href": "/products"
                },
                {
                  "label": "Pricing",
                  "href": "/pricing"
                },
                {
                  "label": "About",
                  "href": "/about"
                },
                {
                  "label": "Contact",
                  "href": "/contact"
                }
              ]
            }
          }
        },
        "assertions": [
          "links.desktop: required array",
          "Array of nav-links (label + href)",
          "Displayed on desktop screens (≥768px)",
          "Horizontal navigation menu"
        ]
      },
      "application": {
        "navigation": {
          "logo": "./public/logo.svg",
          "links": {
            "desktop": [
              {
                "label": "Products",
                "href": "/products"
              },
              {
                "label": "Pricing",
                "href": "/pricing"
              },
              {
                "label": "About",
                "href": "/about"
              }
            ]
          }
        },
        "expectedDOM": "<nav data-testid=\"navigation\" class=\"hidden md:flex\"><a href=\"/\"><img src=\"./public/logo.svg\" alt=\"Logo\" /></a><div data-testid=\"nav-links\" class=\"flex gap-6\"><a href=\"/products\" data-testid=\"nav-link\">Products</a><a href=\"/pricing\" data-testid=\"nav-link\">Pricing</a><a href=\"/about\" data-testid=\"nav-link\">About</a></div></nav>",
        "assertions": [
          "Desktop (≥768px): horizontal link list displayed",
          "3 links: Products, Pricing, About",
          "Flex layout with gap-6 spacing",
          "Hidden on mobile (<768px)"
        ]
      }
    },
    {
      "id": "APP-PAGES-NAV-007",
      "given": "navigation with mobile links",
      "when": "links.mobile differs from desktop",
      "then": "it should render different links for mobile menu",
      "validation": {
        "setup": {
          "navigation": {
            "logo": "./public/logo.svg",
            "links": {
              "desktop": [
                {
                  "label": "Products",
                  "href": "/products"
                },
                {
                  "label": "Pricing",
                  "href": "/pricing"
                },
                {
                  "label": "About",
                  "href": "/about"
                },
                {
                  "label": "Contact",
                  "href": "/contact"
                }
              ],
              "mobile": [
                {
                  "label": "Home",
                  "href": "/"
                },
                {
                  "label": "Products",
                  "href": "/products"
                },
                {
                  "label": "Support",
                  "href": "/support"
                }
              ]
            }
          }
        },
        "assertions": [
          "links.mobile: optional alternative links",
          "Different navigation structure for mobile",
          "Mobile often has fewer, higher-priority links",
          "Falls back to desktop links if omitted"
        ]
      },
      "application": {
        "navigation": {
          "logo": "./public/logo.svg",
          "links": {
            "desktop": [
              {
                "label": "Products",
                "href": "/products"
              },
              {
                "label": "Pricing",
                "href": "/pricing"
              },
              {
                "label": "About",
                "href": "/about"
              }
            ],
            "mobile": [
              {
                "label": "Home",
                "href": "/"
              },
              {
                "label": "Products",
                "href": "/products"
              }
            ]
          }
        },
        "expectedDOM": {
          "desktop": "<nav class=\"hidden md:flex\"><a href=\"/products\">Products</a><a href=\"/pricing\">Pricing</a><a href=\"/about\">About</a></nav>",
          "mobile": "<nav class=\"flex md:hidden\"><button data-testid=\"mobile-menu-toggle\">☰</button><div data-testid=\"mobile-menu\" class=\"hidden\"><a href=\"/\">Home</a><a href=\"/products\">Products</a></div></nav>"
        },
        "assertions": [
          "Desktop: 3 links (Products, Pricing, About)",
          "Mobile: 2 links (Home, Products)",
          "Mobile menu: hamburger icon + drawer",
          "Optimized navigation per device"
        ]
      }
    },
    {
      "id": "APP-PAGES-NAV-008",
      "given": "navigation with CTA button",
      "when": "cta has text 'Get Started' and href '/signup'",
      "then": "it should render prominent call-to-action button",
      "validation": {
        "setup": {
          "navigation": {
            "logo": "./public/logo.svg",
            "links": {
              "desktop": [
                {
                  "label": "Features",
                  "href": "/features"
                }
              ]
            },
            "cta": {
              "text": "Get Started",
              "href": "/signup",
              "variant": "primary"
            }
          }
        },
        "assertions": [
          "cta: optional call-to-action button",
          "References cta-button.schema.json",
          "text + href + variant (primary/secondary)",
          "Prominent action in navigation"
        ]
      },
      "application": {
        "navigation": {
          "logo": "./public/logo.svg",
          "links": {
            "desktop": [
              {
                "label": "Features",
                "href": "/features"
              },
              {
                "label": "Pricing",
                "href": "/pricing"
              }
            ]
          },
          "cta": {
            "text": "Get Started",
            "href": "/signup",
            "variant": "primary"
          }
        },
        "expectedDOM": "<nav data-testid=\"navigation\"><a href=\"/\"><img src=\"./public/logo.svg\" alt=\"Logo\" /></a><div data-testid=\"nav-links\"><a href=\"/features\">Features</a><a href=\"/pricing\">Pricing</a></div><a href=\"/signup\" data-testid=\"nav-cta\" class=\"btn btn-primary\">Get Started</a></nav>",
        "assertions": [
          "CTA button: 'Get Started' (primary variant)",
          "Links to /signup",
          "Positioned at right end of navigation",
          "Visually distinct from regular links (button styling)",
          "Drives key conversion action"
        ]
      }
    },
    {
      "id": "APP-PAGES-NAV-009",
      "given": "navigation with search enabled",
      "when": "search.enabled is true with placeholder 'Search...'",
      "then": "it should display search input in navigation",
      "validation": {
        "setup": {
          "navigation": {
            "logo": "./public/logo.svg",
            "links": {
              "desktop": [
                {
                  "label": "Docs",
                  "href": "/docs"
                }
              ]
            },
            "search": {
              "enabled": true,
              "placeholder": "Search documentation..."
            }
          }
        },
        "assertions": [
          "search.enabled: boolean (default: false)",
          "search.placeholder: input placeholder text",
          "Common for docs/knowledge base sites",
          "Search within navigation for quick access"
        ]
      },
      "application": {
        "navigation": {
          "logo": "./public/logo.svg",
          "links": {
            "desktop": [
              {
                "label": "Docs",
                "href": "/docs"
              }
            ]
          },
          "search": {
            "enabled": true,
            "placeholder": "Search documentation..."
          }
        },
        "expectedDOM": "<nav data-testid=\"navigation\"><a href=\"/\"><img src=\"./public/logo.svg\" alt=\"Logo\" /></a><div data-testid=\"nav-links\"><a href=\"/docs\">Docs</a></div><div data-testid=\"nav-search\"><input type=\"search\" placeholder=\"Search documentation...\" class=\"search-input\" /></div></nav>",
        "userAction": "User types 'authentication' in search",
        "behavior": {
          "input": "Search results dropdown appears",
          "results": "Filtered docs matching 'authentication'"
        },
        "assertions": [
          "Search input in navigation bar",
          "Placeholder: 'Search documentation...'",
          "Instant search results (dropdown or overlay)",
          "Common pattern for docs/help sites"
        ]
      }
    },
    {
      "id": "APP-PAGES-NAV-010",
      "given": "navigation with user menu enabled",
      "when": "user.enabled is true with loginUrl and signupUrl",
      "then": "it should show user account menu with login/signup links",
      "validation": {
        "setup": {
          "navigation": {
            "logo": "./public/logo.svg",
            "links": {
              "desktop": [
                {
                  "label": "Dashboard",
                  "href": "/dashboard"
                }
              ]
            },
            "user": {
              "enabled": true,
              "loginUrl": "/login",
              "signupUrl": "/signup"
            }
          }
        },
        "assertions": [
          "user.enabled: boolean (default: false)",
          "user.loginUrl: login page path",
          "user.signupUrl: signup page path",
          "Integrates with authentication system"
        ]
      },
      "application": {
        "navigation": {
          "logo": "./public/logo.svg",
          "links": {
            "desktop": [
              {
                "label": "Features",
                "href": "/features"
              }
            ]
          },
          "user": {
            "enabled": true,
            "loginUrl": "/login",
            "signupUrl": "/signup"
          }
        },
        "expectedDOM": {
          "loggedOut": "<nav data-testid=\"navigation\"><a href=\"/\"><img src=\"./public/logo.svg\" alt=\"Logo\" /></a><div data-testid=\"nav-links\"><a href=\"/features\">Features</a></div><div data-testid=\"user-menu\"><a href=\"/login\" data-testid=\"login-link\">Log In</a><a href=\"/signup\" data-testid=\"signup-link\" class=\"btn btn-primary\">Sign Up</a></div></nav>",
          "loggedIn": "<nav data-testid=\"navigation\"><a href=\"/\"><img src=\"./public/logo.svg\" alt=\"Logo\" /></a><div data-testid=\"nav-links\"><a href=\"/features\">Features</a></div><div data-testid=\"user-menu\"><button data-testid=\"user-avatar\"><img src=\"/avatar.jpg\" alt=\"User\" /></button><div data-testid=\"user-dropdown\" class=\"hidden\"><a href=\"/profile\">Profile</a><a href=\"/settings\">Settings</a><button data-testid=\"logout\">Log Out</button></div></div></nav>"
        },
        "assertions": [
          "Logged out: 'Log In' link + 'Sign Up' button",
          "Logged in: User avatar + dropdown (Profile, Settings, Log Out)",
          "Integrates with authentication state",
          "Common SaaS navigation pattern"
        ]
      }
    },
    {
      "id": "APP-PAGES-NAV-011",
      "given": "navigation with required logo only",
      "when": "all other properties are optional",
      "then": "it should render minimal navigation with logo",
      "validation": {
        "setup": {
          "navigation": {
            "logo": "./public/logo.svg"
          }
        },
        "assertions": [
          "logo: only required property",
          "All others optional (links, cta, search, user, sticky, transparent)",
          "Minimal valid navigation",
          "Useful for simple landing pages"
        ]
      },
      "application": {
        "navigation": {
          "logo": "./public/logo.svg"
        },
        "expectedDOM": "<nav data-testid=\"navigation\"><a href=\"/\" data-testid=\"nav-logo-link\"><img data-testid=\"nav-logo\" src=\"./public/logo.svg\" alt=\"Logo\" /></a></nav>",
        "assertions": [
          "Minimal navigation: logo only",
          "No links, CTA, search, or user menu",
          "Logo links to homepage (/)",
          "Valid for simple pages or full-screen apps"
        ]
      }
    },
    {
      "id": "APP-PAGES-NAV-012",
      "given": "navigation referencing sub-schemas",
      "when": "nav-links and cta-button use $ref",
      "then": "it should compose navigation from modular schemas",
      "validation": {
        "setup": {
          "navigation": {
            "logo": "./public/logo.svg",
            "links": {
              "desktop": {
                "$ref": "./nav-links.schema.json"
              }
            },
            "cta": {
              "$ref": "./cta-button.schema.json"
            }
          }
        },
        "assertions": [
          "Modular composition via $ref",
          "links.desktop: references nav-links.schema.json",
          "cta: references cta-button.schema.json",
          "Schema reusability and modularity"
        ]
      },
      "application": {
        "schemas": {
          "navigation": {
            "logo": "./public/logo.svg",
            "links": {
              "desktop": [
                {
                  "label": "Products",
                  "href": "/products"
                }
              ]
            },
            "cta": {
              "text": "Get Started",
              "href": "/signup",
              "variant": "primary"
            }
          },
          "references": {
            "navLinks": "nav-links.schema.json (array of {label, href, icon?, children?})",
            "ctaButton": "cta-button.schema.json ({text, href, variant})"
          }
        },
        "assertions": [
          "Navigation composed from 3 schemas",
          "navigation.schema.json: orchestrator",
          "nav-links.schema.json: link items structure",
          "cta-button.schema.json: CTA button structure",
          "Modular, reusable schema design"
        ]
      }
    }
  ]
}
