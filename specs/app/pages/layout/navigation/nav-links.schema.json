{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "nav-links.schema.json",
  "title": "Navigation Links",
  "description": "Array of navigation link items",
  "type": "array",
  "items": {
    "type": "object",
    "properties": {
      "label": {
        "type": "string",
        "description": "Link text"
      },
      "href": {
        "type": "string",
        "description": "Link destination (URL or anchor)"
      },
      "target": {
        "type": "string",
        "enum": ["_self", "_blank", "_parent", "_top"],
        "default": "_self",
        "description": "Link target"
      },
      "icon": {
        "type": "string",
        "description": "Optional icon name"
      },
      "badge": {
        "type": "string",
        "description": "Optional badge text (e.g., 'New', 'Beta')"
      },
      "children": {
        "$ref": "#",
        "description": "Nested submenu items"
      }
    },
    "required": ["label", "href"],
    "additionalProperties": false
  },
  "examples": [
    [
      {
        "label": "Home",
        "href": "/"
      },
      {
        "label": "About",
        "href": "/about"
      },
      {
        "label": "Products",
        "href": "/products",
        "children": [
          {
            "label": "Product A",
            "href": "/products/a"
          },
          {
            "label": "Product B",
            "href": "/products/b"
          }
        ]
      },
      {
        "label": "Contact",
        "href": "#contact"
      }
    ]
  ],
  "x-specs": [
    {
      "id": "APP-PAGES-NAVLINKS-001",
      "given": "a nav link with label and href",
      "when": "link is { label: 'Home', href: '/' }",
      "then": "it should render navigation link",
      "application": {
        "link": {"label": "Home", "href": "/"},
        "expectedDOM": "<a href=\"/\" class=\"nav-link\">Home</a>",
        "assertions": ["label + href: required properties", "Renders as <a> tag", "Basic navigation link"]
      }
    },
    {
      "id": "APP-PAGES-NAVLINKS-002",
      "given": "a nav link with target _blank",
      "when": "target is '_blank' for external links",
      "then": "it should open link in new tab",
      "application": {
        "link": {"label": "Documentation", "href": "https://docs.example.com", "target": "_blank"},
        "expectedDOM": "<a href=\"https://docs.example.com\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"nav-link\">Documentation</a>",
        "assertions": ["target: '_blank' opens new tab", "Security: rel='noopener noreferrer' added automatically", "Common for: external links"]
      }
    },
    {
      "id": "APP-PAGES-NAVLINKS-003",
      "given": "a nav link with icon",
      "when": "icon is 'arrow-right'",
      "then": "it should display icon alongside label",
      "application": {
        "link": {"label": "Get Started", "href": "/get-started", "icon": "arrow-right"},
        "expectedDOM": "<a href=\"/get-started\" class=\"nav-link flex items-center gap-2\"><span>Get Started</span><svg class=\"icon-arrow-right\">...</svg></a>",
        "assertions": ["icon: Optional icon name", "Icon positioned after label (default)", "Common icons: arrow-right, external-link, chevron-down"]
      }
    },
    {
      "id": "APP-PAGES-NAVLINKS-004",
      "given": "a nav link with badge",
      "when": "badge is 'New' or 'Beta'",
      "then": "it should display badge to highlight link",
      "application": {
        "link": {"label": "Features", "href": "/features", "badge": "New"},
        "expectedDOM": "<a href=\"/features\" class=\"nav-link flex items-center gap-2\"><span>Features</span><span class=\"badge badge-new bg-blue-500 text-white text-xs px-2 py-0.5 rounded\">New</span></a>",
        "assertions": ["badge: Highlight text ('New', 'Beta', 'Pro')", "Styled as pill/badge", "Common for: new features, beta pages"]
      }
    },
    {
      "id": "APP-PAGES-NAVLINKS-005",
      "given": "a nav link with children (dropdown/submenu)",
      "when": "children contains nested nav-links",
      "then": "it should render dropdown menu on hover/click",
      "application": {
        "link": {"label": "Products", "href": "/products", "children": [{"label": "Product A", "href": "/products/a"}, {"label": "Product B", "href": "/products/b"}]},
        "expectedDOM": "<div class=\"nav-item-dropdown\"><a href=\"/products\" class=\"nav-link\">Products</a><div class=\"dropdown-menu hidden group-hover:block\"><a href=\"/products/a\" class=\"dropdown-item\">Product A</a><a href=\"/products/b\" class=\"dropdown-item\">Product B</a></div></div>",
        "behavior": "Hover over 'Products' → Dropdown reveals children links",
        "assertions": ["children: Recursive nav-links array", "Dropdown menu (hover or click)", "Unlimited nesting depth (self-reference: $ref: #)"]
      }
    },
    {
      "id": "APP-PAGES-NAVLINKS-006",
      "given": "a nav link with anchor href",
      "when": "href is '#contact' (page anchor)",
      "then": "it should scroll to anchor on same page",
      "application": {
        "link": {"label": "Contact", "href": "#contact"},
        "behavior": "Click → Smooth scroll to element with id='contact' on same page",
        "assertions": ["href: '#contact' (anchor link)", "Smooth scroll to section", "No route change (same page)"]
      }
    },
    {
      "id": "APP-PAGES-NAVLINKS-007",
      "given": "nav links array with 4+ links",
      "when": "array contains [Home, About, Products, Contact]",
      "then": "it should render horizontal navigation menu",
      "application": {
        "links": [{"label": "Home", "href": "/"}, {"label": "About", "href": "/about"}, {"label": "Products", "href": "/products"}, {"label": "Contact", "href": "/contact"}],
        "expectedDOM": "<nav class=\"flex gap-6\"><a href=\"/\" class=\"nav-link\">Home</a><a href=\"/about\" class=\"nav-link\">About</a><a href=\"/products\" class=\"nav-link\">Products</a><a href=\"/contact\" class=\"nav-link\">Contact</a></nav>",
        "assertions": ["Array of 4 nav links", "Horizontal layout (flex)", "Standard website navigation"]
      }
    },
    {
      "id": "APP-PAGES-NAVLINKS-008",
      "given": "nav links with recursive children",
      "when": "Products has children (Product A, Product B)",
      "then": "it should support unlimited nesting depth for menus",
      "application": {
        "link": {"label": "Products", "href": "/products", "children": [{"label": "Category A", "href": "/products/a", "children": [{"label": "Subcategory A1", "href": "/products/a/1"}, {"label": "Subcategory A2", "href": "/products/a/2"}]}, {"label": "Category B", "href": "/products/b"}]},
        "structure": "Products → Category A → Subcategory A1, A2 (3 levels)",
        "assertions": ["Recursive children via $ref: #", "Unlimited nesting depth", "Mega menus / multi-level navigation"]
      }
    },
    {
      "id": "APP-PAGES-NAVLINKS-009",
      "given": "nav links with all 4 target options",
      "when": "target enum includes _self, _blank, _parent, _top",
      "then": "it should support all standard HTML link targets",
      "application": {
        "links": [{"label": "Internal", "href": "/page", "target": "_self"}, {"label": "External", "href": "https://example.com", "target": "_blank"}, {"label": "Parent", "href": "/parent", "target": "_parent"}, {"label": "Top", "href": "/top", "target": "_top"}],
        "targetBehaviors": {"_self": "Same frame (default)", "_blank": "New tab/window", "_parent": "Parent frame", "_top": "Top-level frame"},
        "assertions": ["target enum: 4 standard HTML values", "_self: default (same frame)", "_blank: most common for external links"]
      }
    },
    {
      "id": "APP-PAGES-NAVLINKS-010",
      "given": "nav links with label and href as required",
      "when": "link must have both label and href",
      "then": "it should enforce required properties for valid links",
      "application": {
        "valid": {"label": "Home", "href": "/"},
        "invalid": [{"label": "No href"}, {"href": "/"}, {}],
        "assertions": ["required: ['label', 'href']", "label: Display text (string)", "href: Destination URL (string)"]
      }
    },
    {
      "id": "APP-PAGES-LAYOUT-NAVIGATION-NAV-LINKS-REGRESSION-001",
      "given": "complete application configuration with all features",
      "when": "user completes full workflow",
      "then": "user can complete full nav links workflow"
    }
  ]
}
