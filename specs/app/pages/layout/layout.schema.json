{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "layout.schema.json",
  "title": "Page Layout",
  "description": "Global layout configuration including banner, navigation, and footer",
  "type": "object",
  "properties": {
    "banner": {
      "$ref": "./banner/banner.schema.json"
    },
    "navigation": {
      "$ref": "./navigation/navigation.schema.json"
    },
    "footer": {
      "$ref": "./footer/footer.schema.json"
    },
    "sidebar": {
      "$ref": "./sidebar/sidebar.schema.json"
    }
  },
  "additionalProperties": false,
  "examples": [
    {
      "banner": {
        "enabled": true,
        "gradient": "linear-gradient(90deg, #FF6B6B 0%, #4ECDC4 100%)",
        "text": "Limited time offer - 50% off!"
      },
      "navigation": {
        "logo": "./logo.svg",
        "links": {
          "desktop": [
            { "label": "Home", "href": "/" },
            { "label": "About", "href": "/about" }
          ]
        }
      },
      "footer": {
        "enabled": true
      }
    }
  ],
  "specs": [
    {
      "id": "APP-PAGES-LAYOUT-001",
      "given": "a layout configuration with all 4 components",
      "when": "layout includes banner, navigation, footer, and sidebar",
      "then": "it should orchestrate global page layout",
      "x-validation": {
        "setup": {
          "layout": {
            "banner": {
              "enabled": true,
              "text": "Sale - 50% off"
            },
            "navigation": {
              "logo": "/logo.svg",
              "links": {
                "desktop": [
                  {
                    "label": "Home",
                    "href": "/"
                  }
                ]
              }
            },
            "footer": {
              "enabled": true
            },
            "sidebar": {
              "enabled": true,
              "links": [
                {
                  "label": "Docs",
                  "href": "/docs"
                }
              ]
            }
          }
        },
        "assertions": [
          "All 4 layout components included",
          "banner: top announcement bar",
          "navigation: header with logo and links",
          "footer: bottom site footer",
          "sidebar: left/right navigation",
          "Complete layout orchestration"
        ]
      },
      "x-application": {
        "layout": {
          "banner": {
            "enabled": true,
            "text": "Sale - 50% off"
          },
          "navigation": {
            "logo": "/logo.svg",
            "links": {
              "desktop": [
                {
                  "label": "Home",
                  "href": "/"
                }
              ]
            }
          },
          "footer": {
            "enabled": true
          },
          "sidebar": {
            "enabled": true,
            "links": [
              {
                "label": "Docs",
                "href": "/docs"
              }
            ]
          }
        },
        "expectedDOM": "<div data-testid=\"layout-wrapper\"><div data-testid=\"banner\">Sale - 50% off</div><nav data-testid=\"navigation\"><img src=\"/logo.svg\" alt=\"Logo\" /><a href=\"/\">Home</a></nav><div data-testid=\"layout-main\"><aside data-testid=\"sidebar\"><a href=\"/docs\">Docs</a></aside><main data-testid=\"page-content\">Page content here</main></div><footer data-testid=\"footer\">Footer content</footer></div>",
        "assertions": [
          "Layout hierarchy: banner → navigation → (sidebar + main) → footer",
          "Banner at top: promotional message",
          "Navigation: logo + home link",
          "Sidebar: docs link (left/right)",
          "Main: page content",
          "Footer: at bottom",
          "All 4 components orchestrated together"
        ]
      }
    },
    {
      "id": "APP-PAGES-LAYOUT-002",
      "given": "a layout with only navigation",
      "when": "banner, footer, sidebar are omitted",
      "then": "it should support minimal layout with navigation only",
      "x-validation": {
        "setup": {
          "layout": {
            "navigation": {
              "logo": "/logo.svg",
              "links": {
                "desktop": [
                  {
                    "label": "Home",
                    "href": "/"
                  }
                ]
              }
            }
          }
        },
        "assertions": [
          "Only navigation component",
          "banner, footer, sidebar omitted",
          "Minimal layout (header only)",
          "Clean, simple page structure"
        ]
      },
      "x-application": {
        "layout": {
          "navigation": {
            "logo": "/logo.svg",
            "links": {
              "desktop": [
                {
                  "label": "Home",
                  "href": "/"
                }
              ]
            }
          }
        },
        "expectedDOM": "<div data-testid=\"layout-wrapper\"><nav data-testid=\"navigation\"><img src=\"/logo.svg\" alt=\"Logo\" /><a href=\"/\">Home</a></nav><main data-testid=\"page-content\">Page content here</main></div>",
        "assertions": [
          "Minimal layout: navigation + main only",
          "No banner, footer, or sidebar",
          "Clean header-only design",
          "Content-focused layout"
        ]
      }
    },
    {
      "id": "APP-PAGES-LAYOUT-003",
      "given": "a layout with navigation and footer",
      "when": "standard website layout is needed",
      "then": "it should provide header and footer structure",
      "x-validation": {
        "setup": {
          "layout": {
            "navigation": {
              "logo": "/logo.svg",
              "links": {
                "desktop": [
                  {
                    "label": "Home",
                    "href": "/"
                  },
                  {
                    "label": "About",
                    "href": "/about"
                  }
                ]
              }
            },
            "footer": {
              "enabled": true
            }
          }
        },
        "assertions": [
          "Standard website layout",
          "navigation: header with logo + links",
          "footer: site footer",
          "Most common layout pattern"
        ]
      },
      "x-application": {
        "layout": {
          "navigation": {
            "logo": "/logo.svg",
            "links": {
              "desktop": [
                {
                  "label": "Home",
                  "href": "/"
                },
                {
                  "label": "About",
                  "href": "/about"
                }
              ]
            }
          },
          "footer": {
            "enabled": true,
            "copyright": "© 2025 Company"
          }
        },
        "expectedDOM": "<div data-testid=\"layout-wrapper\"><nav data-testid=\"navigation\"><img src=\"/logo.svg\" alt=\"Logo\" /><a href=\"/\">Home</a><a href=\"/about\">About</a></nav><main data-testid=\"page-content\">Page content here</main><footer data-testid=\"footer\">© 2025 Company</footer></div>",
        "assertions": [
          "Standard layout: navigation + main + footer",
          "Header: logo + home/about links",
          "Main: page content area",
          "Footer: copyright and links",
          "Classic website structure"
        ]
      }
    },
    {
      "id": "APP-PAGES-LAYOUT-004",
      "given": "a layout with sidebar for docs/dashboard",
      "when": "sidebar navigation is enabled",
      "then": "it should support sidebar-based layouts",
      "x-validation": {
        "setup": {
          "layout": {
            "navigation": {
              "logo": "/logo.svg"
            },
            "sidebar": {
              "enabled": true,
              "position": "left",
              "width": "250px",
              "links": [
                {
                  "label": "Introduction",
                  "href": "/docs/intro"
                },
                {
                  "label": "Getting Started",
                  "href": "/docs/getting-started"
                },
                {
                  "label": "API Reference",
                  "href": "/docs/api"
                }
              ]
            }
          }
        },
        "assertions": [
          "Sidebar layout (docs/dashboard)",
          "sidebar.position: left or right",
          "sidebar.width: fixed width",
          "sidebar.links: navigation tree",
          "Common for documentation sites"
        ]
      },
      "x-application": {
        "layout": {
          "navigation": {
            "logo": "/logo.svg"
          },
          "sidebar": {
            "enabled": true,
            "position": "left",
            "width": "250px",
            "links": [
              {
                "label": "Introduction",
                "href": "/docs/intro"
              },
              {
                "label": "Getting Started",
                "href": "/docs/getting-started"
              }
            ]
          }
        },
        "expectedDOM": "<div data-testid=\"layout-wrapper\"><nav data-testid=\"navigation\"><img src=\"/logo.svg\" alt=\"Logo\" /></nav><div data-testid=\"layout-main\" style=\"display: flex;\"><aside data-testid=\"sidebar\" style=\"width: 250px; position: fixed; left: 0;\"><a href=\"/docs/intro\">Introduction</a><a href=\"/docs/getting-started\">Getting Started</a></aside><main data-testid=\"page-content\" style=\"margin-left: 250px;\">Page content here</main></div></div>",
        "assertions": [
          "Sidebar layout: sidebar (left) + main (right)",
          "Sidebar: fixed 250px width, left position",
          "Navigation tree: Introduction, Getting Started",
          "Main content: offset by sidebar width",
          "Perfect for docs/dashboard UIs"
        ]
      }
    },
    {
      "id": "APP-PAGES-LAYOUT-005",
      "given": "a layout with banner for announcements",
      "when": "banner is enabled with promotional message",
      "then": "it should display top banner above navigation",
      "x-validation": {
        "setup": {
          "layout": {
            "banner": {
              "enabled": true,
              "text": "🎉 Limited time offer - 50% off all plans!",
              "backgroundColor": "#FF6B6B",
              "textColor": "#FFFFFF",
              "link": "/pricing",
              "dismissible": true
            },
            "navigation": {
              "logo": "/logo.svg"
            }
          }
        },
        "assertions": [
          "Banner at top of page",
          "banner.text: promotional message",
          "banner.backgroundColor + textColor: styling",
          "banner.link: CTA link",
          "banner.dismissible: can be closed",
          "Positioned above navigation"
        ]
      },
      "x-application": {
        "layout": {
          "banner": {
            "enabled": true,
            "text": "🎉 Limited time offer - 50% off all plans!",
            "backgroundColor": "#FF6B6B",
            "textColor": "#FFFFFF",
            "link": "/pricing",
            "dismissible": true
          },
          "navigation": {
            "logo": "/logo.svg"
          }
        },
        "expectedDOM": "<div data-testid=\"layout-wrapper\"><div data-testid=\"banner\" style=\"background-color: #FF6B6B; color: #FFFFFF;\"><a href=\"/pricing\">🎉 Limited time offer - 50% off all plans!</a><button data-testid=\"banner-close\">×</button></div><nav data-testid=\"navigation\"><img src=\"/logo.svg\" alt=\"Logo\" /></nav><main data-testid=\"page-content\">Page content here</main></div>",
        "userAction": "User clicks banner close button",
        "behavior": {
          "beforeDismiss": "Banner visible at top",
          "afterDismiss": "Banner hidden, navigation moves up"
        },
        "assertions": [
          "Banner displays: '🎉 Limited time offer - 50% off all plans!'",
          "Styled: red background (#FF6B6B), white text",
          "Clickable: links to /pricing",
          "Dismissible: close button (×)",
          "Positioned above navigation (z-index priority)"
        ]
      }
    },
    {
      "id": "APP-PAGES-LAYOUT-006",
      "given": "an empty layout configuration",
      "when": "all components are omitted",
      "then": "it should allow pages without global layout (blank page)",
      "x-validation": {
        "setup": {
          "layout": {}
        },
        "assertions": [
          "Empty layout object",
          "No banner, navigation, footer, sidebar",
          "Blank page with only content",
          "Useful for landing pages, full-screen apps"
        ]
      },
      "x-application": {
        "layout": {},
        "expectedDOM": "<div data-testid=\"layout-wrapper\"><main data-testid=\"page-content\">Page content here</main></div>",
        "assertions": [
          "No global layout components",
          "Only page content renders",
          "Full control over page structure",
          "Useful for: landing pages, full-screen apps, custom layouts"
        ]
      }
    },
    {
      "id": "APP-PAGES-LAYOUT-007",
      "given": "layout components sharing consistent styling",
      "when": "banner gradient matches navigation theme",
      "then": "it should enable cohesive visual design across layout",
      "x-validation": {
        "setup": {
          "layout": {
            "banner": {
              "enabled": true,
              "text": "New Feature Launch",
              "gradient": "linear-gradient(90deg, #FF6B6B 0%, #4ECDC4 100%)"
            },
            "navigation": {
              "logo": "/logo.svg",
              "backgroundColor": "#FF6B6B",
              "textColor": "#FFFFFF"
            },
            "footer": {
              "enabled": true,
              "backgroundColor": "#2C3E50",
              "textColor": "#FFFFFF"
            }
          }
        },
        "assertions": [
          "Consistent color scheme across components",
          "banner.gradient: #FF6B6B → #4ECDC4",
          "navigation.backgroundColor: #FF6B6B (matches banner start)",
          "footer.backgroundColor: #2C3E50 (dark theme)",
          "Cohesive visual design"
        ]
      },
      "x-application": {
        "layout": {
          "banner": {
            "enabled": true,
            "text": "New Feature Launch",
            "gradient": "linear-gradient(90deg, #FF6B6B 0%, #4ECDC4 100%)"
          },
          "navigation": {
            "logo": "/logo.svg",
            "backgroundColor": "#FF6B6B",
            "textColor": "#FFFFFF"
          },
          "footer": {
            "enabled": true,
            "backgroundColor": "#2C3E50",
            "textColor": "#FFFFFF"
          }
        },
        "expectedDOM": "<div data-testid=\"layout-wrapper\"><div data-testid=\"banner\" style=\"background: linear-gradient(90deg, #FF6B6B 0%, #4ECDC4 100%);\">New Feature Launch</div><nav data-testid=\"navigation\" style=\"background-color: #FF6B6B; color: #FFFFFF;\"><img src=\"/logo.svg\" alt=\"Logo\" /></nav><main data-testid=\"page-content\">Page content here</main><footer data-testid=\"footer\" style=\"background-color: #2C3E50; color: #FFFFFF;\">Footer content</footer></div>",
        "assertions": [
          "Banner: gradient (#FF6B6B → #4ECDC4)",
          "Navigation: solid #FF6B6B (matches banner start)",
          "Footer: dark #2C3E50",
          "Consistent theme colors across all components",
          "Professional, cohesive visual design"
        ]
      }
    },
    {
      "id": "APP-PAGES-LAYOUT-008",
      "given": "layout configuration at page level",
      "when": "each page can define custom layout",
      "then": "it should override or extend default layout per page",
      "x-validation": {
        "setup": {
          "defaultLayout": {
            "navigation": {
              "logo": "/logo.svg",
              "links": {
                "desktop": [
                  {
                    "label": "Home",
                    "href": "/"
                  }
                ]
              }
            },
            "footer": {
              "enabled": true
            }
          },
          "pages": [
            {
              "path": "/",
              "layout": null
            },
            {
              "path": "/about",
              "layout": {
                "navigation": {
                  "logo": "/logo.svg"
                }
              }
            },
            {
              "path": "/docs",
              "layout": {
                "sidebar": {
                  "enabled": true
                }
              }
            }
          ]
        },
        "assertions": [
          "Default layout applied to all pages",
          "Page-level layout overrides default",
          "/ page: layout=null (no layout)",
          "/about page: custom layout (navigation only)",
          "/docs page: extends default + sidebar",
          "Per-page layout customization"
        ]
      },
      "x-application": {
        "defaultLayout": {
          "navigation": {
            "logo": "/logo.svg",
            "links": {
              "desktop": [
                {
                  "label": "Home",
                  "href": "/"
                }
              ]
            }
          },
          "footer": {
            "enabled": true
          }
        },
        "pages": [
          {
            "path": "/",
            "layout": null
          },
          {
            "path": "/about",
            "layout": {
              "navigation": {
                "logo": "/logo.svg"
              }
            }
          },
          {
            "path": "/docs",
            "layout": {
              "sidebar": {
                "enabled": true
              }
            }
          }
        ],
        "rendering": {
          "/": "No layout (blank page)",
          "/about": "Navigation only (override)",
          "/docs": "Default layout + sidebar (extend)"
        },
        "assertions": [
          "Default: navigation + footer on all pages",
          "/ page: layout=null → no layout components",
          "/about page: override → navigation only",
          "/docs page: extend → default + sidebar",
          "Flexible per-page layout control"
        ]
      }
    }
  ]
}
