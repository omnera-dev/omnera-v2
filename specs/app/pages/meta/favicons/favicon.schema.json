{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "favicon.schema.json",
  "title": "Favicon",
  "description": "Default favicon path",
  "type": "string",
  "pattern": "^\\./.*\\.(ico|png|svg)$",
  "examples": ["./public/favicon.ico", "./favicon.png", "./assets/favicon.svg"],
  "x-specs": [
    {
      "id": "APP-PAGES-FAVICON-001",
      "given": "a favicon path string",
      "when": "value is './public/favicon.ico'",
      "then": "it should reference default favicon file",
      "application": {
        "favicon": "./public/favicon.ico",
        "expectedHTML": "<link rel=\"icon\" type=\"image/x-icon\" href=\"/public/favicon.ico\" />",
        "assertions": [
          "Simple string path",
          "Pattern: ^\\./.*\\.(ico|png|svg)$",
          "Relative path starting with ./"
        ]
      }
    },
    {
      "id": "APP-PAGES-FAVICON-002",
      "given": "a favicon with .ico extension",
      "when": "path ends with .ico",
      "then": "it should support legacy ICO format",
      "application": {
        "favicon": "./favicon.ico",
        "expectedHTML": "<link rel=\"icon\" type=\"image/x-icon\" href=\"/favicon.ico\" />",
        "browserSupport": "Universal (all browsers, including IE)",
        "assertions": [
          ".ico: Legacy format (multi-size container)",
          "Best compatibility",
          "32x32 or 16x16 pixels typical"
        ]
      }
    },
    {
      "id": "APP-PAGES-FAVICON-003",
      "given": "a favicon with .png extension",
      "when": "path ends with .png",
      "then": "it should support PNG format",
      "application": {
        "favicon": "./favicon.png",
        "expectedHTML": "<link rel=\"icon\" type=\"image/png\" href=\"/favicon.png\" />",
        "browserSupport": "Modern browsers",
        "assertions": [
          ".png: Modern format",
          "Better quality than ICO",
          "Transparent backgrounds supported"
        ]
      }
    },
    {
      "id": "APP-PAGES-FAVICON-004",
      "given": "a favicon with .svg extension",
      "when": "path ends with .svg",
      "then": "it should support modern SVG format",
      "application": {
        "favicon": "./favicon.svg",
        "expectedHTML": "<link rel=\"icon\" type=\"image/svg+xml\" href=\"/favicon.svg\" />",
        "browserSupport": "Modern browsers (not IE)",
        "assertions": [
          ".svg: Scalable vector graphics",
          "Resolution-independent",
          "Smallest file size",
          "Best for: logos, icons"
        ]
      }
    },
    {
      "id": "APP-PAGES-FAVICON-005",
      "given": "a favicon path starting with ./",
      "when": "pattern enforces relative path prefix",
      "then": "it should use relative file paths",
      "application": {
        "valid": ["./favicon.ico", "./public/favicon.png", "./assets/icons/favicon.svg"],
        "invalid": [
          "/absolute/path/favicon.ico",
          "https://cdn.example.com/favicon.ico",
          "favicon.ico"
        ],
        "pattern": "^\\./.*\\.(ico|png|svg)$",
        "assertions": [
          "Must start with ./",
          "Relative to project root",
          "Pattern validates extension"
        ]
      }
    },
    {
      "id": "APP-PAGES-FAVICON-006",
      "given": "a simple favicon configuration",
      "when": "single string path is provided",
      "then": "it should enable quick favicon setup",
      "application": {
        "simple": "./favicon.ico",
        "complete": { "favicons": [{ "rel": "icon", "href": "./favicon.ico", "sizes": "32x32" }] },
        "comparison": "Simple: string path (quick setup). Complete: array of objects (full control)",
        "assertions": [
          "Single string: minimal config",
          "Quick setup for basic needs",
          "Use 'favicons' array for multi-size sets"
        ]
      }
    },
    {
      "id": "APP-PAGES-FAVICON-007",
      "given": "a favicon for browser tab",
      "when": "favicon is displayed in browser UI",
      "then": "it should provide site branding in tabs",
      "application": {
        "favicon": "./favicon.ico",
        "displayLocations": [
          "Browser tab (next to page title)",
          "Bookmarks bar",
          "Browser history",
          "Mobile home screen (with apple-touch-icon)"
        ],
        "assertions": [
          "Visible in browser chrome",
          "Site branding",
          "User recognition",
          "Professional appearance"
        ]
      }
    },
    {
      "id": "APP-PAGES-FAVICON-008",
      "given": "a favicon versus favicons property",
      "when": "favicon is simple string, favicons is array of objects",
      "then": "it should support both simple and complete configurations",
      "application": {
        "option1": { "favicon": "./favicon.ico" },
        "option2": {
          "favicons": [
            { "rel": "icon", "href": "./favicon-32.png", "sizes": "32x32", "type": "image/png" },
            { "rel": "icon", "href": "./favicon-16.png", "sizes": "16x16", "type": "image/png" }
          ]
        },
        "comparison": {
          "favicon": "Simple: one default icon",
          "favicons": "Complete: multiple sizes/formats"
        },
        "assertions": [
          "favicon: Quick setup (string)",
          "favicons: Advanced (array)",
          "Choose based on needs"
        ]
      }
    },
    {
      "id": "APP-PAGES-META-FAVICONS-FAVICON-REGRESSION-001",
      "given": "complete application configuration with all features",
      "when": "user completes full workflow",
      "then": "user can complete full favicon workflow"
    }
  ]
}
