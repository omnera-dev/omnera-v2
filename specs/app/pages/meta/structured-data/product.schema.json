{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "product.schema.json",
  "title": "Product Schema",
  "description": "Schema.org Product structured data",
  "type": "object",
  "properties": {
    "@context": {
      "type": "string",
      "const": "https://schema.org"
    },
    "@type": {
      "type": "string",
      "const": "Product"
    },
    "name": {
      "type": "string"
    },
    "description": {
      "type": "string"
    },
    "image": {
      "oneOf": [
        {
          "type": "string",
          "format": "uri"
        },
        {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uri"
          }
        }
      ]
    },
    "brand": {
      "type": "object",
      "properties": {
        "@type": {
          "const": "Brand"
        },
        "name": {
          "type": "string"
        }
      }
    },
    "sku": {
      "type": "string"
    },
    "gtin": {
      "type": "string"
    },
    "offers": {
      "type": "object",
      "properties": {
        "@type": {
          "const": "Offer"
        },
        "price": {
          "type": ["string", "number"]
        },
        "priceCurrency": {
          "type": "string",
          "pattern": "^[A-Z]{3}$"
        },
        "availability": {
          "type": "string"
        },
        "url": {
          "type": "string",
          "format": "uri"
        }
      }
    },
    "aggregateRating": {
      "type": "object",
      "properties": {
        "@type": {
          "const": "AggregateRating"
        },
        "ratingValue": {
          "type": "number"
        },
        "reviewCount": {
          "type": "integer"
        }
      }
    }
  },
  "required": ["@context", "@type", "name"],
  "additionalProperties": false,
  "x-specs": [
    {
      "id": "APP-PAGES-PRODUCT-001",
      "given": "Product with required properties",
      "when": "@context is 'https://schema.org', @type is 'Product', and name is provided",
      "then": "it should validate minimal Product structured data",
      "application": {
        "product": {
          "@context": "https://schema.org",
          "@type": "Product",
          "name": "Wireless Bluetooth Headphones"
        },
        "assertions": [
          "@context: 'https://schema.org' (required)",
          "@type: 'Product' (required)",
          "name: Product name (required)",
          "Minimal valid Product"
        ]
      }
    },
    {
      "id": "APP-PAGES-PRODUCT-002",
      "given": "Product with name and description",
      "when": "name and description describe the product",
      "then": "it should provide product identity",
      "application": {
        "product": {
          "@context": "https://schema.org",
          "@type": "Product",
          "name": "Ultra HD 4K Smart TV - 55 inch",
          "description": "Premium 55-inch 4K UHD Smart TV with HDR, built-in streaming apps, and voice control. Experience stunning picture quality with vibrant colors and deep blacks."
        },
        "assertions": [
          "name: Product title (required)",
          "description: Product summary (recommended)",
          "Displayed in rich results and shopping tabs"
        ]
      }
    },
    {
      "id": "APP-PAGES-PRODUCT-003",
      "given": "Product with image",
      "when": "image is string URL or array of URLs",
      "then": "it should support single or multiple product images",
      "application": {
        "singleImage": {
          "@context": "https://schema.org",
          "@type": "Product",
          "name": "Running Shoes",
          "image": "https://example.com/products/running-shoes-main.jpg"
        },
        "multipleImages": {
          "@context": "https://schema.org",
          "@type": "Product",
          "name": "Running Shoes",
          "image": [
            "https://example.com/products/running-shoes-main.jpg",
            "https://example.com/products/running-shoes-side.jpg",
            "https://example.com/products/running-shoes-sole.jpg"
          ]
        },
        "assertions": [
          "image: String URL or array of URLs",
          "Multiple images: Different angles/views",
          "Minimum: 800x800px, Recommended: 1200x1200px",
          "Displayed in Google Shopping and rich results"
        ]
      }
    },
    {
      "id": "APP-PAGES-PRODUCT-004",
      "given": "Product with brand",
      "when": "brand is object with @type 'Brand' and name",
      "then": "it should identify product manufacturer",
      "application": {
        "product": {
          "@context": "https://schema.org",
          "@type": "Product",
          "name": "Professional Camera",
          "brand": {
            "@type": "Brand",
            "name": "Canon"
          }
        },
        "assertions": [
          "brand: Brand object (recommended)",
          "@type: 'Brand', name: Brand name",
          "Displayed in rich results (helps with filtering)"
        ]
      }
    },
    {
      "id": "APP-PAGES-PRODUCT-005",
      "given": "Product with sku",
      "when": "sku is unique product identifier",
      "then": "it should provide stock keeping unit",
      "application": {
        "product": {
          "@context": "https://schema.org",
          "@type": "Product",
          "name": "Laptop Computer",
          "sku": "LAP-15-I7-512-16GB"
        },
        "assertions": [
          "sku: Stock Keeping Unit (recommended)",
          "Internal product identifier",
          "Helps with inventory management and tracking"
        ]
      }
    },
    {
      "id": "APP-PAGES-PRODUCT-006",
      "given": "Product with gtin",
      "when": "gtin is global trade item number (UPC, EAN, ISBN)",
      "then": "it should provide standardized product identifier",
      "application": {
        "product": {
          "@context": "https://schema.org",
          "@type": "Product",
          "name": "Learning TypeScript Book",
          "gtin": "978-1449370770"
        },
        "gtinTypes": {
          "UPC": "12-digit (US/Canada)",
          "EAN": "13-digit (Europe)",
          "ISBN": "10 or 13-digit (Books)",
          "GTIN-14": "14-digit (Cases/pallets)"
        },
        "assertions": [
          "gtin: Global Trade Item Number (recommended)",
          "Standard product identifier (UPC, EAN, ISBN)",
          "Required for Google Shopping"
        ]
      }
    },
    {
      "id": "APP-PAGES-PRODUCT-007",
      "given": "Product with offers",
      "when": "offers is object with @type 'Offer', price, priceCurrency",
      "then": "it should provide pricing information",
      "application": {
        "product": {
          "@context": "https://schema.org",
          "@type": "Product",
          "name": "Mechanical Keyboard",
          "offers": {
            "@type": "Offer",
            "price": "129.99",
            "priceCurrency": "USD"
          }
        },
        "assertions": [
          "offers: Offer object (recommended)",
          "@type: 'Offer', price, priceCurrency",
          "Displayed in rich results and shopping tabs"
        ]
      }
    },
    {
      "id": "APP-PAGES-PRODUCT-008",
      "given": "Product with price and priceCurrency",
      "when": "price is '29.99' and priceCurrency is 'USD' (ISO 4217)",
      "then": "it should specify product price with currency",
      "application": {
        "product": {
          "@context": "https://schema.org",
          "@type": "Product",
          "name": "USB-C Cable",
          "offers": {
            "@type": "Offer",
            "price": "14.99",
            "priceCurrency": "EUR"
          }
        },
        "assertions": [
          "price: String or number (required for offers)",
          "priceCurrency: ISO 4217 code (USD, EUR, GBP, etc.)",
          "Displayed prominently in shopping results"
        ]
      }
    },
    {
      "id": "APP-PAGES-PRODUCT-009",
      "given": "Product with availability",
      "when": "offers.availability indicates stock status",
      "then": "it should show product availability in search results",
      "application": {
        "product": {
          "@context": "https://schema.org",
          "@type": "Product",
          "name": "Smart Watch",
          "offers": {
            "@type": "Offer",
            "price": "299.00",
            "priceCurrency": "USD",
            "availability": "https://schema.org/InStock"
          }
        },
        "availabilityStatuses": {
          "InStock": "Available (green)",
          "OutOfStock": "Out of stock (red)",
          "PreOrder": "Pre-order (yellow)",
          "LimitedAvailability": "Low stock (orange)"
        },
        "assertions": [
          "availability: Schema.org URL (optional)",
          "Common: InStock, OutOfStock, PreOrder",
          "Displayed in rich results with color coding"
        ]
      }
    },
    {
      "id": "APP-PAGES-PRODUCT-010",
      "given": "Product with aggregateRating",
      "when": "aggregateRating has @type 'AggregateRating', ratingValue, reviewCount",
      "then": "it should display star ratings in search results",
      "application": {
        "product": {
          "@context": "https://schema.org",
          "@type": "Product",
          "name": "Noise-Cancelling Headphones",
          "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": 4.5,
            "reviewCount": 327
          }
        },
        "assertions": [
          "aggregateRating: AggregateRating object (optional)",
          "ratingValue: 1-5 scale (number)",
          "reviewCount: Total reviews (integer)",
          "Displayed as star rating in rich results (e.g., ★★★★☆ 4.5 (327))"
        ]
      }
    },
    {
      "id": "APP-PAGES-PRODUCT-011",
      "given": "Product for e-commerce SEO",
      "when": "complete product data with price, availability, and ratings is provided",
      "then": "it should enable Google Shopping rich results",
      "application": {
        "completeProduct": {
          "@context": "https://schema.org",
          "@type": "Product",
          "name": "Premium Wireless Gaming Mouse",
          "description": "High-precision wireless gaming mouse with 16000 DPI, RGB lighting, and 70-hour battery life.",
          "image": [
            "https://example.com/products/gaming-mouse-main.jpg",
            "https://example.com/products/gaming-mouse-side.jpg"
          ],
          "brand": {
            "@type": "Brand",
            "name": "TechGear"
          },
          "sku": "MOUSE-WL-G-16K",
          "gtin": "1234567890123",
          "offers": {
            "@type": "Offer",
            "price": "79.99",
            "priceCurrency": "USD",
            "availability": "https://schema.org/InStock",
            "url": "https://example.com/products/gaming-mouse"
          },
          "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": 4.8,
            "reviewCount": 1542
          }
        },
        "richResults": {
          "Google Shopping": "Product card with image, price, rating, stock",
          "Organic SERP": "Rich snippet with stars, price, availability",
          "Shopping Tab": "Eligible for Google Shopping listings"
        },
        "assertions": [
          "Complete Product: All recommended properties",
          "Maximizes e-commerce SEO visibility",
          "Best practice for product pages"
        ]
      }
    },
    {
      "id": "APP-PAGES-PRODUCT-012",
      "given": "Product for rich snippets",
      "when": "Product structured data is included in page metadata",
      "then": "it should display price, availability, and ratings in SERPs",
      "application": {
        "richSnippetDisplay": {
          "Title": "Product name (from name property)",
          "Price": "$79.99 (from offers.price)",
          "Rating": "★★★★☆ 4.5 (327) (from aggregateRating)",
          "Availability": "In stock (from offers.availability)",
          "Image": "Product photo (from image)"
        },
        "ctrImpact": {
          "Typical increase": "15-30% higher CTR with product rich snippets",
          "Visual prominence": "Rich snippets occupy more SERP space",
          "Trust signals": "Ratings and pricing build credibility"
        },
        "assertions": [
          "Product rich snippets increase CTR",
          "Critical for e-commerce SEO",
          "Best practice: Include price, ratings, availability"
        ]
      }
    },
    {
      "id": "APP-PAGES-META-STRUCTURED-DATA-PRODUCT-REGRESSION-001",
      "given": "complete application configuration with all features",
      "when": "user completes full workflow",
      "then": "user can complete full Product workflow"
    }
  ]
}
