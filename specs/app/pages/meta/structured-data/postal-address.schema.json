{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "postal-address.schema.json",
  "title": "Postal Address",
  "description": "Schema.org PostalAddress structured data",
  "type": "object",
  "properties": {
    "@type": {
      "type": "string",
      "const": "PostalAddress",
      "description": "Schema.org type"
    },
    "streetAddress": {
      "type": "string",
      "description": "Street address"
    },
    "addressLocality": {
      "type": "string",
      "description": "City or locality"
    },
    "addressRegion": {
      "type": "string",
      "description": "State or region"
    },
    "postalCode": {
      "type": "string",
      "description": "Postal or ZIP code"
    },
    "addressCountry": {
      "type": "string",
      "pattern": "^[A-Z]{2}$",
      "description": "ISO 3166-1 alpha-2 country code",
      "examples": ["US", "FR", "GB", "DE"]
    }
  },
  "required": ["@type"],
  "additionalProperties": false,
  "examples": [
    {
      "@type": "PostalAddress",
      "streetAddress": "123 Main St",
      "addressLocality": "Strasbourg",
      "addressRegion": "Grand Est",
      "postalCode": "67000",
      "addressCountry": "FR"
    }
  ],
  "x-specs": [
    {
      "id": "APP-PAGES-POSTALADDRESS-001",
      "given": "PostalAddress with required @type",
      "when": "@type is 'PostalAddress' (const)",
      "then": "it should validate minimal PostalAddress structured data",
      "application": {
        "address": {
          "@type": "PostalAddress"
        },
        "assertions": [
          "@type: 'PostalAddress' (required)",
          "Minimal valid PostalAddress",
          "Used as nested object in Organization, LocalBusiness, Person"
        ]
      }
    },
    {
      "id": "APP-PAGES-POSTALADDRESS-002",
      "given": "PostalAddress with streetAddress",
      "when": "streetAddress is '123 Main St'",
      "then": "it should provide street address",
      "application": {
        "address": {
          "@type": "PostalAddress",
          "streetAddress": "456 Oak Avenue, Suite 200"
        },
        "assertions": [
          "streetAddress: Street address (optional)",
          "Include: Number, street name, apartment/suite",
          "Displayed in Google Maps and Knowledge Panel"
        ]
      }
    },
    {
      "id": "APP-PAGES-POSTALADDRESS-003",
      "given": "PostalAddress with addressLocality",
      "when": "addressLocality is 'Strasbourg' or 'Paris'",
      "then": "it should provide city or locality name",
      "application": {
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "San Francisco"
        },
        "assertions": [
          "addressLocality: City or locality (optional)",
          "Examples: San Francisco, Paris, Tokyo, London",
          "Critical for local SEO and map display"
        ]
      }
    },
    {
      "id": "APP-PAGES-POSTALADDRESS-004",
      "given": "PostalAddress with addressRegion",
      "when": "addressRegion is 'Grand Est' or 'California'",
      "then": "it should provide state or region name",
      "application": {
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Austin",
          "addressRegion": "TX"
        },
        "formats": {
          "US": "2-letter state code (CA, NY, TX)",
          "France": "Region name (Grand Est, ÃŽle-de-France)",
          "UK": "County name (Greater London, West Midlands)"
        },
        "assertions": [
          "addressRegion: State or region (optional)",
          "Format varies by country",
          "Important for local search"
        ]
      }
    },
    {
      "id": "APP-PAGES-POSTALADDRESS-005",
      "given": "PostalAddress with postalCode",
      "when": "postalCode is '67000' or '94105'",
      "then": "it should provide postal or ZIP code",
      "application": {
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "New York",
          "addressRegion": "NY",
          "postalCode": "10001"
        },
        "formats": {
          "US": "5-digit ZIP (10001) or ZIP+4 (10001-1234)",
          "France": "5-digit postal code (67000)",
          "UK": "Postcode (SW1A 1AA)",
          "Canada": "Postal code (M5H 2N2)"
        },
        "assertions": [
          "postalCode: Postal or ZIP code (optional)",
          "Format varies by country",
          "Important for precise location"
        ]
      }
    },
    {
      "id": "APP-PAGES-POSTALADDRESS-006",
      "given": "PostalAddress with addressCountry",
      "when": "addressCountry is 'FR', 'US', 'GB', or 'DE' (ISO 3166-1 alpha-2)",
      "then": "it should provide country code",
      "application": {
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Paris",
          "addressCountry": "FR"
        },
        "countryCodes": {
          "US": "United States",
          "FR": "France",
          "GB": "United Kingdom",
          "DE": "Germany",
          "CA": "Canada",
          "JP": "Japan"
        },
        "assertions": [
          "addressCountry: ISO 3166-1 alpha-2 code (optional)",
          "Pattern: ^[A-Z]{2}$ (2 uppercase letters)",
          "Required for international addresses"
        ]
      }
    },
    {
      "id": "APP-PAGES-POSTALADDRESS-007",
      "given": "PostalAddress with complete address",
      "when": "all properties (street, locality, region, postal code, country) are provided",
      "then": "it should provide full mailing address",
      "application": {
        "completeAddress": {
          "@type": "PostalAddress",
          "streetAddress": "123 Innovation Drive, Building A",
          "addressLocality": "San Francisco",
          "addressRegion": "CA",
          "postalCode": "94105",
          "addressCountry": "US"
        },
        "formatted": "123 Innovation Drive, Building A, San Francisco, CA 94105, USA",
        "assertions": [
          "Complete address: All 5 components",
          "street + locality + region + postal + country",
          "Best practice for business addresses"
        ]
      }
    },
    {
      "id": "APP-PAGES-POSTALADDRESS-008",
      "given": "PostalAddress in Organization",
      "when": "PostalAddress is referenced by organization.address",
      "then": "it should provide organization's physical address",
      "application": {
        "organization": {
          "@context": "https://schema.org",
          "@type": "Organization",
          "name": "Tech Corp",
          "address": {
            "@type": "PostalAddress",
            "streetAddress": "500 Corporate Plaza",
            "addressLocality": "Seattle",
            "addressRegion": "WA",
            "postalCode": "98101",
            "addressCountry": "US"
          }
        },
        "assertions": [
          "PostalAddress as nested object",
          "Referenced by organization.address",
          "Displayed in Organization Knowledge Panel"
        ]
      }
    },
    {
      "id": "APP-PAGES-POSTALADDRESS-009",
      "given": "PostalAddress in LocalBusiness",
      "when": "PostalAddress is referenced by localBusiness.address",
      "then": "it should enable local business map display in search results",
      "application": {
        "localBusiness": {
          "@context": "https://schema.org",
          "@type": "LocalBusiness",
          "name": "Downtown Cafe",
          "address": {
            "@type": "PostalAddress",
            "streetAddress": "789 Main Street",
            "addressLocality": "Portland",
            "addressRegion": "OR",
            "postalCode": "97201",
            "addressCountry": "US"
          }
        },
        "mapDisplay": {
          "Google Maps": "Business pin at exact address",
          "Local Pack": "Appears in 'near me' searches",
          "Directions": "'Get directions' button in search"
        },
        "assertions": [
          "PostalAddress enables map integration",
          "Critical for LocalBusiness SEO",
          "Required for Google Maps display"
        ]
      }
    },
    {
      "id": "APP-PAGES-POSTALADDRESS-010",
      "given": "PostalAddress for local SEO",
      "when": "complete address with country code is provided",
      "then": "it should improve local search ranking and map visibility",
      "application": {
        "seoBenefits": {
          "Local Pack": "Appears in 3-pack local results",
          "Maps ranking": "Better ranking in Google Maps",
          "Near me searches": "Shows in location-based queries",
          "Knowledge Panel": "Displays full address"
        },
        "completeness": {
          "Minimal": "City + country (basic visibility)",
          "Good": "Street + city + region + postal + country (full visibility)",
          "Best": "Complete address + GeoCoordinates (optimal ranking)"
        },
        "assertions": [
          "Complete PostalAddress improves local SEO",
          "Critical for: LocalBusiness, Organization, Person",
          "Best practice: Include all 5 components"
        ]
      }
    },
    {
      "id": "APP-PAGES-META-STRUCTURED-DATA-POSTAL-ADDRESS-REGRESSION-001",
      "given": "complete application configuration with all features",
      "when": "user completes full workflow",
      "then": "user can complete full Postal Address workflow"
    }
  ]
}
