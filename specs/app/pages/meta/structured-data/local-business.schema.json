{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "local-business.schema.json",
  "title": "Local Business Schema",
  "description": "Schema.org LocalBusiness structured data",
  "type": "object",
  "properties": {
    "@context": {
      "type": "string",
      "const": "https://schema.org"
    },
    "@type": {
      "type": "string",
      "const": "LocalBusiness"
    },
    "name": {
      "type": "string",
      "description": "Business name"
    },
    "description": {
      "type": "string",
      "description": "Business description"
    },
    "url": {
      "type": "string",
      "format": "uri"
    },
    "logo": {
      "type": "string",
      "format": "uri"
    },
    "image": {
      "oneOf": [
        {
          "type": "string",
          "format": "uri"
        },
        {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uri"
          }
        }
      ]
    },
    "email": {
      "type": "string",
      "format": "email"
    },
    "telephone": {
      "type": "string"
    },
    "priceRange": {
      "type": "string",
      "description": "Price range (e.g., '$-$$$$')"
    },
    "address": {
      "$ref": "./postal-address.schema.json"
    },
    "geo": {
      "type": "object",
      "properties": {
        "@type": {
          "const": "GeoCoordinates"
        },
        "latitude": {
          "type": "string"
        },
        "longitude": {
          "type": "string"
        }
      }
    },
    "sameAs": {
      "type": "array",
      "items": {
        "type": "string",
        "format": "uri"
      }
    },
    "openingHoursSpecification": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "@type": {
            "const": "OpeningHoursSpecification"
          },
          "dayOfWeek": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"]
            }
          },
          "opens": {
            "type": "string",
            "pattern": "^[0-9]{2}:[0-9]{2}$"
          },
          "closes": {
            "type": "string",
            "pattern": "^[0-9]{2}:[0-9]{2}$"
          }
        }
      }
    }
  },
  "required": ["@context", "@type", "name"],
  "additionalProperties": false,
  "x-specs": [
    {
      "id": "APP-PAGES-LOCALBUSINESS-001",
      "given": "LocalBusiness with required properties",
      "when": "@context is 'https://schema.org', @type is 'LocalBusiness', and name is provided",
      "then": "it should validate minimal LocalBusiness structured data",
      "application": {
        "business": {
          "@context": "https://schema.org",
          "@type": "LocalBusiness",
          "name": "Joe's Coffee Shop"
        },
        "assertions": [
          "@context: 'https://schema.org' (required)",
          "@type: 'LocalBusiness' (required)",
          "name: Business name (required)",
          "Minimal valid LocalBusiness"
        ]
      }
    },
    {
      "id": "APP-PAGES-LOCALBUSINESS-002",
      "given": "LocalBusiness with name and description",
      "when": "name and description describe the business",
      "then": "it should provide business identity",
      "application": {
        "business": {
          "@context": "https://schema.org",
          "@type": "LocalBusiness",
          "name": "The Green Bicycle Cafe",
          "description": "Cozy neighborhood cafe serving organic coffee, fresh pastries, and light lunch options. Bike-friendly with outdoor seating."
        },
        "assertions": [
          "name: Business name (required)",
          "description: Business summary (recommended)",
          "Helps users understand what the business offers"
        ]
      }
    },
    {
      "id": "APP-PAGES-LOCALBUSINESS-003",
      "given": "LocalBusiness with url and logo",
      "when": "url is website and logo is business logo URL",
      "then": "it should provide business branding",
      "application": {
        "business": {
          "@context": "https://schema.org",
          "@type": "LocalBusiness",
          "name": "Smith Hardware Store",
          "url": "https://smithhardware.example.com",
          "logo": "https://smithhardware.example.com/logo.png"
        },
        "assertions": [
          "url: Business website (recommended)",
          "logo: Business logo URL (recommended)",
          "Displayed in Google Knowledge Panel"
        ]
      }
    },
    {
      "id": "APP-PAGES-LOCALBUSINESS-004",
      "given": "LocalBusiness with image",
      "when": "image is string URL or array of URLs",
      "then": "it should support single or multiple business images",
      "application": {
        "singleImage": {
          "@context": "https://schema.org",
          "@type": "LocalBusiness",
          "name": "Bella's Bakery",
          "image": "https://bellasbakery.example.com/storefront.jpg"
        },
        "multipleImages": {
          "@context": "https://schema.org",
          "@type": "LocalBusiness",
          "name": "Bella's Bakery",
          "image": [
            "https://bellasbakery.example.com/storefront.jpg",
            "https://bellasbakery.example.com/interior.jpg",
            "https://bellasbakery.example.com/products.jpg"
          ]
        },
        "assertions": [
          "image: String URL or array of URLs",
          "Multiple images: Show different views (storefront, interior, products)",
          "Displayed in Google Knowledge Panel and Maps"
        ]
      }
    },
    {
      "id": "APP-PAGES-LOCALBUSINESS-005",
      "given": "LocalBusiness with contact info",
      "when": "email and telephone are provided",
      "then": "it should provide business contact information",
      "application": {
        "business": {
          "@context": "https://schema.org",
          "@type": "LocalBusiness",
          "name": "Downtown Dental Clinic",
          "email": "info@downtowndental.example.com",
          "telephone": "+1-555-123-4567"
        },
        "assertions": [
          "email: Contact email (optional)",
          "telephone: Phone number with country code (recommended)",
          "Displayed in Google Knowledge Panel for easy contact"
        ]
      }
    },
    {
      "id": "APP-PAGES-LOCALBUSINESS-006",
      "given": "LocalBusiness with priceRange",
      "when": "priceRange is '$', '$$', '$$$', or '$$$$'",
      "then": "it should indicate business price level",
      "application": {
        "priceRanges": {
          "$": "Inexpensive (budget-friendly)",
          "$$": "Moderate (mid-range pricing)",
          "$$$": "Expensive (upscale)",
          "$$$$": "Very expensive (luxury)"
        },
        "example": {
          "@context": "https://schema.org",
          "@type": "LocalBusiness",
          "name": "The Fancy Restaurant",
          "priceRange": "$$$"
        },
        "assertions": [
          "priceRange: $ to $$$$ (optional)",
          "Helps users understand pricing level",
          "Displayed in Google Knowledge Panel"
        ]
      }
    },
    {
      "id": "APP-PAGES-LOCALBUSINESS-007",
      "given": "LocalBusiness with address",
      "when": "address references postal-address.schema.json",
      "then": "it should include physical address for maps",
      "application": {
        "business": {
          "@context": "https://schema.org",
          "@type": "LocalBusiness",
          "name": "Main Street Bookstore",
          "address": {
            "@type": "PostalAddress",
            "streetAddress": "456 Main Street",
            "addressLocality": "Springfield",
            "addressRegion": "IL",
            "postalCode": "62701",
            "addressCountry": "US"
          }
        },
        "assertions": [
          "address: PostalAddress object (required for local SEO)",
          "References postal-address.schema.json",
          "Enables Google Maps integration"
        ]
      }
    },
    {
      "id": "APP-PAGES-LOCALBUSINESS-008",
      "given": "LocalBusiness with geo coordinates",
      "when": "geo is object with @type 'GeoCoordinates', latitude, and longitude",
      "then": "it should provide precise map location",
      "application": {
        "business": {
          "@context": "https://schema.org",
          "@type": "LocalBusiness",
          "name": "Sunset Beach Cafe",
          "address": {
            "@type": "PostalAddress",
            "streetAddress": "789 Ocean Drive",
            "addressLocality": "Santa Monica",
            "addressRegion": "CA",
            "postalCode": "90401",
            "addressCountry": "US"
          },
          "geo": {
            "@type": "GeoCoordinates",
            "latitude": "34.0195",
            "longitude": "-118.4912"
          }
        },
        "assertions": [
          "geo: GeoCoordinates object (recommended)",
          "latitude + longitude: Decimal degrees (strings)",
          "Precise map pin placement in Google Maps"
        ]
      }
    },
    {
      "id": "APP-PAGES-LOCALBUSINESS-009",
      "given": "LocalBusiness with social profiles",
      "when": "sameAs is array of social media URLs",
      "then": "it should link business to social profiles",
      "application": {
        "business": {
          "@context": "https://schema.org",
          "@type": "LocalBusiness",
          "name": "Urban Fitness Gym",
          "sameAs": [
            "https://www.facebook.com/urbanfitnessgym",
            "https://www.instagram.com/urbanfitnessgym",
            "https://twitter.com/urbanfitness",
            "https://www.linkedin.com/company/urban-fitness"
          ]
        },
        "assertions": [
          "sameAs: Array of social profile URLs (optional)",
          "Links to: Facebook, Instagram, Twitter, LinkedIn, YouTube, etc.",
          "Helps Google verify business identity"
        ]
      }
    },
    {
      "id": "APP-PAGES-LOCALBUSINESS-010",
      "given": "LocalBusiness with opening hours",
      "when": "openingHoursSpecification is array with @type, dayOfWeek, opens, closes",
      "then": "it should provide business hours for each day",
      "application": {
        "business": {
          "@context": "https://schema.org",
          "@type": "LocalBusiness",
          "name": "City Library",
          "openingHoursSpecification": [
            {
              "@type": "OpeningHoursSpecification",
              "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
              "opens": "09:00",
              "closes": "18:00"
            },
            {
              "@type": "OpeningHoursSpecification",
              "dayOfWeek": ["Saturday"],
              "opens": "10:00",
              "closes": "16:00"
            }
          ]
        },
        "assertions": [
          "openingHoursSpecification: Array of hours objects",
          "Each object: @type, dayOfWeek array, opens, closes",
          "Displayed in Google Knowledge Panel and Maps"
        ]
      }
    },
    {
      "id": "APP-PAGES-LOCALBUSINESS-011",
      "given": "LocalBusiness with dayOfWeek enum",
      "when": "dayOfWeek is array of 'Monday', 'Tuesday', etc.",
      "then": "it should specify which days hours apply to",
      "application": {
        "examples": {
          "weekdays": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
          "weekend": ["Saturday", "Sunday"],
          "allDays": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"]
        },
        "assertions": [
          "dayOfWeek: Array of day names (enum)",
          "Valid: Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday",
          "Group days with same hours"
        ]
      }
    },
    {
      "id": "APP-PAGES-LOCALBUSINESS-012",
      "given": "LocalBusiness with opens/closes times",
      "when": "opens is '09:00' and closes is '18:00' (HH:MM format)",
      "then": "it should specify daily operating hours",
      "application": {
        "examples": {
          "standard": {"opens": "09:00", "closes": "17:00"},
          "lateNight": {"opens": "18:00", "closes": "02:00"},
          "24hours": {"opens": "00:00", "closes": "23:59"}
        },
        "assertions": [
          "opens: HH:MM format (24-hour clock)",
          "closes: HH:MM format (24-hour clock)",
          "Pattern: ^[0-9]{2}:[0-9]{2}$"
        ]
      }
    },
    {
      "id": "APP-PAGES-LOCALBUSINESS-013",
      "given": "LocalBusiness for local SEO",
      "when": "complete business data with address, geo, and hours is provided",
      "then": "it should enable Google Business Profile rich results",
      "application": {
        "completeBusiness": {
          "@context": "https://schema.org",
          "@type": "LocalBusiness",
          "name": "Riverside Veterinary Clinic",
          "description": "Full-service veterinary clinic providing comprehensive care for pets.",
          "url": "https://riversidevet.example.com",
          "logo": "https://riversidevet.example.com/logo.png",
          "image": "https://riversidevet.example.com/clinic.jpg",
          "email": "info@riversidevet.example.com",
          "telephone": "+1-555-987-6543",
          "priceRange": "$$",
          "address": {
            "@type": "PostalAddress",
            "streetAddress": "123 River Road",
            "addressLocality": "Portland",
            "addressRegion": "OR",
            "postalCode": "97201",
            "addressCountry": "US"
          },
          "geo": {
            "@type": "GeoCoordinates",
            "latitude": "45.5152",
            "longitude": "-122.6784"
          },
          "sameAs": ["https://www.facebook.com/riversidevet", "https://www.instagram.com/riversidevet"],
          "openingHoursSpecification": [
            {
              "@type": "OpeningHoursSpecification",
              "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
              "opens": "08:00",
              "closes": "18:00"
            }
          ]
        },
        "richResults": {
          "Google Knowledge Panel": "Full business card with all details",
          "Google Maps": "Map pin with hours, phone, directions",
          "Local Pack": "Appears in local search results (map + listings)"
        },
        "assertions": [
          "Complete LocalBusiness: All recommended properties",
          "Maximizes local SEO visibility",
          "Best practice for brick-and-mortar businesses"
        ]
      }
    },
    {
      "id": "APP-PAGES-LOCALBUSINESS-014",
      "given": "LocalBusiness for map display",
      "when": "address and geo coordinates are provided",
      "then": "it should enable map pin and directions in search results",
      "application": {
        "mapFeatures": {
          "Map pin": "Business appears on Google Maps at exact location",
          "Directions": "'Get directions' button in search results",
          "Nearby search": "Appears in 'near me' searches",
          "Street View": "Street View available from map pin"
        },
        "requirements": {
          "Required": "address (PostalAddress)",
          "Recommended": "geo (GeoCoordinates for precision)"
        },
        "assertions": [
          "address + geo enable map integration",
          "Appears in Google Maps and local searches",
          "Critical for location-based discovery"
        ]
      }
    },
    {
      "id": "APP-PAGES-META-STRUCTURED-DATA-LOCAL-BUSINESS-REGRESSION-001",
      "given": "complete application configuration with all features",
      "when": "user completes full workflow",
      "then": "user can complete full Local Business workflow"
    }
  ]
}
