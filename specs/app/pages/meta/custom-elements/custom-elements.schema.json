{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "custom-elements.schema.json",
  "title": "Custom Head Elements",
  "description": "Additional custom elements to add to the page head",
  "type": "array",
  "items": {
    "type": "object",
    "properties": {
      "type": {
        "type": "string",
        "enum": ["meta", "link", "script", "style", "base"],
        "description": "HTML element type"
      },
      "attrs": {
        "type": "object",
        "description": "Element attributes",
        "patternProperties": {
          "^[a-zA-Z][a-zA-Z0-9-]*$": {
            "type": "string"
          }
        }
      },
      "content": {
        "type": "string",
        "description": "Inner content for script or style elements"
      }
    },
    "required": ["type"],
    "additionalProperties": false
  },
  "examples": [
    [
      {
        "type": "meta",
        "attrs": {
          "name": "theme-color",
          "content": "#FFAF00"
        }
      },
      {
        "type": "meta",
        "attrs": {
          "name": "viewport",
          "content": "width=device-width, initial-scale=1"
        }
      },
      {
        "type": "link",
        "attrs": {
          "rel": "preconnect",
          "href": "https://fonts.gstatic.com"
        }
      }
    ]
  ],
  "x-specs": [
    {
      "id": "APP-PAGES-CUSTOM-001",
      "given": "custom element with type meta",
      "when": "type is 'meta' with attrs for name and content",
      "then": "it should add custom meta tag to head",
      "application": {
        "element": {"type": "meta", "attrs": {"name": "author", "content": "John Doe"}},
        "expectedHTML": "<meta name=\"author\" content=\"John Doe\" />",
        "assertions": ["type: 'meta' enum value", "attrs: Dynamic attributes", "Use for: Custom meta tags not covered by schema"]
      }
    },
    {
      "id": "APP-PAGES-CUSTOM-002",
      "given": "custom element with type link",
      "when": "type is 'link' with attrs for rel and href",
      "then": "it should add custom link element to head",
      "application": {
        "element": {"type": "link", "attrs": {"rel": "preconnect", "href": "https://fonts.gstatic.com"}},
        "expectedHTML": "<link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" />",
        "assertions": ["type: 'link' enum value", "Common uses: preconnect, alternate, canonical", "Flexible link elements"]
      }
    },
    {
      "id": "APP-PAGES-CUSTOM-003",
      "given": "custom element with type script",
      "when": "type is 'script' with src or content",
      "then": "it should add custom script to head",
      "application": {
        "option1": {"type": "script", "attrs": {"src": "https://cdn.example.com/library.js", "async": "true"}},
        "option2": {"type": "script", "content": "console.log('Hello');"},
        "expectedHTML": {"external": "<script src=\"https://cdn.example.com/library.js\" async></script>", "inline": "<script>console.log('Hello');</script>"},
        "assertions": ["type: 'script' enum value", "External: attrs.src", "Inline: content property", "Use for: Third-party scripts, inline code"]
      }
    },
    {
      "id": "APP-PAGES-CUSTOM-004",
      "given": "custom element with type style",
      "when": "type is 'style' with CSS content",
      "then": "it should add inline style to head",
      "application": {
        "element": {"type": "style", "content": "body { background: #000; }"},
        "expectedHTML": "<style>body { background: #000; }</style>",
        "assertions": ["type: 'style' enum value", "content: Inline CSS", "Use for: Critical CSS, overrides"]
      }
    },
    {
      "id": "APP-PAGES-CUSTOM-005",
      "given": "custom element with attrs object",
      "when": "attrs contains element attributes with kebab-case names",
      "then": "it should apply attributes to element",
      "application": {
        "element": {"type": "meta", "attrs": {"http-equiv": "X-UA-Compatible", "content": "IE=edge"}},
        "expectedHTML": "<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />",
        "pattern": "^[a-zA-Z][a-zA-Z0-9-]*$",
        "assertions": ["attrs: patternProperties (kebab-case)", "Dynamic attribute names", "All string values"]
      }
    },
    {
      "id": "APP-PAGES-CUSTOM-006",
      "given": "custom element with content property",
      "when": "content contains inner HTML for script/style",
      "then": "it should set element inner content",
      "application": {
        "script": {"type": "script", "content": "window.dataLayer = window.dataLayer || [];"},
        "style": {"type": "style", "content": ".custom { color: red; }"},
        "assertions": ["content: Inner HTML/text", "Only for: script, style elements", "Empty for: meta, link"]
      }
    },
    {
      "id": "APP-PAGES-CUSTOM-007",
      "given": "custom elements for theme-color meta",
      "when": "meta element sets theme-color for browser UI",
      "then": "it should customize browser chrome color",
      "application": {
        "element": {"type": "meta", "attrs": {"name": "theme-color", "content": "#FF5733"}},
        "expectedHTML": "<meta name=\"theme-color\" content=\"#FF5733\" />",
        "effect": "Browser toolbar/UI matches brand color (mobile Safari, Chrome)",
        "assertions": ["theme-color: Customizes browser chrome", "Mobile browsers (Safari, Chrome)", "Matches brand colors"]
      }
    },
    {
      "id": "APP-PAGES-CUSTOM-008",
      "given": "custom elements for viewport meta",
      "when": "meta element sets viewport for responsive design",
      "then": "it should configure mobile viewport",
      "application": {
        "element": {"type": "meta", "attrs": {"name": "viewport", "content": "width=device-width, initial-scale=1"}},
        "expectedHTML": "<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />",
        "importance": "CRITICAL for responsive design (mobile-friendly)",
        "assertions": ["viewport: Responsive meta tag", "width=device-width: Match device width", "initial-scale=1: No zoom", "Required for mobile-friendly sites"]
      }
    },
    {
      "id": "APP-PAGES-META-CUSTOM-ELEMENTS-REGRESSION-001",
      "given": "complete application configuration with all features",
      "when": "user completes full workflow",
      "then": "user can complete full custom elements workflow"
    }
  ]
}
