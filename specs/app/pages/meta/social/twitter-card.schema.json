{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "twitter-card.schema.json",
  "title": "Twitter Card Metadata",
  "description": "Twitter Card metadata for rich Twitter/X sharing",
  "type": "object",
  "properties": {
    "card": {
      "type": "string",
      "enum": ["summary", "summary_large_image", "app", "player"],
      "default": "summary_large_image",
      "description": "Type of Twitter Card"
    },
    "title": {
      "type": "string",
      "maxLength": 70,
      "description": "Twitter Card title"
    },
    "description": {
      "type": "string",
      "maxLength": 200,
      "description": "Twitter Card description"
    },
    "image": {
      "type": "string",
      "format": "uri",
      "description": "Image URL (min 144x144px for summary, 300x157px for large)"
    },
    "imageAlt": {
      "type": "string",
      "maxLength": 420,
      "description": "Alternative text for the image"
    },
    "site": {
      "type": "string",
      "pattern": "^@[A-Za-z0-9_]+$",
      "description": "Twitter @username of website",
      "examples": ["@mysite"]
    },
    "creator": {
      "type": "string",
      "pattern": "^@[A-Za-z0-9_]+$",
      "description": "Twitter @username of content creator",
      "examples": ["@johndoe"]
    },
    "player": {
      "type": "string",
      "format": "uri",
      "description": "HTTPS URL to video player (for player cards)"
    },
    "playerWidth": {
      "type": "integer",
      "minimum": 1,
      "description": "Width of video player in pixels"
    },
    "playerHeight": {
      "type": "integer",
      "minimum": 1,
      "description": "Height of video player in pixels"
    },
    "appName": {
      "type": "object",
      "properties": {
        "iPhone": { "type": "string" },
        "iPad": { "type": "string" },
        "googlePlay": { "type": "string" }
      },
      "description": "Name of app (for app cards)"
    },
    "appId": {
      "type": "object",
      "properties": {
        "iPhone": { "type": "string" },
        "iPad": { "type": "string" },
        "googlePlay": { "type": "string" }
      },
      "description": "App ID in respective stores"
    }
  },
  "required": ["card"],
  "additionalProperties": false,
  "examples": [
    {
      "card": "summary_large_image",
      "title": "Atelier de Consentement Strasbourg",
      "description": "3h de formation pratique pour apprendre Ã  dire non",
      "image": "https://example.com/twitter-card.png",
      "site": "@mysite",
      "creator": "@johndoe"
    }
  ],
  "specs": [
    {
      "id": "APP-PAGES-TWITTER-001",
      "given": "Twitter Card with required card type",
      "when": "card property specifies card type",
      "then": "it should validate minimal Twitter Card configuration"
    },
    {
      "id": "APP-PAGES-TWITTER-002",
      "given": "Twitter Card with type 'summary'",
      "when": "card is 'summary' for default card",
      "then": "it should display small square image card"
    },
    {
      "id": "APP-PAGES-TWITTER-003",
      "given": "Twitter Card with type 'summary_large_image'",
      "when": "card is 'summary_large_image' for featured content",
      "then": "it should display large rectangular image card"
    },
    {
      "id": "APP-PAGES-TWITTER-004",
      "given": "Twitter Card with type 'app'",
      "when": "card is 'app' with appName and appId",
      "then": "it should promote mobile app downloads"
    },
    {
      "id": "APP-PAGES-TWITTER-005",
      "given": "Twitter Card with type 'player'",
      "when": "card is 'player' with player URL and dimensions",
      "then": "it should embed video/audio player"
    },
    {
      "id": "APP-PAGES-TWITTER-006",
      "given": "Twitter Card title with maxLength",
      "when": "title has 70 characters max",
      "then": "it should enforce title length for Twitter display"
    },
    {
      "id": "APP-PAGES-TWITTER-007",
      "given": "Twitter Card description with maxLength",
      "when": "description has 200 characters max",
      "then": "it should enforce description length for Twitter cards"
    },
    {
      "id": "APP-PAGES-TWITTER-008",
      "given": "Twitter Card image with size requirements",
      "when": "image is min 144x144px for summary or 300x157px for large",
      "then": "it should provide properly sized social image"
    },
    {
      "id": "APP-PAGES-TWITTER-009",
      "given": "Twitter Card with site @username",
      "when": "site is '@mysite' for website attribution",
      "then": "it should attribute content to website Twitter account"
    },
    {
      "id": "APP-PAGES-TWITTER-010",
      "given": "Twitter Card with creator @username",
      "when": "creator is '@johndoe' for content author",
      "then": "it should attribute content to author Twitter account"
    },
    {
      "id": "APP-PAGES-TWITTER-011",
      "given": "Twitter Card imageAlt with maxLength",
      "when": "imageAlt has 420 characters max",
      "then": "it should provide accessible image description"
    },
    {
      "id": "APP-PAGES-TWITTER-012",
      "given": "Twitter Card rich preview",
      "when": "all properties create rich card on Twitter/X",
      "then": "it should display enhanced Twitter sharing card"
    }
  ]
}
