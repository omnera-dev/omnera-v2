{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "language-config.schema.json",
  "title": "Language Configuration",
  "description": "Configuration for a single supported language",
  "type": "object",
  "properties": {
    "code": {
      "type": "string",
      "pattern": "^[a-z]{2}(-[A-Z]{2})?$",
      "description": "Language code (ISO 639-1 with optional country)",
      "examples": ["en-US", "fr-FR", "es-ES", "ar-SA"]
    },
    "label": {
      "type": "string",
      "description": "Human-readable language name",
      "examples": ["English", "FranÃ§ais", "EspaÃ±ol", "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"]
    },
    "direction": {
      "type": "string",
      "enum": ["ltr", "rtl"],
      "default": "ltr",
      "description": "Text direction (left-to-right or right-to-left)"
    },
    "flag": {
      "type": "string",
      "description": "Flag emoji or icon path",
      "examples": ["ðŸ‡ºðŸ‡¸", "ðŸ‡«ðŸ‡·", "ðŸ‡ªðŸ‡¸", "/flags/us.svg"]
    }
  },
  "required": ["code", "label"],
  "additionalProperties": false,
  "examples": [
    {
      "code": "en-US",
      "label": "English",
      "direction": "ltr",
      "flag": "ðŸ‡ºðŸ‡¸"
    },
    {
      "code": "ar-SA",
      "label": "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",
      "direction": "rtl",
      "flag": "ðŸ‡¸ðŸ‡¦"
    }
  ],
  "specs": [
    {
      "id": "APP-LANG-CONFIG-001",
      "given": "a language config for English (en-US)",
      "when": "language is defined with code and label",
      "then": "it should be valid with LTR direction by default"
    },
    {
      "id": "APP-LANG-CONFIG-002",
      "given": "a language config for Arabic (ar-SA) with rtl direction",
      "when": "language is defined with RTL direction",
      "then": "it should support right-to-left text rendering"
    },
    {
      "id": "APP-LANG-CONFIG-003",
      "given": "a language config with 2-letter code (en)",
      "when": "language code uses ISO 639-1 format without country",
      "then": "it should be valid"
    },
    {
      "id": "APP-LANG-CONFIG-004",
      "given": "a language config with 4-letter code (en-US)",
      "when": "language code includes country code",
      "then": "it should be valid with country-specific format"
    },
    {
      "id": "APP-LANG-CONFIG-005",
      "given": "a language config with flag emoji (ðŸ‡«ðŸ‡·)",
      "when": "flag is provided as unicode emoji",
      "then": "it should display the flag in language switcher"
    },
    {
      "id": "APP-LANG-CONFIG-006",
      "given": "a language config with flag icon path (/flags/es.svg)",
      "when": "flag is provided as file path",
      "then": "it should load the flag image from the path"
    },
    {
      "id": "APP-LANG-CONFIG-007",
      "given": "a language config with native language label (FranÃ§ais, EspaÃ±ol, Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©)",
      "when": "label uses the language's native name",
      "then": "it should display correctly in all character sets"
    },
    {
      "id": "APP-LANG-CONFIG-008",
      "given": "a minimal language config with only code and label",
      "when": "direction and flag are omitted",
      "then": "it should use default LTR direction and no flag"
    }
  ]
}
