{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "block-props.schema.json",
  "title": "Block Props",
  "description": "Properties for block templates, supporting variable references",
  "type": "object",
  "patternProperties": {
    "^[a-zA-Z][a-zA-Z0-9]*$": {
      "oneOf": [
        {
          "type": "string",
          "description": "String property (may contain $variable)"
        },
        {
          "type": "number",
          "description": "Numeric property"
        },
        {
          "type": "boolean",
          "description": "Boolean property"
        },
        {
          "type": "object",
          "description": "Nested object property"
        },
        {
          "type": "array",
          "description": "Array property"
        }
      ]
    }
  },
  "additionalProperties": false,
  "examples": [
    {
      "className": "text-$color bg-$bgColor",
      "size": "$size",
      "enabled": true,
      "maxWidth": "max-w-$width"
    }
  ],
  "x-specs": [
    {
      "id": "APP-BLOCKS-PROPS-001",
      "given": "props as dynamic object",
      "when": "props uses patternProperties for flexible property names",
      "then": "it should validate any valid JavaScript property name at build time",
      "validation": {
        "setup": {
          "validProps": {
            "className": "text-blue",
            "id": "main",
            "ariaLabel": "Main content",
            "dataTestId": "component-1",
            "onClick": "handleClick"
          },
          "invalidProps": {
            "class-name": "invalid",
            "1stProperty": "invalid",
            "": "invalid"
          }
        },
        "assertions": [
          "Valid: className, id, ariaLabel, dataTestId, onClick",
          "Invalid: 'class-name' (hyphen), '1stProperty' (starts with digit), '' (empty)",
          "PatternProperties enable any component prop without predefined schema"
        ]
      },
      "application": {
        "blocks": [
          {
            "name": "flexible-component",
            "type": "div",
            "props": {
              "className": "text-blue",
              "id": "main",
              "ariaLabel": "Main content",
              "dataTestId": "component-1",
              "onClick": "handleClick"
            }
          }
        ],
        "pages": [
          {
            "name": "Demo",
            "path": "/demo",
            "sections": [
              {
                "block": "flexible-component",
                "vars": {}
              }
            ]
          }
        ],
        "expectedDOM": "<div data-testid=\"block-flexible-component\" class=\"text-blue\" id=\"main\" aria-label=\"Main content\" data-test-id=\"component-1\" onclick=\"handleClick\"></div>",
        "assertions": [
          "PatternProperties: Flexible prop names (no predefined schema)",
          "Valid: className, id, ariaLabel, dataTestId, onClick (camelCase)",
          "Invalid: 'class-name' (hyphen), '1stProperty' (digit), '' (empty)",
          "Pattern: ^[a-zA-Z][a-zA-Z0-9]*$ (JavaScript naming)",
          "Enables any component prop without schema updates"
        ]
      }
    },
    {
      "id": "APP-BLOCKS-PROPS-002",
      "given": "property names in camelCase",
      "when": "property names match ^[a-zA-Z][a-zA-Z0-9]*$ pattern",
      "then": "it should render as HTML attributes following camelCase convention",
      "application": {
        "blocks": [
          {
            "name": "custom-button",
            "type": "button",
            "props": {
              "className": "btn-primary",
              "ariaLabel": "Click me",
              "dataTestId": "submit-btn"
            }
          }
        ],
        "pages": [
          {
            "name": "Form",
            "path": "/form",
            "sections": [
              {
                "block": "custom-button",
                "vars": {}
              }
            ]
          }
        ],
        "expectedDOM": "<button data-testid=\"block-custom-button\" class=\"btn-primary\" aria-label=\"Click me\" data-test-id=\"submit-btn\"></button>",
        "assertions": [
          "CamelCase naming: JavaScript convention for props",
          "className (camelCase) → class (HTML attribute)",
          "ariaLabel (camelCase) → aria-label (kebab-case)",
          "dataTestId (camelCase) → data-test-id (kebab-case)",
          "Automatic conversion: camelCase props → kebab-case HTML attributes"
        ]
      }
    },
    {
      "id": "APP-BLOCKS-PROPS-003",
      "given": "property value as string",
      "when": "value is string (may contain $variable)",
      "then": "it should render string value with variable substitution",
      "application": {
        "blocks": [
          {
            "name": "styled-div",
            "type": "div",
            "props": {
              "className": "text-$color",
              "id": "$elementId",
              "title": "$tooltipText"
            }
          }
        ],
        "pages": [
          {
            "name": "Content",
            "path": "/content",
            "sections": [
              {
                "block": "styled-div",
                "vars": {
                  "color": "blue",
                  "elementId": "main-content",
                  "tooltipText": "Hover for info"
                }
              }
            ]
          }
        ],
        "expectedDOM": "<div data-testid=\"block-styled-div\" class=\"text-blue\" id=\"main-content\" title=\"Hover for info\"></div>",
        "assertions": [
          "String props: Support $variable substitution",
          "className: 'text-$color' → 'text-blue'",
          "id: '$elementId' → 'main-content'",
          "title: '$tooltipText' → 'Hover for info'",
          "All string prop values can contain $variable placeholders"
        ]
      }
    },
    {
      "id": "APP-BLOCKS-PROPS-004",
      "given": "property value as number",
      "when": "value is number like 4, 12, 300",
      "then": "it should render numeric value as HTML attribute",
      "application": {
        "blocks": [
          {
            "name": "grid-layout",
            "type": "div",
            "props": {
              "columns": 3,
              "gap": 4,
              "maxWidth": 1200
            }
          }
        ],
        "pages": [
          {
            "name": "Gallery",
            "path": "/gallery",
            "sections": [
              {
                "block": "grid-layout",
                "vars": {}
              }
            ]
          }
        ],
        "expectedDOM": "<div data-testid=\"block-grid-layout\" data-columns=\"3\" data-gap=\"4\" data-max-width=\"1200\"></div>",
        "assertions": [
          "Numeric props: Direct number values without $variable",
          "columns: 3 → data-columns=\"3\" (camelCase → kebab-case)",
          "gap: 4 → data-gap=\"4\"",
          "maxWidth: 1200 → data-max-width=\"1200\"",
          "Numbers automatically converted to string attributes in HTML"
        ]
      }
    },
    {
      "id": "APP-BLOCKS-PROPS-005",
      "given": "property value as boolean",
      "when": "value is true or false",
      "then": "it should render boolean as HTML boolean attribute",
      "application": {
        "blocks": [
          {
            "name": "form-input",
            "type": "input",
            "props": {
              "disabled": true,
              "required": true,
              "hidden": false
            }
          }
        ],
        "pages": [
          {
            "name": "Login",
            "path": "/login",
            "sections": [
              {
                "block": "form-input",
                "vars": {}
              }
            ]
          }
        ],
        "expectedDOM": "<input data-testid=\"block-form-input\" disabled required />",
        "assertions": [
          "Boolean props: true/false values control attribute presence",
          "disabled: true → 'disabled' attribute present (no value)",
          "required: true → 'required' attribute present (no value)",
          "hidden: false → attribute completely omitted from HTML",
          "HTML boolean attributes: true = present, false = absent"
        ]
      }
    },
    {
      "id": "APP-BLOCKS-PROPS-006",
      "given": "property value as object",
      "when": "value is nested object",
      "then": "it should render object as JSON data attribute",
      "application": {
        "blocks": [
          {
            "name": "chart-widget",
            "type": "div",
            "props": {
              "chartConfig": {
                "type": "bar",
                "data": [10, 20, 30],
                "colors": {
                  "primary": "blue",
                  "secondary": "green"
                }
              }
            }
          }
        ],
        "pages": [
          {
            "name": "Analytics",
            "path": "/analytics",
            "sections": [
              {
                "block": "chart-widget",
                "vars": {}
              }
            ]
          }
        ],
        "expectedDOM": "<div data-testid=\"block-chart-widget\" data-chart-config='{\"type\":\"bar\",\"data\":[10,20,30],\"colors\":{\"primary\":\"blue\",\"secondary\":\"green\"}}'></div>",
        "assertions": [
          "Object props: Complex nested objects serialized to JSON",
          "chartConfig (object) → data-chart-config (kebab-case attribute)",
          "JSON serialization: Full object structure preserved",
          "Nested properties: type, data array, colors object all included",
          "Enables passing complex configuration to client-side components"
        ]
      }
    },
    {
      "id": "APP-BLOCKS-PROPS-007",
      "given": "property value as array",
      "when": "value is array of items",
      "then": "it should render array as JSON data attribute",
      "application": {
        "blocks": [
          {
            "name": "tag-list",
            "type": "div",
            "props": {
              "tags": ["react", "typescript", "tailwind"]
            }
          }
        ],
        "pages": [
          {
            "name": "Tech Stack",
            "path": "/stack",
            "sections": [
              {
                "block": "tag-list",
                "vars": {}
              }
            ]
          }
        ],
        "expectedDOM": "<div data-testid=\"block-tag-list\" data-tags='[\"react\",\"typescript\",\"tailwind\"]'></div>",
        "assertions": [
          "Array props: Lists serialized to JSON",
          "tags (array) → data-tags (kebab-case attribute)",
          "JSON array serialization: ['react', 'typescript', 'tailwind']",
          "Order preserved: Items appear in definition order",
          "Enables passing lists/arrays to client-side components"
        ]
      }
    },
    {
      "id": "APP-BLOCKS-PROPS-008",
      "given": "className with multiple variables",
      "when": "className is 'text-$color bg-$bgColor'",
      "then": "it should render with all variables substituted in className",
      "application": {
        "blocks": [
          {
            "name": "multi-var-box",
            "type": "div",
            "props": {
              "className": "text-$color bg-$bgColor border-$borderColor"
            }
          }
        ],
        "pages": [
          {
            "name": "Themes",
            "path": "/themes",
            "sections": [
              {
                "block": "multi-var-box",
                "vars": {
                  "color": "blue",
                  "bgColor": "gray-100",
                  "borderColor": "gray-300"
                }
              }
            ]
          }
        ],
        "expectedDOM": "<div data-testid=\"block-multi-var-box\" class=\"text-blue bg-gray-100 border-gray-300\"></div>",
        "assertions": [
          "Multiple variables in single className: 3 variables in one prop",
          "$color → 'blue' in 'text-blue'",
          "$bgColor → 'gray-100' in 'bg-gray-100'",
          "$borderColor → 'gray-300' in 'border-gray-300'",
          "Final result: 'text-blue bg-gray-100 border-gray-300'",
          "Enables dynamic Tailwind utility class combinations"
        ]
      }
    },
    {
      "id": "APP-BLOCKS-PROPS-009",
      "given": "props mixing variables and literals",
      "when": "maxWidth is 'max-w-$width' (Tailwind utility with variable)",
      "then": "it should render combined static and dynamic className parts",
      "application": {
        "blocks": [
          {
            "name": "container",
            "type": "div",
            "props": {
              "className": "container mx-auto max-w-$width px-$padding"
            }
          }
        ],
        "pages": [
          {
            "name": "Content Page",
            "path": "/content",
            "sections": [
              {
                "block": "container",
                "vars": {
                  "width": "7xl",
                  "padding": "4"
                }
              }
            ]
          }
        ],
        "expectedDOM": "<div data-testid=\"block-container\" class=\"container mx-auto max-w-7xl px-4\"></div>",
        "assertions": [
          "Mixing static and dynamic: Combined literal + variable classes",
          "Static literals: 'container', 'mx-auto' (no variables)",
          "Dynamic parts: 'max-w-$width' → 'max-w-7xl'",
          "Dynamic parts: 'px-$padding' → 'px-4'",
          "Final: 'container mx-auto max-w-7xl px-4'",
          "Flexible Tailwind utilities: Fixed layout + variable sizing"
        ]
      }
    },
    {
      "id": "APP-BLOCKS-PROPS-010",
      "given": "props for component configuration",
      "when": "props define component appearance and behavior",
      "then": "it should render complete component with all configuration applied",
      "application": {
        "blocks": [
          {
            "name": "action-button",
            "type": "button",
            "props": {
              "className": "btn btn-$variant",
              "disabled": "$isDisabled",
              "ariaLabel": "$label",
              "dataAction": "$action"
            },
            "content": "$buttonText"
          }
        ],
        "pages": [
          {
            "name": "Contact Form",
            "path": "/contact",
            "sections": [
              {
                "block": "action-button",
                "vars": {
                  "variant": "primary",
                  "isDisabled": false,
                  "label": "Submit form",
                  "action": "submit",
                  "buttonText": "Submit"
                }
              }
            ]
          }
        ],
        "expectedDOM": "<button data-testid=\"block-action-button\" class=\"btn btn-primary\" aria-label=\"Submit form\" data-action=\"submit\">Submit</button>",
        "assertions": [
          "Complete component configuration: Props define all aspects",
          "Appearance: className='btn btn-$variant' → 'btn btn-primary'",
          "Behavior: disabled='$isDisabled' → omitted (false = absent)",
          "Behavior: dataAction='$action' → data-action='submit'",
          "Accessibility: ariaLabel='$label' → aria-label='Submit form'",
          "Content: content='$buttonText' → 'Submit'",
          "Props enable full component customization via variables"
        ]
      }
    },
    {
      "id": "APP-BLOCKS-PROPS-011",
      "given": "block props containing translation tokens ($t:)",
      "when": "block is rendered with $t: references in props values",
      "then": "translation tokens should be resolved to actual translated text during rendering",
      "validation": {
        "setup": {
          "languages": {
            "default": "en-US",
            "translations": {
              "en-US": {
                "button.save": "Save",
                "button.cancel": "Cancel"
              },
              "fr-FR": {
                "button.save": "Enregistrer",
                "button.cancel": "Annuler"
              }
            }
          }
        },
        "assertions": [
          "$t: tokens in block props resolve during rendering",
          "Props contain translated text, not $t: symbols",
          "Translation happens before variable substitution"
        ]
      },
      "application": {
        "languages": {
          "default": "en-US",
          "translations": {
            "en-US": {
              "close.label": "Close",
              "save.tooltip": "Save changes"
            },
            "fr-FR": {
              "close.label": "Fermer",
              "save.tooltip": "Enregistrer les modifications"
            }
          }
        },
        "blocks": [
          {
            "name": "action-button",
            "type": "button",
            "props": {
              "aria-label": "$t:close.label",
              "title": "$t:save.tooltip",
              "className": "btn btn-$variant"
            },
            "children": ["×"]
          }
        ],
        "pages": [
          {
            "name": "Form",
            "path": "/form",
            "sections": [
              {
                "block": "action-button",
                "vars": {
                  "variant": "primary"
                }
              }
            ]
          }
        ],
        "expectedDOM": {
          "en-US": "<button class=\"btn btn-primary\" aria-label=\"Close\" title=\"Save changes\">×</button>",
          "fr-FR": "<button class=\"btn btn-primary\" aria-label=\"Fermer\" title=\"Enregistrer les modifications\">×</button>"
        },
        "assertions": [
          "Translation tokens in block props: aria-label='$t:close.label' → 'Close'",
          "Translation tokens in block props: title='$t:save.tooltip' → 'Save changes'",
          "Variable substitution works alongside translation: className='btn btn-$variant' → 'btn btn-primary'",
          "Both patterns coexist: $t: (translation) + $variable (substitution)",
          "No $t: symbols in rendered HTML",
          "Language switching: French translations applied when fr-FR selected"
        ]
      }
    },
    {
      "id": "APP-BLOCKS-PROPS-012",
      "given": "block children containing translation tokens ($t:)",
      "when": "block is rendered with $t: references in children arrays",
      "then": "translation tokens in children should be resolved to translated text",
      "validation": {
        "setup": {
          "languages": {
            "default": "en-US",
            "translations": {
              "en-US": {
                "nav.home": "Home",
                "nav.about": "About"
              },
              "fr-FR": {
                "nav.home": "Accueil",
                "nav.about": "À propos"
              }
            }
          }
        },
        "assertions": [
          "$t: tokens in children resolve during rendering",
          "Children contain translated text, not $t: symbols",
          "Translation happens for all children items"
        ]
      },
      "application": {
        "languages": {
          "default": "en-US",
          "translations": {
            "en-US": {
              "menu.home": "Home",
              "menu.products": "Products",
              "menu.contact": "Contact"
            },
            "fr-FR": {
              "menu.home": "Accueil",
              "menu.products": "Produits",
              "menu.contact": "Contact"
            }
          }
        },
        "blocks": [
          {
            "name": "nav-menu",
            "type": "nav",
            "children": [
              {
                "type": "a",
                "children": ["$t:menu.home"]
              },
              {
                "type": "a",
                "children": ["$t:menu.products"]
              },
              {
                "type": "a",
                "children": ["$t:menu.contact"]
              }
            ]
          }
        ],
        "pages": [
          {
            "name": "Main",
            "path": "/",
            "sections": [
              {
                "block": "nav-menu"
              }
            ]
          }
        ],
        "expectedDOM": {
          "en-US": "<nav><a>Home</a><a>Products</a><a>Contact</a></nav>",
          "fr-FR": "<nav><a>Accueil</a><a>Produits</a><a>Contact</a></nav>"
        },
        "assertions": [
          "Children translation: children=['$t:menu.home'] → ['Home']",
          "All children translated: 3 $t: references → 3 translated strings",
          "No $t: in children text nodes",
          "Block reusability: Same block renders in multiple languages",
          "Translation per language: French children when fr-FR selected"
        ]
      }
    },
    {
      "id": "APP-BLOCKS-PROPS-013",
      "given": "block content containing translation tokens ($t:)",
      "when": "block is rendered with $t: reference in content property",
      "then": "translation token in content should be resolved to translated text",
      "validation": {
        "setup": {
          "languages": {
            "default": "en-US",
            "translations": {
              "en-US": {
                "hero.title": "Welcome"
              },
              "fr-FR": {
                "hero.title": "Bienvenue"
              }
            }
          }
        },
        "assertions": [
          "$t: token in content resolves during rendering",
          "Content contains translated text, not $t: symbol",
          "Translation applies to content property"
        ]
      },
      "application": {
        "languages": {
          "default": "en-US",
          "translations": {
            "en-US": {
              "hero.tagline": "Build your next great app",
              "footer.copyright": "© 2025 All rights reserved"
            },
            "fr-FR": {
              "hero.tagline": "Créez votre prochaine grande application",
              "footer.copyright": "© 2025 Tous droits réservés"
            }
          }
        },
        "blocks": [
          {
            "name": "hero-heading",
            "type": "h1",
            "content": "$t:hero.tagline"
          },
          {
            "name": "footer-text",
            "type": "footer",
            "content": "$t:footer.copyright"
          }
        ],
        "pages": [
          {
            "name": "Landing",
            "path": "/landing",
            "sections": [
              {
                "block": "hero-heading"
              },
              {
                "block": "footer-text"
              }
            ]
          }
        ],
        "expectedDOM": {
          "en-US": "<h1>Build your next great app</h1><footer>© 2025 All rights reserved</footer>",
          "fr-FR": "<h1>Créez votre prochaine grande application</h1><footer>© 2025 Tous droits réservés</footer>"
        },
        "assertions": [
          "Content translation: content='$t:hero.tagline' → 'Build your next great app'",
          "Content translation: content='$t:footer.copyright' → '© 2025 All rights reserved'",
          "No $t: in text content",
          "Block content supports translation tokens",
          "Multi-language support: French content when fr-FR selected"
        ]
      }
    },
    {
      "id": "APP-BLOCKS-PROPS-014",
      "given": "block with both translation tokens ($t:) and variable references ($variable)",
      "when": "block uses $t: for translations AND $variable for dynamic data",
      "then": "both patterns should work together: translations resolved first, then variables substituted",
      "validation": {
        "setup": {
          "languages": {
            "default": "en-US",
            "translations": {
              "en-US": {
                "product.price": "Price:",
                "product.buy": "Buy Now"
              }
            }
          }
        },
        "assertions": [
          "$t: tokens resolve to translations",
          "$variable references substitute with vars",
          "Both patterns coexist in same block",
          "Resolution order: translations → variables"
        ]
      },
      "application": {
        "languages": {
          "default": "en-US",
          "translations": {
            "en-US": {
              "card.title": "Product",
              "card.price": "Price:",
              "card.action": "Add to Cart"
            },
            "fr-FR": {
              "card.title": "Produit",
              "card.price": "Prix:",
              "card.action": "Ajouter au panier"
            }
          }
        },
        "blocks": [
          {
            "name": "product-card",
            "type": "div",
            "props": {
              "className": "card card-$variant",
              "data-product-id": "$productId"
            },
            "children": [
              {
                "type": "h3",
                "content": "$t:card.title"
              },
              {
                "type": "p",
                "content": "$t:card.price"
              },
              {
                "type": "span",
                "content": "$price"
              },
              {
                "type": "button",
                "props": {
                  "aria-label": "$t:card.action"
                },
                "children": ["$t:card.action"]
              }
            ]
          }
        ],
        "pages": [
          {
            "name": "Shop",
            "path": "/shop",
            "sections": [
              {
                "block": "product-card",
                "vars": {
                  "variant": "primary",
                  "productId": "12345",
                  "price": "$99.99"
                }
              }
            ]
          }
        ],
        "expectedDOM": {
          "en-US": "<div class=\"card card-primary\" data-product-id=\"12345\"><h3>Product</h3><p>Price:</p><span>$99.99</span><button aria-label=\"Add to Cart\">Add to Cart</button></div>",
          "fr-FR": "<div class=\"card card-primary\" data-product-id=\"12345\"><h3>Produit</h3><p>Prix:</p><span>$99.99</span><button aria-label=\"Ajouter au panier\">Ajouter au panier</button></div>"
        },
        "assertions": [
          "Translation resolution: $t:card.title → 'Product', $t:card.price → 'Price:', $t:card.action → 'Add to Cart'",
          "Variable substitution: $variant → 'primary', $productId → '12345', $price → '$99.99'",
          "Both patterns work: className='card card-$variant' (variable) + content='$t:card.title' (translation)",
          "No conflicts: $t: and $variable coexist peacefully",
          "Multi-language + dynamic: French translations with same vars",
          "No $t: or $ in final HTML (both fully resolved)"
        ]
      }
    },
    {
      "id": "APP-BLOCKS-BLOCK-PROPS-REGRESSION-001",
      "given": "complete application configuration with all features",
      "when": "user completes full workflow",
      "then": "user can complete full props workflow",
      "workflow": [
        {
          "step": 1,
          "action": "User defines block template with props containing $variable placeholders",
          "validation": "Props validate with camelCase property names (^[a-zA-Z][a-zA-Z0-9]*$) and string/number/boolean/object/array types",
          "expectedState": "Block template created with dynamic props: className, id, ariaLabel, dataTestId using $variable syntax"
        },
        {
          "step": 2,
          "action": "User creates block reference with vars object providing variable values",
          "validation": "Vars object validates with matching camelCase property names",
          "expectedState": "Block reference configured with vars: {color: 'blue', elementId: 'main', label: 'Main content'}"
        },
        {
          "step": 3,
          "action": "System substitutes $variable placeholders in props with vars values",
          "validation": "Variable substitution logic replaces $color → 'blue', $elementId → 'main', $label → 'Main content'",
          "expectedState": "Props transformed: className='text-$color' → className='text-blue', id='$elementId' → id='main'"
        },
        {
          "step": 4,
          "action": "System renders block with all props applied as HTML attributes",
          "validation": "CamelCase props convert to kebab-case HTML attributes: className → class, ariaLabel → aria-label, dataTestId → data-test-id",
          "expectedState": "HTML element rendered: <div class=\"text-blue\" id=\"main\" aria-label=\"Main content\" data-test-id=\"component-1\"></div>"
        },
        {
          "step": 5,
          "action": "System handles all prop value types correctly in rendered attributes",
          "validation": "String props render as string attributes, number props as data-* attributes, boolean props as presence/absence, objects/arrays as JSON data-* attributes",
          "expectedState": "All prop types rendered correctly: strings, numbers, booleans (present/absent), objects (JSON), arrays (JSON)"
        }
      ],
      "application": {
        "completeExample": {
          "blocks": [
            {
              "name": "dynamic-component",
              "type": "div",
              "props": {
                "className": "text-$color bg-$bgColor border-$borderColor",
                "id": "$elementId",
                "ariaLabel": "$label",
                "dataTestId": "$testId",
                "dataColumns": "$columns",
                "disabled": "$isDisabled",
                "chartConfig": {
                  "type": "$chartType",
                  "data": "$chartData",
                  "colors": {
                    "primary": "$primaryColor",
                    "secondary": "$secondaryColor"
                  }
                },
                "tags": ["$tag1", "$tag2", "$tag3"]
              },
              "content": "$content"
            }
          ],
          "pages": [
            {
              "name": "Demo",
              "path": "/demo",
              "sections": [
                {
                  "block": "dynamic-component",
                  "vars": {
                    "color": "blue-600",
                    "bgColor": "gray-100",
                    "borderColor": "gray-300",
                    "elementId": "main-content",
                    "label": "Main content area",
                    "testId": "content-block-1",
                    "columns": 3,
                    "isDisabled": false,
                    "chartType": "bar",
                    "chartData": [10, 20, 30],
                    "primaryColor": "blue",
                    "secondaryColor": "green",
                    "tag1": "react",
                    "tag2": "typescript",
                    "tag3": "tailwind",
                    "content": "Hello World"
                  }
                }
              ]
            }
          ]
        },
        "expectedDOM": "<div data-testid=\"block-dynamic-component\" class=\"text-blue-600 bg-gray-100 border-gray-300\" id=\"main-content\" aria-label=\"Main content area\" data-test-id=\"content-block-1\" data-columns=\"3\" data-chart-config='{\"type\":\"bar\",\"data\":[10,20,30],\"colors\":{\"primary\":\"blue\",\"secondary\":\"green\"}}' data-tags='[\"react\",\"typescript\",\"tailwind\"]'>Hello World</div>",
        "assertions": [
          "Props object: Flexible property definition via patternProperties (^[a-zA-Z][a-zA-Z0-9]*$)",
          "Variable placeholders: $variable syntax in props enables dynamic data substitution",
          "Multi-variable className: Multiple $variables in single className value (text-$color bg-$bgColor border-$borderColor)",
          "Variable substitution: All $placeholders replaced with actual values from vars object",
          "CamelCase to kebab-case conversion: className → class, ariaLabel → aria-label, dataTestId → data-test-id",
          "String props: Direct string values or $variable placeholders render as HTML attributes",
          "Number props: Numeric values render as data-* attributes with string conversion",
          "Boolean props: true = attribute present (no value), false = attribute absent from HTML",
          "Object props: Nested objects serialize to JSON in data-* attributes",
          "Array props: Lists serialize to JSON arrays in data-* attributes",
          "Tailwind utility classes: Dynamic Tailwind classes via $variable substitution (text-blue-600, bg-gray-100)",
          "Accessibility: ariaLabel prop enables dynamic ARIA labels for screen readers",
          "Test identification: dataTestId prop provides test-friendly element identification",
          "Complete component configuration: Props define appearance, behavior, accessibility, and data",
          "Single source of truth: Block template + vars = fully configured component instance"
        ]
      },
      "integrationPoints": [
        "Variable substitution: Props use $variable placeholders resolved from block reference vars object",
        "Block reference system: Vars object provides data for all $variables in props",
        "HTML attribute mapping: CamelCase prop names convert to kebab-case HTML attributes",
        "Tailwind CSS: className prop supports dynamic Tailwind utility class generation",
        "Accessibility: ariaLabel, ariaDescribedBy, role props enable ARIA attribute generation",
        "Test automation: dataTestId prop provides stable test selectors for E2E/unit tests",
        "JSON serialization: Object and array props serialize to JSON for data-* attributes",
        "Boolean attributes: HTML boolean attribute presence/absence based on true/false values",
        "Content property: Separate content property for element text content with $variable support",
        "CSS class composition: Multiple $variables in className enable complex dynamic styling",
        "Data attributes: Custom data-* attributes for client-side JavaScript/CSS selectors",
        "Schema flexibility: patternProperties allow any valid JavaScript property name without predefined schema"
      ]
    }
  ]
}
