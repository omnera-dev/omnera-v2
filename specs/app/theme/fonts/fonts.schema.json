{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "fonts.schema.json",
  "title": "Font Configuration",
  "description": "Typography design tokens for font families and styles",
  "type": "object",
  "patternProperties": {
    "^[a-zA-Z]+$": {
      "type": "object",
      "properties": {
        "family": {
          "type": "string",
          "description": "Primary font family name"
        },
        "fallback": {
          "type": "string",
          "description": "Fallback font stack"
        },
        "weights": {
          "type": "array",
          "items": {
            "type": "integer",
            "enum": [100, 200, 300, 400, 500, 600, 700, 800, 900]
          },
          "description": "Available font weights"
        },
        "style": {
          "type": "string",
          "enum": ["normal", "italic", "oblique"],
          "default": "normal",
          "description": "Font style"
        },
        "size": {
          "type": "string",
          "description": "Default font size"
        },
        "lineHeight": {
          "type": "string",
          "description": "Default line height"
        },
        "letterSpacing": {
          "type": "string",
          "description": "Letter spacing"
        },
        "transform": {
          "type": "string",
          "enum": ["none", "uppercase", "lowercase", "capitalize"],
          "description": "Text transformation"
        },
        "url": {
          "type": "string",
          "format": "uri",
          "description": "Font file URL or Google Fonts URL"
        }
      },
      "required": ["family"],
      "additionalProperties": false
    }
  },
  "additionalProperties": false,
  "examples": [
    {
      "title": {
        "family": "Bely Display",
        "fallback": "Georgia, serif",
        "weights": [400, 700],
        "transform": "lowercase",
        "letterSpacing": "0.05em"
      },
      "body": {
        "family": "Inter",
        "fallback": "system-ui, sans-serif",
        "weights": [300, 400, 500, 600, 700],
        "size": "16px",
        "lineHeight": "1.5"
      },
      "mono": {
        "family": "JetBrains Mono",
        "fallback": "monospace",
        "weights": [400, 700]
      }
    }
  ],
  "x-specs": [
    {
      "id": "APP-THEME-FONTS-001",
      "given": "a font with only family defined",
      "when": "font uses minimal configuration",
      "then": "it should validate font family as the only required property",
      "validation": {
        "setup": {
          "fonts": {
            "body": {
              "family": "Inter"
            }
          }
        },
        "assertions": ["Only 'family' is required", "All other properties optional"]
      }
    },
    {
      "id": "APP-THEME-FONTS-002",
      "given": "a font with family and fallback stack",
      "when": "font includes fallback fonts (e.g., 'Inter', 'system-ui, sans-serif')",
      "then": "it should validate graceful fallback for missing fonts",
      "validation": {
        "setup": {
          "fonts": {
            "body": {
              "family": "Inter",
              "fallback": "system-ui, sans-serif"
            }
          }
        },
        "assertions": [
          "Primary: Inter",
          "Fallback: system-ui, sans-serif",
          "Browser uses fallback if primary unavailable"
        ]
      }
    },
    {
      "id": "APP-THEME-FONTS-003",
      "given": "a font with multiple weights [300, 400, 500, 600, 700]",
      "when": "font supports various weight options",
      "then": "it should validate weight values from 100-900 in increments of 100",
      "validation": {
        "setup": {
          "fonts": {
            "body": {
              "family": "Inter",
              "weights": [300, 400, 500, 600, 700]
            }
          }
        },
        "assertions": [
          "Weights: 300, 400, 500, 600, 700",
          "Enum: [100, 200, 300, 400, 500, 600, 700, 800, 900]",
          "No custom weights allowed"
        ]
      }
    },
    {
      "id": "APP-THEME-FONTS-004",
      "given": "a font with style set to 'italic'",
      "when": "font uses italic style",
      "then": "it should validate normal, italic, or oblique styles",
      "validation": {
        "setup": {
          "fonts": {
            "title": {
              "family": "Georgia",
              "style": "italic"
            }
          }
        },
        "assertions": ["Style: italic", "Enum: normal, italic, oblique", "Default: normal"]
      }
    },
    {
      "id": "APP-THEME-FONTS-005",
      "given": "a font with size '16px' and lineHeight '1.5'",
      "when": "font defines default size and line spacing",
      "then": "it should validate typography metrics for body text",
      "validation": {
        "setup": {
          "fonts": {
            "body": {
              "family": "Inter",
              "size": "16px",
              "lineHeight": "1.5"
            }
          }
        },
        "assertions": [
          "Size: 16px (base font size)",
          "LineHeight: 1.5 (line spacing ratio)",
          "Establishes baseline typography"
        ]
      }
    },
    {
      "id": "APP-THEME-FONTS-006",
      "given": "a font with letterSpacing '0.05em'",
      "when": "font includes letter spacing for display text",
      "then": "it should validate character spacing for readability",
      "validation": {
        "setup": {
          "fonts": {
            "title": {
              "family": "Bely Display",
              "letterSpacing": "0.05em"
            }
          }
        },
        "assertions": [
          "LetterSpacing: 0.05em",
          "Em-based spacing (relative to font size)",
          "Increases readability for headings"
        ]
      }
    },
    {
      "id": "APP-THEME-FONTS-007",
      "given": "a font with transform 'uppercase'",
      "when": "font uses text transformation",
      "then": "it should validate none, uppercase, lowercase, or capitalize",
      "validation": {
        "setup": {
          "fonts": {
            "label": {
              "family": "Inter",
              "transform": "uppercase"
            }
          }
        },
        "assertions": [
          "Transform: uppercase",
          "Enum: none, uppercase, lowercase, capitalize",
          "Applied via CSS text-transform"
        ]
      }
    },
    {
      "id": "APP-THEME-FONTS-008",
      "given": "a font with Google Fonts URL",
      "when": "font is loaded from external source",
      "then": "it should validate font URL for remote loading",
      "validation": {
        "setup": {
          "fonts": {
            "body": {
              "family": "Inter",
              "url": "https://fonts.googleapis.com/css2?family=Inter:wght@300..700"
            }
          }
        },
        "assertions": [
          "URL format validated",
          "Google Fonts supported",
          "Self-hosted fonts supported"
        ]
      }
    },
    {
      "id": "APP-THEME-FONTS-009",
      "given": "a complete font config with all properties",
      "when": "font is fully configured",
      "then": "it should validate comprehensive typography settings",
      "validation": {
        "setup": {
          "fonts": {
            "body": {
              "family": "Inter",
              "fallback": "system-ui, sans-serif",
              "weights": [400, 700],
              "style": "normal",
              "size": "16px",
              "lineHeight": "1.5",
              "letterSpacing": "0",
              "transform": "none",
              "url": "https://fonts.googleapis.com/css2?family=Inter"
            }
          }
        },
        "assertions": [
          "All 9 properties defined",
          "Complete typography configuration",
          "Production-ready font setup"
        ]
      }
    },
    {
      "id": "APP-THEME-FONTS-010",
      "given": "a theme with multiple font categories (title, body, mono)",
      "when": "different fonts are defined for headings, body text, and code",
      "then": "it should validate semantic font system for all UI contexts",
      "validation": {
        "setup": {
          "fonts": {
            "title": {
              "family": "Bely Display",
              "fallback": "Georgia, serif"
            },
            "body": {
              "family": "Inter",
              "fallback": "system-ui, sans-serif"
            },
            "mono": {
              "family": "JetBrains Mono",
              "fallback": "monospace"
            }
          }
        },
        "assertions": [
          "3 font categories: title, body, mono",
          "Title: serif (display)",
          "Body: sans-serif (readability)",
          "Mono: monospace (code)"
        ]
      }
    },
    {
      "id": "APP-THEME-FONTS-APPLICATION-001",
      "given": "body font applied to paragraph",
      "when": "paragraph uses theme.fonts.body",
      "then": "it should render with body font family and metrics",
      "application": {
        "theme": {
          "fonts": {
            "body": {
              "family": "Inter",
              "fallback": "sans-serif",
              "size": "16px",
              "lineHeight": "1.5"
            }
          }
        },
        "component": "paragraph",
        "expectedCSS": "font-family: Inter, sans-serif; font-size: 16px; line-height: 1.5;",
        "expectedDOM": "<p style=\"font-family: Inter, sans-serif; font-size: 16px; line-height: 1.5;\">Body text</p>",
        "assertions": [
          "Font: Inter with sans-serif fallback",
          "Size: 16px",
          "LineHeight: 1.5 (24px for 16px font)"
        ]
      }
    },
    {
      "id": "APP-THEME-FONTS-APPLICATION-002",
      "given": "title font applied to heading",
      "when": "heading uses theme.fonts.title with transform",
      "then": "it should render with title font and text transformation",
      "application": {
        "theme": {
          "fonts": {
            "title": {
              "family": "Bely Display",
              "transform": "lowercase",
              "letterSpacing": "0.05em"
            }
          }
        },
        "component": "heading",
        "expectedCSS": "font-family: 'Bely Display', Georgia, serif; text-transform: lowercase; letter-spacing: 0.05em;",
        "expectedDOM": "<h1 style=\"font-family: 'Bely Display', Georgia, serif; text-transform: lowercase; letter-spacing: 0.05em;\">Our Mission</h1>",
        "assertions": [
          "Font: Bely Display",
          "Transform: lowercase ('Our Mission' → 'our mission')",
          "LetterSpacing: 0.05em (wider tracking)"
        ]
      }
    }
  ]
}
