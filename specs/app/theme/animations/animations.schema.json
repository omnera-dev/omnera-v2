{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "animations.schema.json",
  "title": "Animation Configuration",
  "description": "Animation and transition design tokens",
  "type": "object",
  "patternProperties": {
    "^[a-zA-Z][a-zA-Z0-9]*$": {
      "oneOf": [
        {
          "type": "boolean",
          "description": "Enable/disable animation"
        },
        {
          "type": "string",
          "description": "Animation CSS value or class name"
        },
        {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": true
            },
            "duration": {
              "type": "string",
              "pattern": "^\\d+(\\.\\d+)?(ms|s)$",
              "description": "Animation duration (e.g., '300ms', '0.5s')"
            },
            "easing": {
              "type": "string",
              "description": "Easing function (e.g., 'ease-in-out', 'cubic-bezier(0.4, 0, 0.2, 1)')"
            },
            "delay": {
              "type": "string",
              "pattern": "^\\d+(\\.\\d+)?(ms|s)$",
              "description": "Animation delay (e.g., '200ms', '0.5s')"
            },
            "keyframes": {
              "type": "object",
              "description": "CSS keyframes definition"
            }
          }
        }
      ]
    }
  },
  "additionalProperties": false,
  "examples": [
    {
      "fadeIn": true,
      "fadeInUp": true,
      "float": true,
      "pulse": {
        "enabled": true,
        "duration": "2s",
        "easing": "ease-in-out"
      },
      "transition": {
        "duration": "300ms",
        "easing": "ease-in-out"
      },
      "slideIn": "slide-in 0.5s ease-out"
    }
  ],
  "x-specs": [
    {
      "id": "APP-THEME-ANIMATIONS-001",
      "given": "an animation with boolean value true",
      "when": "animation is simply enabled/disabled",
      "then": "it should validate animation enablement",
      "validation": {
        "setup": {
          "animations": {
            "fadeIn": true
          }
        },
        "assertions": [
          "Boolean: true enables animation",
          "Simplest form",
          "Uses default animation settings"
        ]
      }
    },
    {
      "id": "APP-THEME-ANIMATIONS-002",
      "given": "an animation with string CSS value",
      "when": "animation uses CSS shorthand (e.g., 'slide-in 0.5s ease-out')",
      "then": "it should validate CSS animation string",
      "validation": {
        "setup": {
          "animations": {
            "slideIn": "slide-in 0.5s ease-out"
          }
        },
        "assertions": [
          "CSS shorthand accepted",
          "Format: name duration easing",
          "Direct CSS animation value"
        ]
      }
    },
    {
      "id": "APP-THEME-ANIMATIONS-003",
      "given": "an animation with duration and easing object config",
      "when": "animation has custom duration '300ms' and easing 'ease-in-out'",
      "then": "it should validate timing properties",
      "validation": {
        "setup": {
          "animations": {
            "transition": {
              "duration": "300ms",
              "easing": "ease-in-out"
            }
          }
        },
        "assertions": [
          "Duration: 300ms",
          "Easing: ease-in-out",
          "Object config for granular control"
        ]
      }
    },
    {
      "id": "APP-THEME-ANIMATIONS-004",
      "given": "an animation with delay property",
      "when": "animation should wait before starting",
      "then": "it should validate animation delay",
      "validation": {
        "setup": {
          "animations": {
            "delayedFade": {
              "duration": "500ms",
              "delay": "200ms"
            }
          }
        },
        "assertions": [
          "Delay: 200ms before start",
          "Duration: 500ms animation",
          "Sequencing control"
        ]
      }
    },
    {
      "id": "APP-THEME-ANIMATIONS-005",
      "given": "an animation with keyframes object",
      "when": "animation uses custom CSS keyframes",
      "then": "it should validate animation frames definition",
      "validation": {
        "setup": {
          "animations": {
            "custom": {
              "keyframes": {
                "0%": {
                  "opacity": 0
                },
                "100%": {
                  "opacity": 1
                }
              }
            }
          }
        },
        "assertions": ["Keyframes object defines animation", "0%: start state", "100%: end state"]
      }
    },
    {
      "id": "APP-THEME-ANIMATIONS-006",
      "given": "an animation with enabled set to false",
      "when": "animation is disabled via config",
      "then": "it should validate disabled state",
      "validation": {
        "setup": {
          "animations": {
            "fadeIn": {
              "enabled": false
            }
          }
        },
        "assertions": [
          "Enabled: false disables animation",
          "Allows conditional animations",
          "Useful for reduced-motion preferences"
        ]
      }
    },
    {
      "id": "APP-THEME-ANIMATIONS-007",
      "given": "common animations (fadeIn, fadeInUp, pulse, float)",
      "when": "theme defines standard animation library",
      "then": "it should validate reusable animation library",
      "validation": {
        "setup": {
          "animations": {
            "fadeIn": true,
            "fadeInUp": true,
            "pulse": true,
            "float": true
          }
        },
        "assertions": [
          "4 standard animations",
          "Reusable across components",
          "Consistent motion design"
        ]
      }
    },
    {
      "id": "APP-THEME-ANIMATIONS-008",
      "given": "transition config with duration and easing",
      "when": "global transition timing is defined",
      "then": "it should validate default transition behavior",
      "validation": {
        "setup": {
          "animations": {
            "transition": {
              "duration": "300ms",
              "easing": "ease-in-out"
            }
          }
        },
        "assertions": [
          "Default transition: 300ms",
          "Easing: ease-in-out (smooth)",
          "Applied to all transitions"
        ]
      }
    },
    {
      "id": "APP-THEME-ANIMATIONS-APPLICATION-001",
      "given": "fadeIn animation applied to modal component",
      "when": "modal uses theme.animations.fadeIn",
      "then": "it should render modal with fade-in animation on mount",
      "application": {
        "theme": {
          "animations": {
            "fadeIn": {
              "duration": "300ms",
              "easing": "ease-in"
            }
          }
        },
        "component": "modal",
        "expectedCSS": "animation: fadeIn 300ms ease-in;",
        "expectedDOM": "<div data-testid=\"modal\" class=\"animate-fade-in\" style=\"animation: fadeIn 300ms ease-in;\">Modal content</div>",
        "assertions": [
          "Animation token: theme.animations.fadeIn",
          "Applied as: style=\"animation: fadeIn 300ms ease-in;\"",
          "Visual result: Modal fades in over 300ms",
          "Token-to-CSS transformation"
        ]
      }
    },
    {
      "id": "APP-THEME-ANIMATIONS-APPLICATION-002",
      "given": "pulse animation applied to notification badge",
      "when": "badge uses theme.animations.pulse",
      "then": "it should render badge with pulsing animation loop",
      "application": {
        "theme": {
          "animations": {
            "pulse": {
              "duration": "2s",
              "easing": "ease-in-out"
            }
          }
        },
        "component": "badge",
        "expectedCSS": "animation: pulse 2s ease-in-out infinite;",
        "expectedDOM": "<span data-testid=\"notification-badge\" class=\"animate-pulse\" style=\"animation: pulse 2s ease-in-out infinite;\">3</span>",
        "assertions": [
          "Animation token: theme.animations.pulse",
          "Applied as: style=\"animation: pulse 2s ease-in-out infinite;\"",
          "Visual result: Badge pulses continuously (infinite loop)",
          "Draws user attention to notifications"
        ]
      }
    },
    {
      "id": "APP-THEME-ANIMATIONS-APPLICATION-003",
      "given": "transition animation applied to button hover state",
      "when": "button uses theme.animations.transition for smooth state changes",
      "then": "it should render button with CSS transition on hover",
      "application": {
        "theme": {
          "animations": {
            "transition": {
              "duration": "200ms",
              "easing": "ease-in-out"
            }
          }
        },
        "component": "button",
        "expectedCSS": "transition: all 200ms ease-in-out;",
        "expectedDOM": "<button data-testid=\"action-button\" style=\"transition: all 200ms ease-in-out;\">Hover me</button>",
        "assertions": [
          "Transition token: theme.animations.transition",
          "Applied as: style=\"transition: all 200ms ease-in-out;\"",
          "Visual result: Smooth color/transform changes on hover",
          "Enhances perceived responsiveness"
        ]
      }
    },
    {
      "id": "APP-THEME-ANIMATIONS-APPLICATION-004",
      "given": "fadeInUp entrance animation applied to hero section",
      "when": "hero section uses theme.animations.fadeInUp on page load",
      "then": "it should render hero content sliding up and fading in",
      "application": {
        "theme": {
          "animations": {
            "fadeInUp": {
              "duration": "600ms",
              "easing": "cubic-bezier(0.4, 0, 0.2, 1)",
              "keyframes": {
                "0%": {
                  "opacity": 0,
                  "transform": "translateY(20px)"
                },
                "100%": {
                  "opacity": 1,
                  "transform": "translateY(0)"
                }
              }
            }
          }
        },
        "component": "hero",
        "expectedCSS": "animation: fadeInUp 600ms cubic-bezier(0.4, 0, 0.2, 1);",
        "expectedDOM": "<section data-testid=\"hero-section\" class=\"animate-fade-in-up\" style=\"animation: fadeInUp 600ms cubic-bezier(0.4, 0, 0.2, 1);\"><h1>Welcome to Our Site</h1><p>Discover amazing features</p></section>",
        "behavior": "Content starts 20px below and invisible, slides up to final position while fading in",
        "useCases": [
          "Landing page hero sections",
          "Above-the-fold content reveal",
          "First impression animations"
        ],
        "assertions": [
          "Animation token: theme.animations.fadeInUp",
          "Keyframes: 0% (opacity: 0, translateY: 20px) → 100% (opacity: 1, translateY: 0)",
          "Visual result: Content slides up 20px while fading in over 600ms",
          "Webflow-style entrance animation for hero content"
        ]
      }
    },
    {
      "id": "APP-THEME-ANIMATIONS-APPLICATION-005",
      "given": "slideIn entrance animation applied to sidebar",
      "when": "sidebar uses theme.animations.slideIn on navigation",
      "then": "it should render sidebar sliding in from left",
      "application": {
        "theme": {
          "animations": {
            "slideIn": {
              "duration": "400ms",
              "easing": "ease-out",
              "keyframes": {
                "0%": {
                  "transform": "translateX(-100%)"
                },
                "100%": {
                  "transform": "translateX(0)"
                }
              }
            }
          }
        },
        "component": "sidebar",
        "expectedCSS": "animation: slideIn 400ms ease-out;",
        "expectedDOM": "<aside data-testid=\"mobile-sidebar\" class=\"animate-slide-in\" style=\"animation: slideIn 400ms ease-out;\"><nav>Menu items</nav></aside>",
        "behavior": "Sidebar starts off-screen left (-100%), slides into view",
        "useCases": ["Mobile navigation menus", "Off-canvas sidebars", "Drawer components"],
        "assertions": [
          "Animation token: theme.animations.slideIn",
          "Keyframes: translateX(-100%) → translateX(0)",
          "Visual result: Sidebar slides in from left over 400ms",
          "Mobile-first navigation pattern"
        ]
      }
    },
    {
      "id": "APP-THEME-ANIMATIONS-APPLICATION-006",
      "given": "fadeOut exit animation applied to toast notification",
      "when": "toast uses theme.animations.fadeOut on dismiss",
      "then": "it should render toast fading out before removal",
      "application": {
        "theme": {
          "animations": {
            "fadeOut": {
              "duration": "300ms",
              "easing": "ease-out",
              "keyframes": {
                "0%": {
                  "opacity": 1
                },
                "100%": {
                  "opacity": 0
                }
              }
            }
          }
        },
        "component": "toast",
        "expectedCSS": "animation: fadeOut 300ms ease-out;",
        "expectedDOM": "<div data-testid=\"toast-notification\" class=\"animate-fade-out\" style=\"animation: fadeOut 300ms ease-out;\">Notification message</div>",
        "behavior": "Toast visible (opacity: 1) fades to invisible (opacity: 0), then removed from DOM",
        "useCases": ["Toast/snackbar dismissal", "Alert auto-hide", "Notification exit"],
        "assertions": [
          "Animation token: theme.animations.fadeOut",
          "Keyframes: opacity 1 → 0",
          "Visual result: Smooth fade out before DOM removal",
          "Prevents jarring instant disappearance"
        ]
      }
    },
    {
      "id": "APP-THEME-ANIMATIONS-APPLICATION-007",
      "given": "scaleUp entrance animation on scroll-triggered card reveal",
      "when": "card uses theme.animations.scaleUp with IntersectionObserver",
      "then": "it should render card scaling up when scrolled into view",
      "application": {
        "theme": {
          "animations": {
            "scaleUp": {
              "duration": "500ms",
              "easing": "cubic-bezier(0.34, 1.56, 0.64, 1)",
              "keyframes": {
                "0%": {
                  "opacity": 0,
                  "transform": "scale(0.8)"
                },
                "100%": {
                  "opacity": 1,
                  "transform": "scale(1)"
                }
              }
            }
          }
        },
        "component": "card",
        "trigger": "IntersectionObserver (when card enters viewport)",
        "expectedCSS": "animation: scaleUp 500ms cubic-bezier(0.34, 1.56, 0.64, 1);",
        "expectedDOM": "<div data-testid=\"feature-card\" class=\"animate-scale-up\" style=\"animation: scaleUp 500ms cubic-bezier(0.34, 1.56, 0.64, 1);\"><h3>Feature Title</h3><p>Description</p></div>",
        "behavior": "Card starts small (scale: 0.8) and invisible, scales up with slight overshoot (elastic easing)",
        "useCases": [
          "Scroll-triggered card reveals",
          "Feature section animations",
          "Portfolio item reveals",
          "Webflow scroll interactions"
        ],
        "assertions": [
          "Animation token: theme.animations.scaleUp",
          "Trigger: IntersectionObserver detects viewport entry",
          "Keyframes: scale(0.8) + opacity 0 → scale(1) + opacity 1",
          "Elastic easing: cubic-bezier(0.34, 1.56, 0.64, 1) creates bounce effect",
          "Visual result: Card pops into view with elastic bounce"
        ]
      }
    },
    {
      "id": "APP-THEME-ANIMATIONS-APPLICATION-008",
      "given": "float animation applied to floating action button (FAB)",
      "when": "FAB uses theme.animations.float for continuous hover effect",
      "then": "it should render button gently floating up and down",
      "application": {
        "theme": {
          "animations": {
            "float": {
              "duration": "3s",
              "easing": "ease-in-out",
              "keyframes": {
                "0%, 100%": {
                  "transform": "translateY(0)"
                },
                "50%": {
                  "transform": "translateY(-10px)"
                }
              }
            }
          }
        },
        "component": "fab",
        "expectedCSS": "animation: float 3s ease-in-out infinite;",
        "expectedDOM": "<button data-testid=\"fab-button\" class=\"animate-float\" style=\"animation: float 3s ease-in-out infinite;\">+</button>",
        "behavior": "Button continuously moves up 10px and back down in 3s cycle",
        "useCases": [
          "Floating action buttons (FAB)",
          "Call-to-action emphasis",
          "Attention-grabbing subtle motion"
        ],
        "assertions": [
          "Animation token: theme.animations.float",
          "Keyframes: translateY(0) → translateY(-10px) → translateY(0)",
          "Infinite loop: animation-iteration-count: infinite",
          "Visual result: Gentle vertical floating motion",
          "Draws attention without being distracting"
        ]
      }
    },
    {
      "id": "APP-THEME-ANIMATIONS-APPLICATION-009",
      "given": "hover animation for button scale interaction",
      "when": "button uses theme.animations.transition for hover scale",
      "then": "it should render button scaling up smoothly on hover",
      "application": {
        "theme": {
          "animations": {
            "transition": {
              "duration": "200ms",
              "easing": "ease-in-out"
            }
          }
        },
        "component": "button",
        "interaction": "hover",
        "expectedCSS": "transition: transform 200ms ease-in-out; &:hover { transform: scale(1.05); }",
        "expectedDOM": "<button data-testid=\"cta-button\" style=\"transition: transform 200ms ease-in-out;\" onMouseEnter=\"this.style.transform='scale(1.05)'\" onMouseLeave=\"this.style.transform='scale(1)'\">Buy Now</button>",
        "behavior": "Button scales up to 105% on hover, returns to 100% on mouse leave",
        "useCases": [
          "Button hover micro-interactions",
          "Card hover effects",
          "Interactive element feedback",
          "WordPress-style button animations"
        ],
        "assertions": [
          "Transition token: theme.animations.transition",
          "Applied to: transform property",
          "Hover state: transform: scale(1.05) (5% larger)",
          "Visual result: Button grows slightly on hover",
          "Provides tactile feedback for interactivity"
        ]
      }
    },
    {
      "id": "APP-THEME-ANIMATIONS-APPLICATION-010",
      "given": "stagger animation for list items",
      "when": "list items use theme.animations.fadeIn with incremental delays",
      "then": "it should render list items appearing one after another",
      "application": {
        "theme": {
          "animations": {
            "fadeIn": {
              "duration": "400ms",
              "easing": "ease-out"
            }
          }
        },
        "component": "list",
        "pattern": "stagger",
        "expectedCSS": ".list-item:nth-child(1) { animation-delay: 0ms; } .list-item:nth-child(2) { animation-delay: 100ms; } .list-item:nth-child(3) { animation-delay: 200ms; }",
        "expectedDOM": "<ul data-testid=\"feature-list\"><li class=\"animate-fade-in\" style=\"animation: fadeIn 400ms ease-out; animation-delay: 0ms;\">Feature 1</li><li class=\"animate-fade-in\" style=\"animation: fadeIn 400ms ease-out; animation-delay: 100ms;\">Feature 2</li><li class=\"animate-fade-in\" style=\"animation: fadeIn 400ms ease-out; animation-delay: 200ms;\">Feature 3</li></ul>",
        "behavior": "Each list item fades in sequentially with 100ms stagger delay",
        "useCases": [
          "Feature lists",
          "Pricing cards",
          "Navigation menu items",
          "Sequential content reveals (Webflow-style)"
        ],
        "assertions": [
          "Animation token: theme.animations.fadeIn",
          "Stagger pattern: Each item delayed by 100ms increment",
          "Item 1: 0ms, Item 2: 100ms, Item 3: 200ms, etc.",
          "Visual result: Cascading entrance animation",
          "Creates sense of content loading progressively"
        ]
      }
    },
    {
      "id": "APP-THEME-ANIMATIONS-APPLICATION-011",
      "given": "rotate animation for loading spinner",
      "when": "spinner uses theme.animations.rotate for continuous rotation",
      "then": "it should render spinner rotating infinitely",
      "application": {
        "theme": {
          "animations": {
            "rotate": {
              "duration": "1s",
              "easing": "linear",
              "keyframes": {
                "0%": {
                  "transform": "rotate(0deg)"
                },
                "100%": {
                  "transform": "rotate(360deg)"
                }
              }
            }
          }
        },
        "component": "spinner",
        "expectedCSS": "animation: rotate 1s linear infinite;",
        "expectedDOM": "<div data-testid=\"loading-spinner\" class=\"animate-rotate\" style=\"animation: rotate 1s linear infinite;\"><svg>...</svg></div>",
        "behavior": "Spinner rotates 360 degrees continuously at constant speed",
        "useCases": ["Loading indicators", "Progress spinners", "Async operation feedback"],
        "assertions": [
          "Animation token: theme.animations.rotate",
          "Keyframes: rotate(0deg) → rotate(360deg)",
          "Easing: linear (constant speed, no acceleration)",
          "Infinite loop: continuous rotation",
          "Visual result: Smooth loading spinner"
        ]
      }
    },
    {
      "id": "APP-THEME-ANIMATIONS-APPLICATION-012",
      "given": "shake animation for form validation error",
      "when": "input field uses theme.animations.shake on invalid submission",
      "then": "it should render input shaking horizontally to indicate error",
      "application": {
        "theme": {
          "animations": {
            "shake": {
              "duration": "500ms",
              "easing": "ease-in-out",
              "keyframes": {
                "0%, 100%": {
                  "transform": "translateX(0)"
                },
                "10%, 30%, 50%, 70%, 90%": {
                  "transform": "translateX(-10px)"
                },
                "20%, 40%, 60%, 80%": {
                  "transform": "translateX(10px)"
                }
              }
            }
          }
        },
        "component": "input",
        "trigger": "form validation error",
        "expectedCSS": "animation: shake 500ms ease-in-out;",
        "expectedDOM": "<input data-testid=\"email-input\" class=\"animate-shake\" style=\"animation: shake 500ms ease-in-out; border-color: red;\" aria-invalid=\"true\" />",
        "behavior": "Input shakes left-right rapidly to draw attention to error",
        "useCases": [
          "Form validation feedback",
          "Invalid input indication",
          "Error state micro-interaction"
        ],
        "assertions": [
          "Animation token: theme.animations.shake",
          "Keyframes: alternating -10px/+10px translateX",
          "Visual result: Horizontal shake effect (5 oscillations)",
          "Provides immediate visual feedback for errors",
          "Accessible: combined with aria-invalid and border color"
        ]
      }
    },
    {
      "id": "APP-THEME-ANIMATIONS-APPLICATION-013",
      "given": "parallax scroll animation for background image",
      "when": "hero background uses theme.animations.parallax on scroll",
      "then": "it should render background moving slower than foreground (parallax effect)",
      "application": {
        "theme": {
          "animations": {
            "parallax": {
              "easing": "linear"
            }
          }
        },
        "component": "hero-background",
        "trigger": "scroll event",
        "expectedCSS": "transform: translateY(calc(scrollY * 0.5));",
        "expectedDOM": "<div data-testid=\"hero-section\" style=\"position: relative; overflow: hidden;\"><div data-testid=\"hero-background\" style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-image: url('hero.jpg'); transform: translateY(0); will-change: transform;\"></div><div data-testid=\"hero-content\">Content</div></div>",
        "behavior": "Background moves at 50% speed of scroll (parallax factor: 0.5)",
        "implementation": "JavaScript: background.style.transform = `translateY(${scrollY * 0.5}px)`",
        "useCases": [
          "Parallax scroll effects (Webflow-style)",
          "Hero section depth",
          "Immersive scrolling experiences"
        ],
        "assertions": [
          "Animation token: theme.animations.parallax",
          "Parallax factor: 0.5 (background moves at half speed)",
          "Visual result: Creates depth illusion on scroll",
          "Performance: uses transform (GPU-accelerated)",
          "Webflow/WordPress parallax effect"
        ]
      }
    },
    {
      "id": "APP-THEME-ANIMATIONS-APPLICATION-014",
      "given": "typewriter animation for text reveal",
      "when": "heading uses theme.animations.typewriter for character-by-character reveal",
      "then": "it should render text appearing one character at a time",
      "application": {
        "theme": {
          "animations": {
            "typewriter": {
              "duration": "4s",
              "easing": "steps(40, end)",
              "keyframes": {
                "0%": {
                  "width": "0"
                },
                "100%": {
                  "width": "100%"
                }
              }
            }
          }
        },
        "component": "heading",
        "expectedCSS": "animation: typewriter 4s steps(40, end); overflow: hidden; white-space: nowrap;",
        "expectedDOM": "<h1 data-testid=\"hero-heading\" style=\"animation: typewriter 4s steps(40, end); overflow: hidden; white-space: nowrap; border-right: 2px solid;\">Welcome to our website</h1>",
        "behavior": "Text width grows from 0 to 100% in 40 discrete steps (character-by-character)",
        "useCases": ["Hero heading reveals", "Terminal-style text", "Code demo animations"],
        "assertions": [
          "Animation token: theme.animations.typewriter",
          "Keyframes: width 0% → 100%",
          "Easing: steps(40, end) creates discrete character steps",
          "Visual result: Typewriter effect (text appears letter by letter)",
          "Optional: blinking cursor with border-right"
        ]
      }
    },
    {
      "id": "APP-THEME-ANIMATIONS-APPLICATION-015",
      "given": "reduced motion preference respected",
      "when": "user has prefers-reduced-motion enabled",
      "then": "it should disable animations or use simplified versions",
      "application": {
        "theme": {
          "animations": {
            "fadeIn": {
              "duration": "300ms",
              "enabled": true
            }
          }
        },
        "component": "modal",
        "mediaQuery": "@media (prefers-reduced-motion: reduce)",
        "expectedCSS": "@media (prefers-reduced-motion: reduce) { .animate-fade-in { animation: none; opacity: 1; } }",
        "expectedDOM": "<div data-testid=\"modal\" class=\"animate-fade-in\" style=\"animation: fadeIn 300ms; /* disabled if prefers-reduced-motion */\">Modal content</div>",
        "behavior": "Animations disabled for users with motion sensitivity (accessibility)",
        "useCases": [
          "Accessibility compliance",
          "Vestibular disorder support",
          "WCAG 2.1 Level AAA (Animation from Interactions)"
        ],
        "assertions": [
          "Respects prefers-reduced-motion media query",
          "Animations disabled or simplified for affected users",
          "Content still visible (opacity: 1 immediately)",
          "Accessibility best practice",
          "Prevents motion sickness for sensitive users"
        ]
      }
    },
    {
      "id": "APP-THEME-ANIMATIONS-REGRESSION-001",
      "given": "complete application configuration with all features",
      "when": "user completes full workflow",
      "then": "user can complete full animations workflow",
      "workflow": [
        {
          "step": 1,
          "action": "User defines animation library in theme.animations with common animations (fadeIn, slideUp, pulse, rotate)",
          "validation": "All animation tokens validate with duration, easing, and keyframes properties",
          "expectedState": "Animation design system established with reusable motion tokens"
        },
        {
          "step": 2,
          "action": "System generates CSS @keyframes rules for all custom animations with keyframe definitions",
          "validation": "CSS contains @keyframes rules matching theme.animations configuration",
          "expectedState": "Animation keyframes available for component usage via CSS"
        },
        {
          "step": 3,
          "action": "User applies animation tokens to components (entrance: fadeIn, attention: pulse, interaction: transition)",
          "validation": "Components reference animation tokens via CSS classes or style attributes",
          "expectedState": "Components animated with theme-consistent motion design"
        },
        {
          "step": 4,
          "action": "Browser renders animations with correct timing, easing, and motion behavior",
          "validation": "Visual motion matches animation token definitions (duration, easing, keyframes)",
          "expectedState": "Motion design system visible in UI with smooth, coordinated animations"
        },
        {
          "step": 5,
          "action": "System respects prefers-reduced-motion media query for accessibility",
          "validation": "Animations disabled or simplified when user has motion sensitivity preferences",
          "expectedState": "Accessible motion: animations conditionally applied based on user preferences"
        }
      ],
      "application": {
        "completeExample": {
          "theme": {
            "animations": {
              "fadeIn": {
                "enabled": true,
                "duration": "400ms",
                "easing": "ease-out",
                "keyframes": {
                  "0%": { "opacity": 0 },
                  "100%": { "opacity": 1 }
                }
              },
              "fadeInUp": {
                "enabled": true,
                "duration": "600ms",
                "easing": "cubic-bezier(0.4, 0, 0.2, 1)",
                "keyframes": {
                  "0%": { "opacity": 0, "transform": "translateY(20px)" },
                  "100%": { "opacity": 1, "transform": "translateY(0)" }
                }
              },
              "slideIn": {
                "enabled": true,
                "duration": "400ms",
                "easing": "ease-out",
                "keyframes": {
                  "0%": { "transform": "translateX(-100%)" },
                  "100%": { "transform": "translateX(0)" }
                }
              },
              "pulse": {
                "enabled": true,
                "duration": "2s",
                "easing": "ease-in-out"
              },
              "rotate": {
                "enabled": true,
                "duration": "1s",
                "easing": "linear",
                "keyframes": {
                  "0%": { "transform": "rotate(0deg)" },
                  "100%": { "transform": "rotate(360deg)" }
                }
              },
              "scaleUp": {
                "enabled": true,
                "duration": "500ms",
                "easing": "cubic-bezier(0.34, 1.56, 0.64, 1)",
                "keyframes": {
                  "0%": { "opacity": 0, "transform": "scale(0.8)" },
                  "100%": { "opacity": 1, "transform": "scale(1)" }
                }
              },
              "float": {
                "enabled": true,
                "duration": "3s",
                "easing": "ease-in-out",
                "keyframes": {
                  "0%, 100%": { "transform": "translateY(0)" },
                  "50%": { "transform": "translateY(-10px)" }
                }
              },
              "shake": {
                "enabled": true,
                "duration": "500ms",
                "easing": "ease-in-out",
                "keyframes": {
                  "0%, 100%": { "transform": "translateX(0)" },
                  "10%, 30%, 50%, 70%, 90%": { "transform": "translateX(-10px)" },
                  "20%, 40%, 60%, 80%": { "transform": "translateX(10px)" }
                }
              },
              "transition": {
                "duration": "200ms",
                "easing": "ease-in-out"
              }
            }
          },
          "components": {
            "modal": { "animation": "fadeIn" },
            "hero": { "animation": "fadeInUp" },
            "sidebar": { "animation": "slideIn" },
            "badge": { "animation": "pulse" },
            "spinner": { "animation": "rotate" },
            "card": { "animation": "scaleUp", "trigger": "scroll-into-view" },
            "fab": { "animation": "float" },
            "input": { "animation": "shake", "trigger": "validation-error" },
            "button": { "transition": "all 200ms ease-in-out" }
          }
        },
        "expectedCSS": "@keyframes fadeIn { 0% { opacity: 0; } 100% { opacity: 1; } }\n@keyframes fadeInUp { 0% { opacity: 0; transform: translateY(20px); } 100% { opacity: 1; transform: translateY(0); } }\n@keyframes slideIn { 0% { transform: translateX(-100%); } 100% { transform: translateX(0); } }\n@keyframes rotate { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }\n@keyframes scaleUp { 0% { opacity: 0; transform: scale(0.8); } 100% { opacity: 1; transform: scale(1); } }\n@keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }\n@keyframes shake { 0%, 100% { transform: translateX(0); } 10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); } 20%, 40%, 60%, 80% { transform: translateX(10px); } }\n\n.animate-fade-in { animation: fadeIn 400ms ease-out; }\n.animate-fade-in-up { animation: fadeInUp 600ms cubic-bezier(0.4, 0, 0.2, 1); }\n.animate-slide-in { animation: slideIn 400ms ease-out; }\n.animate-pulse { animation: pulse 2s ease-in-out infinite; }\n.animate-rotate { animation: rotate 1s linear infinite; }\n.animate-scale-up { animation: scaleUp 500ms cubic-bezier(0.34, 1.56, 0.64, 1); }\n.animate-float { animation: float 3s ease-in-out infinite; }\n.animate-shake { animation: shake 500ms ease-in-out; }\n.transition-all { transition: all 200ms ease-in-out; }\n\n@media (prefers-reduced-motion: reduce) {\n  .animate-fade-in,\n  .animate-fade-in-up,\n  .animate-slide-in,\n  .animate-pulse,\n  .animate-rotate,\n  .animate-scale-up,\n  .animate-float,\n  .animate-shake { animation: none; opacity: 1; transform: none; }\n  .transition-all { transition: none; }\n}",
        "expectedDOM": "<!-- Modal with fadeIn entrance animation -->\n<div data-testid=\"modal\" class=\"animate-fade-in\" style=\"animation: fadeIn 400ms ease-out;\">\n  <div class=\"modal-content\">Modal content</div>\n</div>\n\n<!-- Hero section with fadeInUp entrance animation -->\n<section data-testid=\"hero-section\" class=\"animate-fade-in-up\" style=\"animation: fadeInUp 600ms cubic-bezier(0.4, 0, 0.2, 1);\">\n  <h1>Welcome to Our Site</h1>\n  <p>Discover amazing features</p>\n</section>\n\n<!-- Mobile sidebar with slideIn animation -->\n<aside data-testid=\"mobile-sidebar\" class=\"animate-slide-in\" style=\"animation: slideIn 400ms ease-out;\">\n  <nav>Menu items</nav>\n</aside>\n\n<!-- Notification badge with pulse animation (infinite loop) -->\n<span data-testid=\"notification-badge\" class=\"animate-pulse\" style=\"animation: pulse 2s ease-in-out infinite;\">3</span>\n\n<!-- Loading spinner with rotate animation (infinite loop) -->\n<div data-testid=\"loading-spinner\" class=\"animate-rotate\" style=\"animation: rotate 1s linear infinite;\">\n  <svg>...</svg>\n</div>\n\n<!-- Card with scaleUp animation (scroll-triggered) -->\n<div data-testid=\"feature-card\" class=\"animate-scale-up\" style=\"animation: scaleUp 500ms cubic-bezier(0.34, 1.56, 0.64, 1);\">\n  <h3>Feature Title</h3>\n  <p>Description</p>\n</div>\n\n<!-- Floating action button with float animation (infinite loop) -->\n<button data-testid=\"fab-button\" class=\"animate-float\" style=\"animation: float 3s ease-in-out infinite;\">+</button>\n\n<!-- Input with shake animation (validation error) -->\n<input data-testid=\"email-input\" class=\"animate-shake\" style=\"animation: shake 500ms ease-in-out; border-color: red;\" aria-invalid=\"true\" />\n\n<!-- Button with transition on hover -->\n<button data-testid=\"cta-button\" class=\"transition-all\" style=\"transition: all 200ms ease-in-out;\" onMouseEnter=\"this.style.transform='scale(1.05)'\" onMouseLeave=\"this.style.transform='scale(1)'\">Hover me</button>\n\n<!-- Staggered list items with fadeIn animation -->\n<ul data-testid=\"feature-list\">\n  <li class=\"animate-fade-in\" style=\"animation: fadeIn 400ms ease-out; animation-delay: 0ms;\">Feature 1</li>\n  <li class=\"animate-fade-in\" style=\"animation: fadeIn 400ms ease-out; animation-delay: 100ms;\">Feature 2</li>\n  <li class=\"animate-fade-in\" style=\"animation: fadeIn 400ms ease-out; animation-delay: 200ms;\">Feature 3</li>\n</ul>",
        "assertions": [
          "Animation library defined in theme.animations with 9 animations (fadeIn, fadeInUp, slideIn, pulse, rotate, scaleUp, float, shake, transition)",
          "CSS @keyframes generated for all animations with custom keyframe definitions",
          "Entrance animations: fadeIn (modal), fadeInUp (hero), slideIn (sidebar), scaleUp (card)",
          "Attention animations: pulse (badge), float (FAB), shake (error input)",
          "Loading animation: rotate (spinner) with linear easing and infinite loop",
          "Interactive animations: transition (button hover) with 200ms smooth state changes",
          "Scroll-triggered animations: scaleUp on card with IntersectionObserver integration",
          "Staggered animations: fadeIn with incremental delays (0ms, 100ms, 200ms) for sequential reveals",
          "Error feedback: shake animation on form validation errors",
          "Accessibility: prefers-reduced-motion media query disables animations for motion-sensitive users",
          "Performance: GPU-accelerated transforms (translateY, scale, rotate) instead of layout-shifting properties",
          "Webflow-style motion design: elastic easing (cubic-bezier(0.34, 1.56, 0.64, 1)) creates bounce effects"
        ]
      },
      "integrationPoints": [
        "Theme design tokens: animations defined in theme.animations as reusable motion tokens",
        "CSS generation: @keyframes rules generated from animation keyframes property",
        "Component library: all UI components can reference animation tokens via CSS classes",
        "Responsive design: animations can vary by breakpoint (e.g., mobile: simplified, desktop: elaborate)",
        "Color integration: animations can include color transitions using theme.colors tokens",
        "Typography integration: typewriter animation reveals text using font-related properties",
        "Scroll interactions: IntersectionObserver triggers animations when elements enter viewport (Webflow pattern)",
        "Form validation: shake animation provides immediate visual feedback for input errors",
        "Accessibility standards: prefers-reduced-motion media query ensures WCAG 2.1 compliance",
        "Performance optimization: will-change CSS property hints browser for transform animations (parallax, scroll effects)"
      ]
    }
  ]
}
