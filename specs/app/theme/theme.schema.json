{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "theme.schema.json",
  "title": "Theme Configuration",
  "description": "Design tokens for colors, typography, spacing, and animations",
  "type": "object",
  "properties": {
    "colors": {
      "$ref": "./colors/colors.schema.json"
    },
    "fonts": {
      "$ref": "./fonts/fonts.schema.json"
    },
    "spacing": {
      "$ref": "./spacing/spacing.schema.json"
    },
    "animations": {
      "$ref": "./animations/animations.schema.json"
    },
    "breakpoints": {
      "$ref": "./breakpoints/breakpoints.schema.json"
    },
    "shadows": {
      "$ref": "./shadows/shadows.schema.json"
    },
    "borderRadius": {
      "$ref": "./border-radius/border-radius.schema.json"
    }
  },
  "additionalProperties": false,
  "examples": [
    {
      "colors": {
        "primary": "#007bff",
        "secondary": "#6c757d",
        "success": "#28a745"
      },
      "fonts": {
        "body": {
          "family": "Inter",
          "fallback": "sans-serif"
        }
      },
      "spacing": {
        "section": "4rem",
        "container": "80rem",
        "gap": "1rem"
      }
    }
  ],
  "x-specs": [
    {
      "id": "APP-THEME-001",
      "given": "a theme with only colors defined",
      "when": "minimal theme configuration is needed",
      "then": "it should validate theme with colors as the only design token category",
      "validation": {
        "setup": {
          "theme": {
            "colors": {
              "primary": "#007bff",
              "secondary": "#6c757d"
            }
          }
        },
        "assertions": [
          "Theme validates with only colors property",
          "All other token categories (fonts, spacing, animations, etc.) are optional",
          "Minimal theme enables color-only design systems"
        ]
      }
    },
    {
      "id": "APP-THEME-002",
      "given": "a theme with colors and fonts configured",
      "when": "basic branding is defined",
      "then": "it should validate color palette and typography system",
      "validation": {
        "setup": {
          "theme": {
            "colors": {
              "primary": "#007bff",
              "text": "#212529"
            },
            "fonts": {
              "body": {
                "family": "Inter",
                "fallback": "sans-serif"
              }
            }
          }
        },
        "assertions": [
          "Theme validates with colors and fonts",
          "Colors define visual identity (primary, text)",
          "Fonts define typography (body font)",
          "Basic branding system established"
        ]
      }
    },
    {
      "id": "APP-THEME-003",
      "given": "a theme with colors, fonts, and spacing",
      "when": "core design system is configured",
      "then": "it should validate visual identity, typography, and layout tokens",
      "validation": {
        "setup": {
          "theme": {
            "colors": {
              "primary": "#007bff"
            },
            "fonts": {
              "body": {
                "family": "Inter"
              }
            },
            "spacing": {
              "section": "4rem",
              "gap": "1rem"
            }
          }
        },
        "assertions": [
          "Theme validates with 3 core token categories",
          "Colors: visual identity",
          "Fonts: typography system",
          "Spacing: layout rhythm",
          "Core design system complete"
        ]
      }
    },
    {
      "id": "APP-THEME-004",
      "given": "a complete theme with all 7 design token categories",
      "when": "comprehensive design system is defined",
      "then": "it should validate and orchestrate all design token categories",
      "validation": {
        "setup": {
          "theme": {
            "colors": {
              "primary": "#007bff"
            },
            "fonts": {
              "body": {
                "family": "Inter"
              }
            },
            "spacing": {
              "section": "4rem"
            },
            "animations": {
              "fadeIn": true
            },
            "breakpoints": {
              "md": "768px"
            },
            "shadows": {
              "md": "0 4px 6px -1px rgb(0 0 0 / 0.1)"
            },
            "borderRadius": {
              "md": "0.375rem"
            }
          }
        },
        "assertions": [
          "Theme validates with all 7 token categories",
          "Complete design system: colors, fonts, spacing, animations, breakpoints, shadows, borderRadius",
          "Each category references its sub-schema",
          "Comprehensive theme enables full UI customization"
        ]
      }
    },
    {
      "id": "APP-THEME-005",
      "given": "a theme with breakpoints matching responsive system",
      "when": "responsive breakpoints are configured",
      "then": "it should ensure consistency between theme.breakpoints and responsive variants",
      "validation": {
        "setup": {
          "theme": {
            "breakpoints": {
              "sm": "640px",
              "md": "768px",
              "lg": "1024px"
            }
          },
          "responsiveSystem": {
            "supportedBreakpoints": ["sm", "md", "lg"]
          }
        },
        "assertions": [
          "Theme breakpoints define responsive system thresholds",
          "Breakpoint names (sm, md, lg) match responsive.schema.json variants",
          "Consistency ensures responsive utilities work correctly",
          "Cross-schema integration validated"
        ]
      }
    },
    {
      "id": "APP-THEME-006",
      "given": "a theme with animations matching interaction system",
      "when": "animation library is defined",
      "then": "it should provide animations reusable in interactions.schema.json",
      "validation": {
        "setup": {
          "theme": {
            "animations": {
              "fadeIn": true,
              "slideIn": "slide-in 0.5s ease-out",
              "pulse": {
                "duration": "2s",
                "easing": "ease-in-out"
              }
            }
          }
        },
        "assertions": [
          "Theme animations define reusable animation library",
          "Animations available for interactions.schema.json references",
          "Animation tokens enable consistent motion design",
          "Integration point between theme and interactions"
        ]
      }
    },
    {
      "id": "APP-THEME-007",
      "given": "a theme following design system best practices",
      "when": "all tokens use semantic naming and progressive scales",
      "then": "it should enable consistent UI across entire application",
      "validation": {
        "setup": {
          "theme": {
            "colors": {
              "primary": "#007bff",
              "primary-hover": "#0056b3",
              "primary-light": "#e7f1ff"
            },
            "spacing": {
              "gap": "1rem",
              "gapSmall": "0.5rem",
              "gapLarge": "1.5rem"
            },
            "shadows": {
              "sm": "0 1px 2px 0 rgb(0 0 0 / 0.05)",
              "md": "0 4px 6px -1px rgb(0 0 0 / 0.1)",
              "lg": "0 10px 15px -3px rgb(0 0 0 / 0.1)"
            }
          }
        },
        "assertions": [
          "Semantic naming: 'primary' (not 'blue'), 'gap' (not 'space-4')",
          "Progressive scales: small → medium → large",
          "Variant naming: -hover, -light for derivatives",
          "Best practices enable predictable, maintainable design system"
        ]
      }
    },
    {
      "id": "APP-THEME-008",
      "given": "a theme with Tailwind-compatible tokens",
      "when": "spacing and other values use Tailwind syntax",
      "then": "it should integrate seamlessly with Tailwind CSS",
      "validation": {
        "setup": {
          "theme": {
            "spacing": {
              "section": "4rem",
              "container": "80rem"
            },
            "breakpoints": {
              "sm": "640px",
              "md": "768px",
              "lg": "1024px"
            }
          },
          "tailwindIntegration": "Tokens can be referenced in tailwind.config.js extend.spacing and extend.screens"
        },
        "assertions": [
          "Spacing values use rem units (Tailwind-compatible)",
          "Breakpoints use px units (Tailwind standard)",
          "Token structure maps to Tailwind config",
          "Seamless integration with Tailwind CSS"
        ]
      }
    },
    {
      "id": "APP-THEME-INTEGRATION-001",
      "given": "a complete theme with multiple design tokens used in page component",
      "when": "page sections reference theme.colors, theme.fonts, theme.spacing, theme.shadows, theme.borderRadius",
      "then": "it should render cohesive UI with all theme tokens applied together",
      "application": {
        "theme": {
          "colors": {
            "primary": "#007bff",
            "text": "#212529",
            "background": "#ffffff"
          },
          "fonts": {
            "title": {
              "family": "Bely Display",
              "weight": 700,
              "size": "2.5rem"
            },
            "body": {
              "family": "Inter",
              "size": "1rem"
            }
          },
          "spacing": {
            "section": "4rem",
            "container": "80rem",
            "gap": "1.5rem"
          },
          "shadows": {
            "md": "0 4px 6px -1px rgb(0 0 0 / 0.1)"
          },
          "borderRadius": {
            "lg": "0.5rem"
          }
        },
        "component": "hero-section",
        "expectedCSS": "background-color: #ffffff; padding: 4rem 0; font-family: 'Bely Display'; color: #212529; box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1); border-radius: 0.5rem; gap: 1.5rem;",
        "expectedDOM": "<section data-testid=\"hero-section\" style=\"background-color: #ffffff; padding: 4rem 0;\"><div style=\"max-width: 80rem; margin: 0 auto; display: flex; flex-direction: column; gap: 1.5rem;\"><h1 style=\"font-family: 'Bely Display'; font-weight: 700; font-size: 2.5rem; color: #212529;\">Hero Title</h1><button style=\"background-color: #007bff; color: #ffffff; padding: 1rem 2rem; border-radius: 0.5rem; box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1); font-family: 'Inter'; font-size: 1rem;\">Call to Action</button></div></section>",
        "assertions": [
          "Color integration: primary (#007bff) button, text (#212529) heading, background (#ffffff) section",
          "Font integration: Bely Display (title, 700, 2.5rem) heading, Inter (body, 1rem) button",
          "Spacing integration: section (4rem) vertical padding, container (80rem) max-width, gap (1.5rem) flex spacing",
          "Shadow integration: md shadow on button creates elevation",
          "Radius integration: lg (0.5rem) rounded button corners",
          "Complete design system: all 5 token categories work together cohesively",
          "Theme enables consistent, branded UI across entire page"
        ]
      }
    },
    {
      "id": "APP-THEME-INTEGRATION-002",
      "given": "a theme used across multiple page sections",
      "when": "different sections (header, hero, features, footer) all reference theme tokens",
      "then": "it should maintain visual consistency across entire page layout",
      "application": {
        "theme": {
          "colors": {
            "primary": "#007bff",
            "secondary": "#6c757d",
            "background": "#f8f9fa"
          },
          "spacing": {
            "section": "4rem",
            "container": "80rem"
          },
          "shadows": {
            "sm": "0 1px 2px 0 rgb(0 0 0 / 0.05)"
          }
        },
        "component": "multi-section-page",
        "expectedCSS": "All sections use: background-color: #f8f9fa; padding: 4rem 0; max-width: 80rem; Header uses primary color, Footer uses secondary color, Cards use sm shadow",
        "expectedDOM": "<div data-testid=\"full-page\"><header style=\"background-color: #007bff; padding: 4rem 0;\">...</header><section style=\"background-color: #f8f9fa; padding: 4rem 0;\"><div style=\"max-width: 80rem;\">Hero</div></section><section style=\"background-color: #f8f9fa; padding: 4rem 0;\"><div style=\"max-width: 80rem;\">Features</div></section><footer style=\"background-color: #6c757d; padding: 4rem 0;\">...</footer></div>",
        "assertions": [
          "Consistent section padding: 4rem vertical spacing across all sections",
          "Consistent container width: 80rem max-width for all content areas",
          "Consistent color usage: primary (header), secondary (footer), background (sections)",
          "Consistent elevation: sm shadow applied uniformly to cards",
          "Theme creates visual rhythm and coherence across multi-section layout",
          "Single source of truth: changing one token updates entire page"
        ]
      }
    },
    {
      "id": "APP-THEME-INTEGRATION-003",
      "given": "a theme with responsive breakpoints integrated with component layouts",
      "when": "components use both theme.spacing and theme.breakpoints for responsive design",
      "then": "it should render adaptive layouts that respond to screen size",
      "application": {
        "theme": {
          "spacing": {
            "section": "2rem",
            "sectionMd": "4rem",
            "gap": "1rem",
            "gapLg": "2rem"
          },
          "breakpoints": {
            "md": "768px",
            "lg": "1024px"
          }
        },
        "component": "responsive-grid",
        "expectedCSS": "gap: 1rem; padding: 2rem 0; @media (min-width: 768px) { padding: 4rem 0; } @media (min-width: 1024px) { gap: 2rem; }",
        "expectedDOM": "<section data-testid=\"responsive-section\" class=\"py-8 md:py-16\" style=\"padding: 2rem 0;\"><div class=\"grid gap-4 lg:gap-8\" style=\"display: grid; gap: 1rem;\">Grid items</div></section>",
        "assertions": [
          "Spacing scales with breakpoints: 2rem mobile → 4rem tablet",
          "Gap scales with breakpoints: 1rem mobile → 2rem desktop",
          "Breakpoint integration: theme.breakpoints.md (768px) and theme.breakpoints.lg (1024px) trigger spacing changes",
          "Mobile-first approach: base spacing is mobile, enhanced at larger breakpoints",
          "Theme orchestrates responsive design: spacing + breakpoints work together",
          "Single configuration: theme controls both values and thresholds"
        ]
      }
    }
  ]
}
